<!DOCTYPE html>
<html lang="zh-CN"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="动态规划 - http://localhost:1313/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/">
    <meta name="author" content="Jack - http://localhost:1313/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>动态规划</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="http://localhost:1313/style.min.d252ad53a5e6b2ae6b8c6c1661107189be3668e36c8dd61697bbe008595a7e04.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate ">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            动态规划
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2024-03-11&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2024-03-11&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            16136 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            33 分钟</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF%E5%A4%87%E8%B5%9B">蓝桥杯备赛</a>
			
			<a href="/tags/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a>
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="http://localhost:1313/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="http://localhost:1313/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#动态规划dynamic-programming">动态规划（Dynamic Programming）</a></li>
    <li><a href="#实验介绍">实验介绍</a>
      <ul>
        <li><a href="#知识点">知识点</a></li>
      </ul>
    </li>
    <li><a href="#为什么使用动态规划算法">为什么使用动态规划算法</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#动态规划背包问题">动态规划背包问题</a></li>
    <li><a href="#实验介绍-1">实验介绍</a>
      <ul>
        <li><a href="#知识点-1">知识点</a></li>
      </ul>
    </li>
    <li><a href="#背包问题">背包问题</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#动态规划线性-dp">动态规划线性 DP</a></li>
    <li><a href="#实验介绍-2">实验介绍</a>
      <ul>
        <li><a href="#知识点-2">知识点</a></li>
      </ul>
    </li>
    <li><a href="#普通线性-dp">普通线性 DP</a>
      <ul>
        <li></li>
        <li><a href="#运行限制">运行限制</a></li>
        <li><a href="#运行限制-1">运行限制</a></li>
      </ul>
    </li>
    <li><a href="#实验总结">实验总结</a></li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h2 id="动态规划dynamic-programming">动态规划（Dynamic Programming）</h2>
<h2 id="实验介绍">实验介绍</h2>
<p>本节课我们进入动态规划课程的学习，动态规划是一种多阶段的决策过程最优化的问题。</p>
<p>本课程对于算法学习非常重要，但是又比较难，我们讲解分 $3$ 个章节进行动态规划问题的讲解。</p>
<p>今天的课程是动态规划系列的第一个章节。</p>
<h3 id="知识点">知识点</h3>
<ul>
<li>动态规划的基本思想</li>
<li>动态规划问题的基本套路与步骤</li>
</ul>
<h2 id="为什么使用动态规划算法">为什么使用动态规划算法</h2>
<p>我们先回忆一下贪心问题。</p>
<p>贪心又称贪婪算法。是一种在每一步选择中都采取在当前状态下最好或最优（即最有利）的选择，从而使得问题得到全局最优解。</p>
<p><strong>它的特点：</strong></p>
<p>贪心选择性质是指所求问题的整体最优解可以通过一系列局部最优的选择，即贪心选择来达到。</p>
<p>这是贪心算法可行的第一个基本要素，也是贪心算法与动态规划算法的主要区别。</p>
<p>贪心选择性质就是，该问题的每一步选择都在选择最优的情况下能够导致最终问题的答案也是最优。</p>
<p>其实贪心和动态规划的区别，你可以理解为一个是正推，一眼就能看出来最优子结构，依次按照最优子结构选择每个过程最优选择即可。</p>
<p>而动态规划是没办法按照题目的意思直接得到最有优子结构，如下文所述:</p>
<h4 id="多阶段决策过程最优化问题">多阶段决策过程最优化问题</h4>
<p>动态规划问题，是运筹学的一个分支，动态规划主要用于求解以时间划分阶段的动态过程的优化问题。</p>
<p>在实际生活中，动态规划问题与贪心问题相似，都是完成某一事件的过程可以划分成多个阶段。</p>
<p>但是与贪心不同的是动态规划的每个状态之间都会相互影响和相互干涉，也就是说在某一阶段做出的决策会影响整个事件的最终结果。</p>
<p>因为阶段是有先后的，所以某一阶段的选取受之前阶段的影响，他也会影响后面的阶段。</p>
<p><strong>多阶段决策问题：</strong></p>
<p>多阶段决策过程问题，就是一类在每一阶段都需要做出选择，且某一阶段的决策受前面所有阶段决策后的状态影响，他的决策又会影响后续的决策。</p>
<p>这样一类问题就是多阶段决策问题。</p>
<p><strong>多阶段决策过程最优化问题：</strong></p>
<p>在多阶段决策问题中，各个阶段采取的决策，通常与时间相关，但有时又与其他的线性的变量相关。</p>
<p>我们前面说到，某个阶段的决策是在前面做完了的决策引发的某一个状态开始进行决策的。</p>
<p>而现在做的决策又会使得状态进行转移，那么又影响了下次进行决策的状态。</p>
<p>所以说作决策时的状态是动态的，规划是解决最优化问题的方式，所以解决这种多阶段决策过程最优化的方法叫做动态规划。</p>
<h4 id="动态规划中的术语解释">动态规划中的术语解释</h4>
<ul>
<li>
<p>阶段： 把所给求解问题的过程恰当地分成若干个相互联系的阶段，以便于求解，过程不同，阶段数就可能不同</p>
</li>
<li>
<p>状态： 述事物的性质，不同事物有不同的性质，因而用不同的状态来刻画。对问题的求解状态的描述是分阶段的</p>
</li>
<li>
<p>决策： 根据题意要求，对每个阶段所做出的某种选择性操作</p>
</li>
<li>
<p>策略： 由每个阶段的决策组成的序列称为策略</p>
</li>
<li>
<p>状态转移方程： 用数学公式描述与阶段相关的状态间的演变规律</p>
</li>
</ul>
<h4 id="能采用动态规划求解的问题的性质">能采用动态规划求解的问题的性质</h4>
<ul>
<li>
<p>最优化原理：</p>
<p>如果问题的最优解所包含的子问题的解也是最优的，就称该问题具有最优子结构，即满足最优化原理。</p>
</li>
<li>
<p>无后效性：</p>
<p>即某阶段状态一旦确定，就不受这个状态以后决策的影响。也就是说，某状态以后的过程不会影响以前的状态，只与当前状态有关。</p>
</li>
<li>
<p>有重叠子问题：</p>
<p>即子问题之间是不独立的，一个子问题在下一阶段决策中可能被多次使用到。（该性质并不是动态规划适用的必要条件，但是如果没有这条性质，动态规划算法同其他算法相比就不具备优势）</p>
</li>
</ul>
<h4 id="解题步骤">解题步骤</h4>
<ul>
<li>拆分问题</li>
<li>定义状态(并找出初状态)</li>
<li>找到状态转移</li>
<li>逆推找最优子结构</li>
<li>写出 DP 状态转移方程。</li>
</ul>
<h4 id="一般的模型方法">一般的模型方法</h4>
<ul>
<li>递归搜索法</li>
<li>记忆化搜索(记忆化暴力)</li>
<li>递推式法</li>
</ul>
<h4 id="经典例题数塔问题">经典例题数塔问题</h4>
<p>我们先来回顾一下我们之前讲过的数塔问题：</p>
<p><strong>题目描述:</strong></p>
<p><img src="./../images/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/06b8663e2aceb6c87e0913d2fe0710f2-0.png" alt="图片描述"></p>
<p>如图数字三角形。如下所示为一个数字三角形。请编一个程序计算从顶到底的某处的一条路径，使该路径所经过的数字总和最大。只要求输出总和。</p>
<ol>
<li>一步可沿左斜线向下或右斜线向下走；</li>
<li>三角形行数小于等于 $100$；</li>
<li>三角形中的数字为 $0，1，…，99$；</li>
</ol>
<p>测试数据通过键盘逐行输入。</p>
<p>如上例数据应以样例所示格式输入：</p>
<p><strong>样例:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>5
</span></span><span style="display:flex;"><span>7
</span></span><span style="display:flex;"><span>3 8
</span></span><span style="display:flex;"><span>8 1 0
</span></span><span style="display:flex;"><span>2 7 4 4
</span></span><span style="display:flex;"><span>4 5 2 6 5
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输出：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>30
</span></span></code></pre></div><p><strong>运行限制:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1. 最大运行时间：1s 2. 最大运行内存：128M
</span></span></code></pre></div><p><strong>题目分析:</strong></p>
<ol>
<li>
<p>定义状态 假设 <code>dp[i][j]</code> 为处理 <code>a[i][j]</code> 后能达到的最大值。</p>
</li>
<li>
<p>找出状态转移</p>
<p><code>dp[i][j]</code>怎么转移呢？按照题意他有两条路径可以转移</p>
<p><code>dp[i+1][j]=dp[i][j]+a[i+1][j]</code> 向下走</p>
<p><code>dp[i+1][j+1]=dp[i][j]+a[i+1][j+1]</code> 向右下走</p>
<p>我们有办法知道这两条路径哪条更优吗？</p>
<p>不能！因为通向了两个不同的决策过程。为什么贪心可以知道，因为贪心处理完之后通向的是同一个决策过程，这里<code>dp[i+1][j]和dp[i+1][j+1]</code>明显他们两个所能达到的状态是完全不同的，这就是动态规划和贪心的不同之处。</p>
<p>那我们怎样处理呢，我们要做的就是达到同一个状态我们才能够判断那个是最优的，这就是最优子结构。</p>
</li>
<li>
<p>逆推找最优子结构</p>
<p>虽然我们进行了逆推，但是实际上不是因为我们逆推做了什么，只是因为我们找最优子结构的过程中恰好做了逆推的过程。</p>
<p>我们要找最优子结构，我们刚才说了，要找到达同一状态的转移才能比较。那我们就考虑什么状态能够转移得到<code>dp[i][j]</code>，这时候我们直接看也能看出来是这两条路径<code>dp[i+1][j]+a[i][j],dp[i+1][j+1]+a[i][j]</code>。</p>
</li>
<li>
<p>写出状态转移方程</p>
</li>
</ol>
<p>$dp[i][j] = max{dp[i+1][j]+a[i][j],dp[i+1][j+1]+a[i][j]}$</p>
<p>空间优化，已知 <code>dp[i][j]</code> 的值只会被覆盖前使用一次，所以可以合并 <code>dp[i][j]</code> 和 <code>a[i][j]</code> 那么就变成了。</p>
<p>$a[i][j] = max{a[i][j]+a[i+1][j],a[i][j]+a[i+1][j+1]}$</p>
<p>则 逆推到出发点 <code>a[1][1]</code> 为题目所求答案，即第一层到第 <code>N</code> 层的最大值。</p>
<p><strong>答案解析：</strong></p>
<p><strong>C++ 解题代码:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> n; <span style="color:#998;font-style:italic">//n层
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#458;font-weight:bold">int</span> a[<span style="color:#099">101</span>][<span style="color:#099">101</span>]; <span style="color:#998;font-style:italic">//路径矩阵
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//输入数字三角形的值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">&lt;=</span>n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>; j<span style="color:#000;font-weight:bold">&lt;=</span>i; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>a[i][j]; <span style="color:#998;font-style:italic">//输入原始数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//递推开始
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span>n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">--</span>)<span style="color:#998;font-style:italic">//从最后一层逆推
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>; j<span style="color:#000;font-weight:bold">&lt;=</span>i; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (a[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j]<span style="color:#000;font-weight:bold">&gt;=</span>a[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>                a[i][j]<span style="color:#000;font-weight:bold">+=</span>a[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j];     <span style="color:#998;font-style:italic">//路径选择
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                a[i][j]<span style="color:#000;font-weight:bold">+=</span>a[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>a[<span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>a <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">101</span>] <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">101</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic"># 输入数字三角形的值</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>      a[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()
</span></span><span style="display:flex;"><span>      a[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, a[i]))  <span style="color:#998;font-style:italic"># split 分割后都是 字符 这里是转化成数字</span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">#</span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic"># for i in range(1, n + 1):</span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">#     print(a[i])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#998;font-style:italic"># a = list(map(int, a)) # split 分割后都是 字符 这里是转化成数字</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic"># 递推开始</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>      <span style="color:#998;font-style:italic"># 最后一层逆推</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">0</span>, i):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          <span style="color:#998;font-style:italic"># 路径选择</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">if</span> a[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j] <span style="color:#000;font-weight:bold">&gt;=</span> a[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]:
</span></span><span style="display:flex;"><span>              a[i][j] <span style="color:#000;font-weight:bold">+=</span> a[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>              a[i][j] <span style="color:#000;font-weight:bold">+=</span> a[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic"># for i in range(1, n + 1):</span>
</span></span><span style="display:flex;"><span>  <span style="color:#998;font-style:italic">#     print(a[i])</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#0086b3">print</span>(a[<span style="color:#099">1</span>][<span style="color:#099">0</span>])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">package</span><span style="color:#bbb"> </span><span style="color:#555">com.company</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[][]</span>a<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>101<span style="color:#000;font-weight:bold">][</span>101<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#998;font-style:italic">//输入数字三角形的值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>1;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">&lt;=</span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>1;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">&lt;=</span>i;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">              </span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">//输入原始数据</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#998;font-style:italic">//递推开始</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>n<span style="color:#000;font-weight:bold">-</span>1;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">&gt;=</span>1;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">--</span>)<span style="color:#998;font-style:italic">//从最后一层逆推</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>1;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">&lt;=</span>i;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">              </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]&gt;=</span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">]</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                  </span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]+=</span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">     </span><span style="color:#998;font-style:italic">//路径选择</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">              </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb">  </span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]+=</span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(a<span style="color:#000;font-weight:bold">[</span>1<span style="color:#000;font-weight:bold">][</span>1<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>其实我们在讲这道题目中所用到的思想就是动态规划。</p>
<p>我们换种方式在理解一遍。</p>
<p>在用动态规划考虑数塔问题时可以自顶向下的分析，自底向上的计算。</p>
<p>从顶点出发时到底向左走还是向右走应取决于是从左走能取到最大值还是从右走能取到最大值，只要左右两道路径上的最大值求出来了才能作出决策。</p>
<p>同样的道理下一层的走向又要取决于再下一层上的最大值是否已经求出才能决策。</p>
<p>这样一层一层推下去，直到倒数第二层时就非常明了。</p>
<p>所以第一步对第五层的 $8$ 个数据，做如下四次决策：</p>
<ul>
<li>
<p>如果经过第四层 $2$，则在第五层的 $4$ 和 $5$ 中，决策选择的肯定是 $19$</p>
</li>
<li>
<p>如果经过第四层 $7$，则在第五层的 $5$ 和 $2$ 中，决策选择的肯定是 $10$</p>
</li>
<li>
<p>如果经过第四层第一个 $4$，则在第五层的 $2$ 和 $6$ 中，决策选择的肯定是 $6$</p>
</li>
<li>
<p>如果经过第四层第二个 $4$，则在第五层的 $6$ 和 $5$ 中肯定是 $6$</p>
</li>
</ul>
<p>经过一次决策，问题降了一阶。$5$ 层数塔问题转换成 $4$ 层数塔问题，经过如此的决策，就将原来问题转换为一阶数塔问题。</p>
<p>于是我们可以用我们上面的递推求解。</p>
<p>这就是递推式法模型。</p>
<p>我们通过这道简单的例题，大家首先要去找感觉，去分解问题的状态，去找决策，去找状态转移，而笔者认为动态规划问题，感觉是最重要的。</p>
<p>有的人 $10$ 道题就能找到感觉，有的人 $100$ 道题也找不到感觉。</p>
<h4 id="游戏中的学问">游戏中的学问</h4>
<p>难度: 简单 标签: DP, JSOI, 2013</p>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/1436/learning/">https://www.lanqiao.cn/problems/1436/learning/</a></p>
<p><strong>题目描述：</strong></p>
<p>大家应该都见过很多人手拉手围着篝火跳舞的场景吧？</p>
<p>一般情况下，大家手拉手跳舞总是会围成一个大圈，每个人的左手拉着旁边朋友的右手，右手拉着另一侧朋友的左手。</p>
<p>不过，如果每一个人都随机的拉住两个不同人的手，然后再慢慢散开，事情就变得有趣多了——此时大家依旧会形成圈，不过却可能会形成多个独立的圈。</p>
<p>当然这里我们依然要求一个人的右手只能拉另一个人的左手，反之亦然。</p>
<p>班里一共有 $N$ 个同学，由 $1$ 到 $N$ 编号。Will 想知道，究竟有多少种本质不同的拉手方案，使得最终大家散开后恰好形成 $k$ 个圈呢？</p>
<p>给定两种方案，若存在一个人和他的一只手，满足在这两种方案中，拉着这只手的人的编号不同，则这两种方案本质不同。</p>
<p><strong>输入描述：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a61717;background-color:#e3d2d2">输入一行包含三个正整数</span> N k P
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">3</span>k<span style="color:#000;font-weight:bold">&lt;=</span>N<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">3000</span><span style="color:#a61717;background-color:#e3d2d2">，</span><span style="color:#099">10</span><span style="color:#000;font-weight:bold">^</span><span style="color:#099">4</span><span style="color:#000;font-weight:bold">&lt;=</span>p<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">2</span><span style="color:#a61717;background-color:#e3d2d2">×</span><span style="color:#099">10</span><span style="color:#000;font-weight:bold">^</span><span style="color:#099">9</span>
</span></span></code></pre></div><p><strong>输出描述：</strong></p>
<p>输出一行一个整数，表示本质不同的方案数对 p 的余数。保证 p 一定是一个质数。</p>
<p><strong>输入输出样例：</strong></p>
<ul>
<li>
<p>样例 1： Input：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3 1 1000000009
</span></span></code></pre></div><p>output：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>2
</span></span></code></pre></div></li>
</ul>
<p><strong>答案解析：</strong></p>
<p>题目是说随即的拉住右手，共计 N 个人形成 k 个独立环的可能的情况有多少种。</p>
<p>我们举个例子，A B C 三个人：</p>
<p><img src="./../images/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/4e9534885e67b5c512405e7d1d5c182b-0.png" alt="图片描述"></p>
<p>A 的左手是 C A 的右手是 B B 的左手是 A B 的右手是 C C 的左手是 B C 的右手是 A</p>
<p><img src="./../images/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/a0502745d207f9d9d3dfdb4bc2ad841d-0.png" alt="图片描述"></p>
<p>A 的左手是 B A 的右手是 C B 的左手是 C B 的右手是 A C 的左手是 A C 的右手是 B</p>
<p>这两种是不同的。</p>
<p>最后对 P 取模。</p>
<p>这道题目可以说是记忆化搜索，也可以说是递推法模型。</p>
<p><strong>定义状态：</strong></p>
<p>我们设 dp{i,j} 是 i 个人组成 j 个圈有多少种情况的状态</p>
<p><strong>找初始状态：</strong></p>
<p>由于最少是三个人围成 1 个圈</p>
<p>所以 dp{3,1}=2</p>
<p><strong>找状态转移：</strong></p>
<p>我们考虑 <code>dp{4,1}</code> 的时候： 由于一开始三个人之间共计 3 个空位置，它可以见缝插针，所以就有 $3 \times$ dp {$3,1$}，dp{$4,1$} = $3 \times$ dp{$3,1$}</p>
<p>接着考虑 <code>dp{x+1,y}</code> 和 <code>dp{x,y}</code> 的关系：</p>
<p>假设 <code>X</code> 个人分成了 <code>y</code> 个环后每个环得人数是 <code>X1 X2 ... Xy</code></p>
<p>对于第一个环 <code>X1</code> 来说共有 <code>X1</code> 个空</p>
<p>对于第二个环 <code>X2</code> 来说共有 <code>X2</code> 个空</p>
<p>共计 <code>X1+X2+...+Xy=X</code></p>
<p>所以共有 <code>X</code> 个空，那么第 <code>X+1</code> 个人就用 <code>X</code> 种选择可以做。</p>
<p>所以 dp{$x+1,y$} = $x \times$ dp{$x,y$}，即 dp{$i,j$}=$(i-1) \times$ dp{$i-1,j$}</p>
<p>考虑 dp{$6,1$} 和 dp{$6,2$} ：</p>
<p>大家考虑以下我们划分阶段得方式是什么，是圈数吗？</p>
<p>如果是圈数，我们发现好像{$6,1$} 和 {$6,2$} 两个状态之间没有什么关系？</p>
<p>单纯的圈数不存在关系。</p>
<p>我们思考一下，至少需要 <code>3</code> 个人才能组成一个圈。</p>
<p>所以第 <code>i</code> 个人加入时，要在前 <code>i-1</code> 个人中抽出两个人才能组成一个新圈。</p>
<p>所以原本的 dp{$i-1,j$} 的状态就变成了，dp{$i-3,j$}了。</p>
<p>由于是从 <code>i-1</code> 个人中抽出 <code>2</code> 个人所以，共计$C_{i-1}^{2}$的抽取方式，<code>3</code> 个人我们已知能组成两种方案。</p>
<p>根据组合数求方案数的方式</p>
<p>$2\times C_{i-1}^{2}=2\times \frac{(i-1)!}{(i-3)!\times2}$</p>
<p>$2\times C_{i-1}^{2}=(i-1)!/(i-3)!=(i-1)*(i-2)$</p>
<p>所以 <code>dp{i,j+1}=dp{i-3,j}×(i-1)×(i-2)</code></p>
<p>即 <code>dp{i,j}=dp{i-3,j-1}×(i-1)×(i-2)</code></p>
<p>就此我们得到状态转移方程</p>
<ul>
<li><code>dp{i,j}=dp{i-1,j}×(i-1)</code></li>
<li><code>dp{i,j}=dp{i-3,j-1}×(i-1)×(i-2)</code></li>
</ul>
<p>除此之外，我们还有要考虑的情况，即建不建立新圈都是 <code>dp{i,j}</code>的情况，所以这里不是等于，而是求和:</p>
<p><code>dp{i,j}=dp{i-1,j}×(i-1)</code></p>
<p><code>dp{i,j}=dp{i,j}+dp{i-3,j-1}×(i-1)×(i-2)</code></p>
<p>比如：</p>
<p><code>dp{7,2}</code>可以由 <code>dp{6,2}</code>转移而来</p>
<p><code>dp{7,2}</code>也可以由 <code>dp{4,1}</code>转移而来</p>
<p>为什么这两种情况没有重叠，而是绝对异构的：</p>
<p><code>dp{6,2}</code>由 <code>dp{3,1}</code>转移而来</p>
<p><code>dp{4,1}</code>由 <code>dp{3,1}</code>转移而来</p>
<p><code>dp{4,1}</code>中 <code>1-4</code> 号是在同一个圈内的。</p>
<p><code>dp{6,2}</code>中 两个圈中的任意 <code>3</code> 个在一个圈内</p>
<p>不可能出现 <code>1-4</code> 在一个圈里的这种情况。</p>
<p>所以推导 <code>dp{i,j}</code></p>
<p><code>dp{i,j}</code>由 <code>dp{i-i,j}</code>转移而来 <code>dp{i,j}</code>也可以由 <code>dp{i-3,j-1}</code> 转移而来</p>
<p><code>dp{i-i,j}</code>可以由 <code>dp{i-2,j}</code>或者 <code>dp{i-4,j-1}</code> <code>dp{i-3,j-1}</code>可以由 <code>dp{i-4,j-1}</code>或者 <code>dp{i-6,j-2}</code></p>
<p>最终还是会到 <code>3,1</code>。</p>
<p>所以通过 <code>3</code>，通过两种方式走向了完全不同的方向。</p>
<p>至此我们轻松写出代码。</p>
<p>C++ 描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cmath&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">typedef</span> <span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> LL;
</span></span><span style="display:flex;"><span>LL DP[<span style="color:#099">3100</span>][<span style="color:#099">3100</span>],mod;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n,k;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n<span style="color:#000;font-weight:bold">&gt;&gt;</span>k<span style="color:#000;font-weight:bold">&gt;&gt;</span>mod;
</span></span><span style="display:flex;"><span>    DP[<span style="color:#099">3</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">4</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;<span style="color:#099">3</span><span style="color:#000;font-weight:bold">*</span>j<span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&amp;&amp;</span>j<span style="color:#000;font-weight:bold">&lt;=</span>k;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            DP[i][j]<span style="color:#000;font-weight:bold">=</span>DP[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>)<span style="color:#000;font-weight:bold">%</span>mod;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            DP[i][j]<span style="color:#000;font-weight:bold">=</span>(DP[i][j]<span style="color:#000;font-weight:bold">+</span>DP[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">3</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>)<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>))<span style="color:#000;font-weight:bold">%</span>mod;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>DP[n][k];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Python 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n, k, mod <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DP<span style="color:#000;font-weight:bold">=</span>[[<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span> (<span style="color:#099">3100</span>)] <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span> (<span style="color:#099">3100</span>) ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DP[<span style="color:#099">3</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">4</span>,n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>,k<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#099">3</span><span style="color:#000;font-weight:bold">*</span>j<span style="color:#000;font-weight:bold">&gt;</span>i:
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        DP[i][j]<span style="color:#000;font-weight:bold">=</span>DP[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j]<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>)<span style="color:#000;font-weight:bold">%</span>mod
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        DP[i][j]<span style="color:#000;font-weight:bold">=</span>(DP[i][j]<span style="color:#000;font-weight:bold">+</span>DP[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">3</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>)<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">2</span>))<span style="color:#000;font-weight:bold">%</span>mod
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(DP[n][k])
</span></span></code></pre></div><p>java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">// 1:无需package</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">// 2: 类名必须Main, 不可修改</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">long</span><span style="color:#bbb"> </span>DP<span style="color:#000;font-weight:bold">[][]=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">long</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>3100<span style="color:#000;font-weight:bold">][</span>3100<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n,k;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span><span style="color:#bbb"> </span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>java.<span style="color:#008080">lang</span>.<span style="color:#008080">Exception</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span>k<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#458;font-weight:bold">long</span><span style="color:#bbb"> </span>mod<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextLong</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span>DP<span style="color:#000;font-weight:bold">[</span>3<span style="color:#000;font-weight:bold">][</span>1<span style="color:#000;font-weight:bold">]=</span>2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>4;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>1;3<span style="color:#000;font-weight:bold">*</span>j<span style="color:#000;font-weight:bold">&lt;=</span>i<span style="color:#000;font-weight:bold">&amp;&amp;</span>j<span style="color:#000;font-weight:bold">&lt;=</span>k;j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>DP<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>DP<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">-</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]*</span>(i<span style="color:#000;font-weight:bold">-</span>1)<span style="color:#000;font-weight:bold">%</span>mod;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>DP<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>(DP<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]+</span>DP<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">-</span>3<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">-</span>1<span style="color:#000;font-weight:bold">]*</span>(i<span style="color:#000;font-weight:bold">-</span>1)<span style="color:#000;font-weight:bold">*</span>(i<span style="color:#000;font-weight:bold">-</span>2))<span style="color:#000;font-weight:bold">%</span>mod;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(DP<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">][</span>k<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="跳跃">跳跃</h4>
<p>难度: 简单 标签: 动态规划, 搜索, 2021, 模拟赛</p>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/553/learning/">https://www.lanqiao.cn/problems/553/learning/</a></p>
<p><strong>题目描述：</strong> 开始时，小蓝站在方格图的左上角，即第 $1$ 行第 $1$ 列。</p>
<p>小蓝可以在方格图上走动，走动时，如果当前在第 $r$ 行第 $c$ 列，他不能走到行号比 $r$ 小的行，也不能走到列号比 $c$ 小的列。</p>
<p>同时，他一步走的直线距离不超过 $3$。</p>
<p>例如，如果当前小蓝在第 $3$ 行第 $5$ 列，他下一步可以走到</p>
<p>第 $3$ 行第 $6$ 列 第 $3$ 行第 $7$ 列 第 $3$ 行第 $8$ 列 第 $4$ 行第 $5$ 列 第 $4$ 行第 $6$ 列 第 $4$ 行第 $7$ 列 第 $5$ 行第 $5$ 列 第 $5$ 行第 $6$ 列 第 $6$ 行第 $5$ 列 小蓝最终要走到第 $n$ 行第 $m$ 列。</p>
<p>在图中，有的位置有奖励，走上去即可获得，有的位置有惩罚，走上去就要接受惩罚。奖励和惩罚最终抽象成一个权值，奖励为正，惩罚为负。</p>
<p>小蓝希望，从第 $1$ 行第 $1$ 列走到第 $n$ 行第 $m$ 列后，总的权值和最大。请问最大是多少？</p>
<p><strong>输入描述：</strong></p>
<p>输入的第一行包含两个整数 $n, m$，表示图的大小。</p>
<p>接下来 $n$ 行，每行 $m$ 个整数，表示方格图中每个点的权值。</p>
<p>其中，$1\leq n\leq 100$，$-10^4\leq$权值$\leq 10^4$。</p>
<p><strong>输出描述：</strong></p>
<p>输出一个整数，表示最大权值和。</p>
<p><strong>输入输出样例：</strong></p>
<ul>
<li>
<p>样例 1： Input：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3 5
</span></span><span style="display:flex;"><span>-4 -5 -10 -3 1
</span></span><span style="display:flex;"><span>7 5 -9 3 -10
</span></span><span style="display:flex;"><span>10 -2 6 -10 -4
</span></span></code></pre></div><p>output：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>15
</span></span></code></pre></div></li>
</ul>
<p><strong>运行限制:</strong></p>
<ul>
<li>最大运行时间：1s</li>
<li>最大运行内存: 128M</li>
</ul>
<p><strong>答案解析：</strong></p>
<p>由于这道题目数据较弱，大家可以使用搜索把所有情况都搜索到，每次到终点就保存最大值，知道遍历完所有的情况，然后输出最大值。</p>
<p>大家一定要写一遍 <code>DFS</code> 然后在看后边的 <code>DP</code> ,有时动态规划要从状态出发，有时动态规划又可以看成暴力搜索的剪枝。</p>
<p>我们先看一下搜索的解法：</p>
<p>因为只能向右下方移动，不存再走回头路的情况，所以不需要设置 <code>Vis</code> 数组。</p>
<p>C++ 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define MAX 105
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n, m, sum <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> map[MAX][MAX];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> nextt[<span style="color:#099">9</span>][<span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">=</span> { {<span style="color:#099">0</span>,<span style="color:#099">1</span>},{<span style="color:#099">1</span>,<span style="color:#099">0</span>},{<span style="color:#099">0</span>,<span style="color:#099">2</span>},{<span style="color:#099">2</span>,<span style="color:#099">0</span>},{<span style="color:#099">0</span>,<span style="color:#099">3</span>},{<span style="color:#099">3</span>,<span style="color:#099">0</span>},{<span style="color:#099">1</span>,<span style="color:#099">1</span>},{<span style="color:#099">1</span>,<span style="color:#099">2</span>},{<span style="color:#099">2</span>,<span style="color:#099">1</span>} };
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">dfs</span>(<span style="color:#458;font-weight:bold">int</span> x, <span style="color:#458;font-weight:bold">int</span> y,<span style="color:#458;font-weight:bold">int</span> value)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    value <span style="color:#000;font-weight:bold">+=</span> map[x][y];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (x <span style="color:#000;font-weight:bold">==</span> n <span style="color:#000;font-weight:bold">&amp;&amp;</span> y <span style="color:#000;font-weight:bold">==</span> m)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        sum<span style="color:#000;font-weight:bold">=</span>max(sum,value);
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">9</span>; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> tx <span style="color:#000;font-weight:bold">=</span> x <span style="color:#000;font-weight:bold">+</span> nextt[i][<span style="color:#099">0</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> ty <span style="color:#000;font-weight:bold">=</span> y <span style="color:#000;font-weight:bold">+</span> nextt[i][<span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (tx <span style="color:#000;font-weight:bold">&lt;=</span> n <span style="color:#000;font-weight:bold">&amp;&amp;</span> ty <span style="color:#000;font-weight:bold">&lt;=</span> m)
</span></span><span style="display:flex;"><span>            dfs(tx, ty, value);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n <span style="color:#000;font-weight:bold">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> m; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>            cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> map[i][j];
</span></span><span style="display:flex;"><span>    dfs(<span style="color:#099">1</span>, <span style="color:#099">1</span>, <span style="color:#099">0</span>);
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> sum;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Python 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">os</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">sys</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 请在此输入您的代码</span>
</span></span><span style="display:flex;"><span>n,m <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mapTable <span style="color:#000;font-weight:bold">=</span> [<span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())) <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>nextt <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span>,<span style="color:#099">1</span>],[<span style="color:#099">0</span>,<span style="color:#099">2</span>],[<span style="color:#099">0</span>,<span style="color:#099">3</span>],[<span style="color:#099">1</span>,<span style="color:#099">0</span>],[<span style="color:#099">2</span>,<span style="color:#099">0</span>],[<span style="color:#099">3</span>,<span style="color:#099">0</span>],[<span style="color:#099">1</span>,<span style="color:#099">1</span>],[<span style="color:#099">1</span>,<span style="color:#099">2</span>],[<span style="color:#099">2</span>,<span style="color:#099">1</span>]] <span style="color:#998;font-style:italic">#9种走的方式</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Sum<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">float</span>(<span style="color:#d14">&#39;-inf&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">dfs</span>(x,y,value):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">global</span> Sum
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    value<span style="color:#000;font-weight:bold">+=</span>mapTable[x][y]
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x<span style="color:#000;font-weight:bold">==</span>n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span> <span style="color:#000;font-weight:bold">and</span> y<span style="color:#000;font-weight:bold">==</span>m<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span> :
</span></span><span style="display:flex;"><span>        Sum<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">max</span>(Sum,value)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">9</span>):
</span></span><span style="display:flex;"><span>        tx <span style="color:#000;font-weight:bold">=</span> x<span style="color:#000;font-weight:bold">+</span>nextt[i][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>        ty <span style="color:#000;font-weight:bold">=</span> y<span style="color:#000;font-weight:bold">+</span>nextt[i][<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>  tx<span style="color:#000;font-weight:bold">&lt;</span>n <span style="color:#000;font-weight:bold">and</span>  ty<span style="color:#000;font-weight:bold">&lt;</span>m :
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            dfs(tx,ty,value)
</span></span><span style="display:flex;"><span>dfs(<span style="color:#099">0</span>,<span style="color:#099">0</span>,<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(Sum)
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">os</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">sys</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#a61717;background-color:#e3d2d2">#</span><span style="color:#bbb"> </span>请在此输入您的代码<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>n,m<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>map(<span style="color:#458;font-weight:bold">int</span>,input().<span style="color:#008080">strip</span>().<span style="color:#008080">split</span>())<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>mapTable<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>list(map(<span style="color:#458;font-weight:bold">int</span>,input().<span style="color:#008080">strip</span>().<span style="color:#008080">split</span>()))<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">range</span>(n)<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>nextt<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[[</span>0,1<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>0,2<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>0,3<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>1,0<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>2,0<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>3,0<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>1,1<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>1,2<span style="color:#000;font-weight:bold">]</span>,<span style="color:#000;font-weight:bold">[</span>2,1<span style="color:#000;font-weight:bold">]]</span><span style="color:#bbb"> </span><span style="color:#a61717;background-color:#e3d2d2">#</span>9种走的方式<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>Sum<span style="color:#000;font-weight:bold">=</span><span style="color:#458;font-weight:bold">float</span>(<span style="color:#a61717;background-color:#e3d2d2">&#39;</span><span style="color:#000;font-weight:bold">-</span>inf<span style="color:#a61717;background-color:#e3d2d2">&#39;</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>def<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">dfs</span>(x,y,value):<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>global<span style="color:#bbb"> </span>Sum<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>value<span style="color:#000;font-weight:bold">+=</span>mapTable<span style="color:#000;font-weight:bold">[</span>x<span style="color:#000;font-weight:bold">][</span>y<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>x<span style="color:#000;font-weight:bold">==</span>n<span style="color:#000;font-weight:bold">-</span>1<span style="color:#bbb"> </span>and<span style="color:#bbb"> </span>y<span style="color:#000;font-weight:bold">==</span>m<span style="color:#000;font-weight:bold">-</span>1<span style="color:#bbb"> </span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Sum<span style="color:#000;font-weight:bold">=</span>max(Sum,value)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">return</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">range</span>(9):<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>tx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>x<span style="color:#000;font-weight:bold">+</span>nextt<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>ty<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>y<span style="color:#000;font-weight:bold">+</span>nextt<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>1<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb">  </span>tx<span style="color:#000;font-weight:bold">&lt;</span>n<span style="color:#bbb"> </span>and<span style="color:#bbb">  </span>ty<span style="color:#000;font-weight:bold">&lt;</span>m<span style="color:#bbb"> </span>:<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dfs(tx,ty,value)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>dfs(0,0,0)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>print(Sum)<span style="color:#bbb">
</span></span></span></code></pre></div><p>我们再来看一下 DP 怎么解这个问题。</p>
<p><strong>定义状态：</strong></p>
<p>我们设 dp{$i,j$} 当走到第 $i$ 行第 $j$ 列的值。</p>
<p><strong>找初始状态：</strong></p>
<p>dp{$1,1$}</p>
<p><strong>找状态转移：</strong></p>
<p>对于dp{$i,j$} 会有 $9$ 种不同的状态转移，我们很难知道当前的选择去怎样影响后续的值，这就是上边的搜索问题，我们难以找到一种 DP 思路去求解这个问题，但是我们反向考虑，既然dp{$i,j$} 会有 $9$ 种转移方式，那么当这 $9$ 种状态的值为从这九种状态到达终点的最优解（最大值）时，那么我们就能轻易得到dp{$i,j$} 的最大值为这九种最优解的最大值。</p>
<p>继续消解子问题，那么我们得到这 $9$ 种最优子状态，继续根据同样的原理得到这 $9$ 种最优的子状态的最优子状态。</p>
<p>持续消解，发现只有到了 dp{$n,m$} 采用终止，这就是一个递归的过程。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>value[n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">5</span>][m<span style="color:#000;font-weight:bold">+</span><span style="color:#099">5</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">dp</span>(x,y)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span>(x<span style="color:#000;font-weight:bold">==</span>n<span style="color:#000;font-weight:bold">&amp;&amp;</span>y<span style="color:#000;font-weight:bold">==</span>m)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> value[n][m]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span>(<span style="color:#a61717;background-color:#e3d2d2">越界</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#a61717;background-color:#e3d2d2">负无穷</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    value[x][y]<span style="color:#000;font-weight:bold">=</span>value[x][y]<span style="color:#000;font-weight:bold">+</span><span style="color:#900;font-weight:bold">max</span>(<span style="color:#900;font-weight:bold">dp</span>(x<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>,y)......,<span style="color:#900;font-weight:bold">dp</span>(<span style="color:#099">2</span>,<span style="color:#099">1</span>))
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#900;font-weight:bold">dp</span>(x,y)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>这个过程是正推，根据递归写出递推来就变成了逆推，其实并不是根据动态规划写出来的逆推式，而是用正推递归变递推变来的，当然有的同学一眼看出来，那是非常优秀的。</p>
<p>这个题目数据量较小，用递归写不会爆，大家可以根据我的伪代码写写试试。</p>
<p>正推也是可以写出递推式，大家有兴趣可以尝试下。</p>
<p>C++ 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define MAX 105
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n, m, sum <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> map[MAX][MAX];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> nextt[<span style="color:#099">9</span>][<span style="color:#099">2</span>] <span style="color:#000;font-weight:bold">=</span> { {<span style="color:#099">0</span>,<span style="color:#099">1</span>},{<span style="color:#099">1</span>,<span style="color:#099">0</span>},{<span style="color:#099">0</span>,<span style="color:#099">2</span>},{<span style="color:#099">2</span>,<span style="color:#099">0</span>},{<span style="color:#099">0</span>,<span style="color:#099">3</span>},{<span style="color:#099">3</span>,<span style="color:#099">0</span>},{<span style="color:#099">1</span>,<span style="color:#099">1</span>},{<span style="color:#099">1</span>,<span style="color:#099">2</span>},{<span style="color:#099">2</span>,<span style="color:#099">1</span>} };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n <span style="color:#000;font-weight:bold">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> m; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>            cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> map[i][j];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span>n;i<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>m;j<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>(i<span style="color:#000;font-weight:bold">==</span>n<span style="color:#000;font-weight:bold">&amp;&amp;</span>j<span style="color:#000;font-weight:bold">==</span>m) <span style="color:#000;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> maxTemp<span style="color:#000;font-weight:bold">=-</span><span style="color:#099">0x3f3f3f3f</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> k <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; k <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">9</span>; k<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>          <span style="color:#458;font-weight:bold">int</span> tx <span style="color:#000;font-weight:bold">=</span> i <span style="color:#000;font-weight:bold">+</span> nextt[k][<span style="color:#099">0</span>];
</span></span><span style="display:flex;"><span>          <span style="color:#458;font-weight:bold">int</span> ty <span style="color:#000;font-weight:bold">=</span> j <span style="color:#000;font-weight:bold">+</span> nextt[k][<span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">if</span> (tx <span style="color:#000;font-weight:bold">&gt;</span> n <span style="color:#000;font-weight:bold">||</span> ty <span style="color:#000;font-weight:bold">&gt;</span> m) <span style="color:#000;font-weight:bold">continue</span>;
</span></span><span style="display:flex;"><span>          maxTemp<span style="color:#000;font-weight:bold">=</span>max(maxTemp,map[tx][ty]);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        map[i][j]<span style="color:#000;font-weight:bold">+=</span>maxTemp;
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// for (int i = 1; i &lt;= n; i++){
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">//   for (int j = 1; j &lt;= m; j++)
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">//   cout &lt;&lt; map[i][j]&lt;&lt;&#34; &#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//   cout&lt;&lt;endl;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#998;font-style:italic">// }
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>          cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> map[<span style="color:#099">1</span>][<span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Python 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>nextt <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span>, <span style="color:#099">1</span>], [<span style="color:#099">0</span>, <span style="color:#099">2</span>], [<span style="color:#099">0</span>, <span style="color:#099">3</span>], [<span style="color:#099">1</span>, <span style="color:#099">0</span>], [<span style="color:#099">2</span>, <span style="color:#099">0</span>], [<span style="color:#099">3</span>, <span style="color:#099">0</span>], [<span style="color:#099">1</span>, <span style="color:#099">1</span>], [<span style="color:#099">1</span>, <span style="color:#099">2</span>], [<span style="color:#099">2</span>, <span style="color:#099">1</span>]]  <span style="color:#998;font-style:italic"># 9种走的方式</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>n, m <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>DP <span style="color:#000;font-weight:bold">=</span> [<span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())) <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(m <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">and</span> j <span style="color:#000;font-weight:bold">==</span> m <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        maxTemp <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">float</span>(<span style="color:#d14">&#39;-inf&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> k <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">9</span>):
</span></span><span style="display:flex;"><span>            tx <span style="color:#000;font-weight:bold">=</span> i <span style="color:#000;font-weight:bold">+</span> nextt[k][<span style="color:#099">0</span>]
</span></span><span style="display:flex;"><span>            ty <span style="color:#000;font-weight:bold">=</span> j <span style="color:#000;font-weight:bold">+</span> nextt[k][<span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> tx <span style="color:#000;font-weight:bold">&gt;=</span> n <span style="color:#000;font-weight:bold">or</span> ty <span style="color:#000;font-weight:bold">&gt;=</span> m:
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">continue</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            maxTemp <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(maxTemp, DP[tx][ty])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        DP[i][j] <span style="color:#000;font-weight:bold">+=</span> maxTemp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(DP[<span style="color:#099">0</span>][<span style="color:#099">0</span>])
</span></span></code></pre></div><p>java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.io.*</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">test</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#bbb"> </span>m,<span style="color:#bbb"> </span>Sum<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span>0x3f3f3f3f;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[][]</span><span style="color:#bbb"> </span>mapTable<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>105<span style="color:#000;font-weight:bold">][</span>105<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>nextt<span style="color:#000;font-weight:bold">[][]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span>{<span style="color:#bbb"> </span>{0,1},{1,0},{0,2},{2,0},{0,3},{3,0},{1,1},{1,2},{2,1}<span style="color:#bbb"> </span>};<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span><span style="color:#bbb"> </span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">throws</span><span style="color:#bbb"> </span>java.<span style="color:#008080">lang</span>.<span style="color:#008080">Exception</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>m<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">     </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>mapTable<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>n;i<span style="color:#000;font-weight:bold">&gt;=</span>1;i<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>m;j<span style="color:#000;font-weight:bold">&gt;=</span>1;j<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span>(i<span style="color:#000;font-weight:bold">==</span>n<span style="color:#000;font-weight:bold">&amp;&amp;</span>j<span style="color:#000;font-weight:bold">==</span>m)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>maxTemp<span style="color:#000;font-weight:bold">=-</span>0x3f3f3f3f;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>k<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>9;<span style="color:#bbb"> </span>k<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>tx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>nextt<span style="color:#000;font-weight:bold">[</span>k<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>ty<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>nextt<span style="color:#000;font-weight:bold">[</span>k<span style="color:#000;font-weight:bold">][</span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(tx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">||</span><span style="color:#bbb"> </span>ty<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>m)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">continue</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">          </span>maxTemp<span style="color:#000;font-weight:bold">=</span>Math.<span style="color:#008080">max</span>(maxTemp,mapTable<span style="color:#000;font-weight:bold">[</span>tx<span style="color:#000;font-weight:bold">][</span>ty<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>mapTable<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]+=</span>maxTemp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">      </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">  </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(mapTable<span style="color:#000;font-weight:bold">[</span>1<span style="color:#000;font-weight:bold">][</span>1<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="动态规划背包问题">动态规划背包问题</h2>
<h2 id="实验介绍-1">实验介绍</h2>
<p>本节课我们进入动态规划课程的学习，动态规划是一种多阶段的决策过程最优化的问题。</p>
<p>本课程对于算法学习非常重要，但是又比较难，我们讲解分 $3$ 个章节进行动态规划问题的讲解。</p>
<p>今天的课程是动态规划系列的第二个章节。</p>
<h3 id="知识点-1">知识点</h3>
<ul>
<li>0-1 背包</li>
<li>完全背包</li>
<li>多重背包问题</li>
</ul>
<h2 id="背包问题">背包问题</h2>
<p>我们上一章课程讲解了动态规划算法的基本原理，包括动态规划的“为什么使用动态规划算法”、“多阶段决策过程最优化问题”、“动态规划中的术语解释”，“可解动态鬼规划的性质”等知识点。</p>
<p>今天我们来讲一下，动态规划中的背包问题，背包问题，是比赛中常考的问题，也是动态规划入门的问题，其实动态规划并没有套路，只是这类问题有着明确的特点，如果你做的题足够多的话，你会发现很多问题都会有模板。</p>
<p>背包问题基本都是不可拆分背包，因为可拆分背包是贪心去求解的问题。我们今天讲三种背包的基本模型：1.0-1 背包、2.完全背包、3.多重背包问题。</p>
<h4 id="0-1-背包问题">0-1 背包问题</h4>
<p>0-1 背包是背包问题的入门的问题。但是背包问题的模板也是最简单的。</p>
<p><strong>0-1 背包的问题是什么呢？</strong></p>
<p>其问题的简单表述为，有 N 件物品，每件物品只有一件。每个物品都有一个价值$w_i$，每件物品都有一个占一个部分空间$c_i$,已知你的背包共计可承重 C(Contains),现在让你求你的背包最多装得下多少$w_{Max}$，即求你背包中物品的最大价值$w_{Max}$。</p>
<p><strong>对于这个问题我们有以下模板:</strong></p>
<p>1.定义变量并输入</p>
<p>C++ 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 定义V,W用于保存价值和质量
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#999;font-weight:bold;font-style:italic">#define Maxn 5000
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> c[Maxn],w[Maxn];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 输入
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cin<span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>c[i]<span style="color:#000;font-weight:bold">&gt;&gt;</span>w[i];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//创建动态规划数组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span></code></pre></div><p>Python 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">os</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">sys</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>w <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>dp <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n, C <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tempC, tempW <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        c<span style="color:#000;font-weight:bold">.</span>append(tempC)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        w<span style="color:#000;font-weight:bold">.</span>append(tempW)
</span></span></code></pre></div><p>java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Arrays</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import static</span><span style="color:#bbb"> </span><span style="color:#555">java.lang.Math.max</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">class</span>  <span style="color:#458;font-weight:bold">Main</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>w;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">   </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>C;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">       </span>C<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">       </span>c<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">       </span>w<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">       </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>2.执行算法</p>
<p>我们先去找到状态转移方程</p>
<p><code>dp[i][j]=max(dp[i][j],dp[i−1]j−c[i]]+w[i])</code></p>
<p>含义，选到第 i 件物品，且背包现在重量为 j。</p>
<p>那么考虑这个状态会由什么状态转移而来，肯定是选到第 i-1 件的时候。</p>
<p>如果选了第 i 件，那么就是由 <code>dp[i−1]j−c[i]]</code>转移而来。</p>
<p>如果不选第 i 件，那么就是由 <code>dp[i][j]</code>转移而来。</p>
<p>那么已知 <code>dp[i−1]j−c[i]]和 dp[i][j]</code>都为各自最优的状态，那我们直接取最优状态即可。</p>
<p>C++ 描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>(j<span style="color:#000;font-weight:bold">&gt;=</span>c[i])
</span></span><span style="display:flex;"><span>            dp[i][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">max</span>(dp[i][j],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">reversed</span>(C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            dp[i][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">max</span>(dp[i][j],dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>0;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>0;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span>(j<span style="color:#000;font-weight:bold">&gt;=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>max(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>,dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">-</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">-</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]+</span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>空间优化：</p>
<p>因为状态转移每次只与上一层有关，所以用一个一维数组就可以。</p>
<p>为什么从大到小遍历， 看 $dp[j]=dp[j-c[i]]+w[i]$ 这一状态转移，是根据小的改大的，如果先把小的改了，那小的还会被用到，数据就不对了，所以从小到大。</p>
<p>C++ 描述；</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>) <span style="color:#998;font-style:italic">//遍历每一件物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>C;j<span style="color:#000;font-weight:bold">&gt;=</span>c[i];j<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        dp[j]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">max</span>(dp[j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i],dp[j]);
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">reversed</span>(<span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)):
</span></span><span style="display:flex;"><span>            dp[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">//遍历每一件物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>C;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>max(dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>初始化细节：</p>
<ul>
<li>装满 $dp[0]=0$，其余赋值 $-INF$；</li>
<li>不装满全初始化为 $0$；</li>
</ul>
<p>C++ 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//装满
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#900;font-weight:bold">memset</span>(dp, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">sizeof</span>(dp));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//不装满
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">memset</span>(dp, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">0x3f</span>, <span style="color:#000;font-weight:bold">sizeof</span>(dp));
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 装满</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">50</span>):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#000;font-weight:bold">-</span><span style="color:#099">0x3f3f3f3f</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>dp[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 不装满</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">50</span>):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#099">0</span>)
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//装满</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>Arrays.<span style="color:#008080">fill</span>(dp,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span>0x3f3f3f3f);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>dp<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">]=</span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//不装满</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>memset(dp,<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span>0x3f,<span style="color:#bbb"> </span>sizeof(dp));<span style="color:#bbb">
</span></span></span></code></pre></div><p><strong>题目描述:</strong></p>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/1174/learning/">https://www.lanqiao.cn/problems/1174/learning/</a></p>
<p>小明有一个容量为 $V$ 的背包。</p>
<p>这天他去商场购物，商场一共有 $N$ 件物品，第 $i$ 件物品的体积为 $w$ ，价值为 $v$，每种物品都只有一个。</p>
<p>小明想知道在购买的物品总体积不超过 $V$ 的情况下所能获得的最大价值为多少，请你帮他算算。</p>
<p><strong>输入描述:</strong></p>
<p>输入第 $1$ 行包含两个正整数 $N,V$，表示商场物品的数量和小明的背包容量。</p>
<p>第 $2∼N+1$ 行包含 $2$ 个正整数 $w,v$，表示物品的体积和价值。</p>
<p><strong>样例:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>5 20
</span></span><span style="display:flex;"><span>1 6
</span></span><span style="display:flex;"><span>2 5
</span></span><span style="display:flex;"><span>3 8
</span></span><span style="display:flex;"><span>5 15
</span></span><span style="display:flex;"><span>3 3
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输出： 37
</span></span></code></pre></div><p><strong>运行限制:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1. 最大运行时间：1s 2. 最大运行内存：128M
</span></span></code></pre></div><p><strong>答案解析：</strong></p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;cstring&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Maxn 5000
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> c[Maxn], w[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 输入
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> c[i] <span style="color:#000;font-weight:bold">&gt;&gt;</span> w[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    memset(dp, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">sizeof</span>(dp)); <span style="color:#998;font-style:italic">//不装满
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//创建动态规划数组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) <span style="color:#998;font-style:italic">//遍历每一件物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> C; j <span style="color:#000;font-weight:bold">&gt;=</span> c[i]; j<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            dp[j] <span style="color:#000;font-weight:bold">=</span> max(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[C] <span style="color:#000;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>w <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>dp <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n, C <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        tempC, tempW <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>        c<span style="color:#000;font-weight:bold">.</span>append(tempC)
</span></span><span style="display:flex;"><span>        w<span style="color:#000;font-weight:bold">.</span>append(tempW)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">50</span>):
</span></span><span style="display:flex;"><span>        dp<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">reversed</span>(<span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)):
</span></span><span style="display:flex;"><span>            dp[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Arrays</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import static</span><span style="color:#bbb"> </span><span style="color:#555">java.lang.Math.max</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">class</span>  <span style="color:#458;font-weight:bold">Main</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>w;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>C;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>C<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>c<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>w<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Arrays.<span style="color:#008080">fill</span>(dp,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">//遍历每一件物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>C;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>max(dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="完全背包问题">完全背包问题</h4>
<p>完全背包是背包问题的入门的问题。</p>
<p>根据 <code>0-1</code> 背包写出模板也是很简单的。</p>
<p><strong>完全背包的问题是什么呢？</strong></p>
<p>其问题的简单表述为，有 $N$ 件物品，每件物品有无数件。每个物品都有一个价值$w_i$，每件物品都有一个占一个部分空间$c_i$,已知你的背包共计可承重 $C(Contains)$,现在让你求你的背包最多装得下多少$w_{Max}$，即求你背包中物品的最大价值$w_{Max}$。</p>
<p><strong>对于这个问题我们有以下模板:</strong></p>
<p>1.定义变量并输入</p>
<p>参考 0-1 背包。</p>
<p>2.执行算法</p>
<p>我们先去找到状态转移方程</p>
<p><code>dp[i][j]=max(dp[i][j],dp[i]j−c[i]]+w[i])</code></p>
<p>含义，选到第 $i$ 件物品，且背包现在重量为 $j$。</p>
<p>那么考虑这个状态会由什么状态转移而来，肯定是选到第 $i-1$ 件的时候,或者选了若干次第 $i$ 件。</p>
<p>如果不选第 $i$ 种，那么就是由 <code>dp[i-1][j]</code>转移而来。</p>
<p>如果选了第 $i$ 件，那么就是由 <code>dp[i−1]j−c[i]]</code>转移而来。</p>
<p>或者在某一刻，不在选第 $i$ 件了，那么就是有 <code>dp[i][j]</code>转移而来。</p>
<p>那么已知 <code>dp[i]j−c[i]]</code>和 <code>dp[i][j]</code>都为各自最优的状态，那我们直接取最优状态即可。</p>
<p>C++ 描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>){
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>){
</span></span><span style="display:flex;"><span>        dp[i][j]<span style="color:#000;font-weight:bold">=</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j];
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>(j<span style="color:#000;font-weight:bold">&gt;=</span>c[i])  dp[i][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">max</span>(dp[i][j],dp[i][j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>dp[n][C]<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>            dp[i][j]<span style="color:#000;font-weight:bold">=</span>dp[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j];
</span></span><span style="display:flex;"><span>            dp[i][j]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">max</span>(dp[i][j],dp[i][j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i])
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[n][C])
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>0;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>){<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>0;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>){<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">-</span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">if</span>(j<span style="color:#000;font-weight:bold">&gt;=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>)dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]=</span>max(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>,dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">-</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]+</span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">][</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>空间优化：</p>
<p>因为状态转移每次只与上一层有关，所以用一个一维数组就可以。</p>
<p>为什么从小到大遍历， 看 $dp[j]=dp[j-c[i]]+w[i]$ 这一状态转移，是根据小的改大的，而此时的含义为选了 <code>x</code> 件后的容量与质量，跟 <code>01</code> 背包类似，但含义不同，处理方式上也有本质区别，处理完一件后在处理下件。</p>
<p>C++ 描述；</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>) <span style="color:#998;font-style:italic">//遍历每一件物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>c[i];j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        dp[j]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">max</span>(dp[j<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i],dp[j]);
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>            dp[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">//遍历每一件物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>max(dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>初始化细节：</p>
<p>与 <code>0 - 1</code>背包相同。</p>
<ul>
<li>装满 $dp[0]=0$，其余赋值$-INF$；</li>
<li>不装满全初始化为 $0$；</li>
</ul>
<p><strong>题目描述:</strong></p>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/1175/learning/">https://www.lanqiao.cn/problems/1175/learning/</a></p>
<p>小明有一个容量为 $V$ 的背包。</p>
<p>这天他去商场购物，商场一共有 $N$ 件物品，第 $i$ 件物品的体积为 $w$ ，价值为 $v$，每种物品都有无限多个。</p>
<p>xxxxxxxxxx68 1import java.io.*;2​3public class Main {4    static int N=110;5    static long[][] g=new long[N][N],m=new long[N][N],f=new long[N][N];6    static long n,q;7    static BufferedReader br=new BufferedReader(new InputStreamReader(System.in));8    static PrintWriter  out=new PrintWriter(new OutputStreamWriter(System.out));9    public static void main(String[] args) throws IOException {10        String[] s=br.readLine().split(&quot; &ldquo;);11        n=Long.parseLong(s[0]);12        q=Long.parseLong(s[1]);13        for(int i=1;i&lt;=n;++i){14            s=br.readLine().split(&rdquo; &ldquo;);15            for(int j=1;j&lt;=n;++j){16                g[i][j]=Long.parseLong(s[j-1]);17            }18        }19        for(int i=1;i&lt;=n;++i){20            s=br.readLine().split(&rdquo; &ldquo;);21            for(int j=1;j&lt;=n;++j){22                m[i][j]=Long.parseLong(s[j-1]);23                f[i][j]=m[i][j];24            }25        }26        if(floyd()&gt;q){27            out.println(-1);28            out.flush();29            return;30        }31        long l=0,r=1000000000;32        while(l&lt;r){33            long mid=l+r&raquo;1;34            if(check(mid)) r=mid;35            else l=mid+1;36        }37        out.println(r);38        out.flush();39    }40    static long floyd(){41        long a=0;42        for (int k = 1; k &lt;= n; k ++ )43            for (int i = 1; i &lt;= n; i ++ )44                for (int j = 1; j &lt;= n; j ++ )45                    f[i][j] =Math.min(f[i][j], f[i][k] + f[k][j]);46​47        for(int i=1;i&lt;=n;++i)48            for(int j=1;j&lt;=n;++j)49                a+=f[i][j];50        return a;51    }52    static boolean check(long x){53        for(int i=1;i&lt;=n;++i){54            for(int j=1;j&lt;=n;++j) f[i][j]=g[i][j];55        }56        long h=x/n;57        long s=x%n;58        for(int i=1;i&lt;=n;++i){59            for(int j=1;j&lt;=n;++j){60                if(i==j) continue;61                if(i&lt;=s) f[i][j]=Math.max(m[i][j],f[i][j]-h-1);62                else f[i][j]=Math.max(m[i][j],f[i][j]-h);63                f[j][i]=f[i][j];64            }65        }66        return floyd()&lt;=q;67    }68}java</p>
<p><strong>输入描述:</strong></p>
<p>输入第 $1$ 行包含两个正整数 $N,V$，表示商场物品的数量和小明的背包容量。</p>
<p>第 $2∼N+1$ 行包含 $2$ 个正整数 $w,v$，表示物品的体积和价值。</p>
<p><strong>样例:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>5 20
</span></span><span style="display:flex;"><span>1 6
</span></span><span style="display:flex;"><span>2 5
</span></span><span style="display:flex;"><span>3 8
</span></span><span style="display:flex;"><span>5 15
</span></span><span style="display:flex;"><span>3 3
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输出： 120
</span></span></code></pre></div><p><strong>运行限制:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1. 最大运行时间：1s 2. 最大运行内存：128M
</span></span></code></pre></div><p><strong>答案解析：</strong></p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;cstring&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Maxn 5000
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> c[Maxn], w[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> C;
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 输入
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> c[i] <span style="color:#000;font-weight:bold">&gt;&gt;</span> w[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    memset(dp, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">sizeof</span>(dp)); <span style="color:#998;font-style:italic">//不装满
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#998;font-style:italic">//创建动态规划数组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) <span style="color:#998;font-style:italic">//遍历每一件物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>c[i];j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            dp[j] <span style="color:#000;font-weight:bold">=</span> max(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j]);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[C] <span style="color:#000;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">os</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">sys</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>c <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>w <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>dp <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n, C <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        tempC, tempW <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>        c<span style="color:#000;font-weight:bold">.</span>append(tempC)
</span></span><span style="display:flex;"><span>        w<span style="color:#000;font-weight:bold">.</span>append(tempW)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">50</span>):
</span></span><span style="display:flex;"><span>        dp<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>            dp[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[j <span style="color:#000;font-weight:bold">-</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i], dp[j])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Arrays</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import static</span><span style="color:#bbb"> </span><span style="color:#555">java.lang.Math.max</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">class</span>  <span style="color:#458;font-weight:bold">Main</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>w;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>C;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>C<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>c<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>w<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">             </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Arrays.<span style="color:#008080">fill</span>(dp,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span><span style="color:#998;font-style:italic">//遍历每一件物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>C;j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#998;font-style:italic">//遍历背包容量，表示在上一层的基础上，容量为J时，第i件物品装或不装的最优解;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>max(dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="多重背包">多重背包</h4>
<p>多重背包是背包问题的入门的问题。 根据 0-1 背包写出模板也是很简单的。</p>
<p><strong>多重背包的问题是什么呢？</strong></p>
<p>其问题的简单表述为，有 N 件物品，每件物品有$s_i$件。每个物品都有一个价值$w_i$，每件物品都有一个占一个部分空间$c_i$,已知你的背包共计可承重 C(Contains),现在让你求你的背包最多装得下多少$w_{Max}$，即求你背包中物品的最大价值$w_{Max}$。</p>
<p><strong>对于这个问题我们有以下模板:</strong></p>
<p>1.定义变量并输入</p>
<p>参考 <code>0-1</code> 背包。</p>
<p>2.执行算法</p>
<p>这次我们直接空间优化，不再讲解二维做法：</p>
<p>多重背包是可以不选，也可以选 <code>1</code> 个，可以选多个，而 <code>0-1</code> 背包只能选 <code>0</code> 个或者 <code>1</code>个。</p>
<p>那就直接把种物品分开，即可比如：</p>
<p>每个盘子 <code>3</code> 块钱，我有 <code>2</code> 个。每双筷子 <code>1</code> 块钱，我有 <code>10</code> 双，每对刀叉 <code>3</code> 块钱，我有 <code>3</code> 个。</p>
<p>那么我就可以拆成，有 <code>2</code> 个三块的盘子，每个可以选也可以不选，就变成了 <code>0-1</code> 背包。</p>
<p>也就是说，对于每种是可以选多个，那就直接拆分成独立的个体就可以了。</p>
<p>C++ 描述；</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-c" data-lang="c"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//遍历每一个物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>s[i];j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//遍历物品的数量
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> k<span style="color:#000;font-weight:bold">=</span>C;k<span style="color:#000;font-weight:bold">&gt;=</span>c[i];k<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//当做01背包来处理
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//取01背包情况的dp[k]和dp[k-c[i]]+w[i]的最大值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            dp[k]<span style="color:#000;font-weight:bold">=</span><span style="color:#900;font-weight:bold">max</span>( dp[k],dp[k<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i] );
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><p>Python 语言描述:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(s[i]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> k <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">reversed</span>(<span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)):
</span></span><span style="display:flex;"><span>                dp[k]<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">max</span>( dp[k],dp[k<span style="color:#000;font-weight:bold">-</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i] )
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p>Java 语言描述：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">=</span>0;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//遍历每一个物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>0;j<span style="color:#000;font-weight:bold">&lt;=</span>s<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#998;font-style:italic">//遍历物品的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#000;font-weight:bold">=</span>C;k<span style="color:#000;font-weight:bold">&gt;=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;k<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#998;font-style:italic">//当做01背包来处理</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#998;font-style:italic">//取01背包情况的dp[k]和dp[k-c[i]]+w[i]的最大值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dp<span style="color:#000;font-weight:bold">[</span>k<span style="color:#000;font-weight:bold">]=</span>max(<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>k<span style="color:#000;font-weight:bold">]</span>,dp<span style="color:#000;font-weight:bold">[</span>k<span style="color:#000;font-weight:bold">-</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]+</span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span></code></pre></div><p>不顾这样做大概率会超时，我们换一种理解方式：</p>
<p>在这两种问题中，我们需要考虑每个物品选择取或不取的情况，通过动态规划来求解最优解。</p>
<p>$01$背包问题中，对于每个物品$i$，我们有两个选择：选取或不选取。状态转移方程为： $dp[j] = \max(dp[j], dp[j - v[i]] + w[i])$</p>
<p>多重背包问题中，对于每个物品i，我们可以选择取$0$个、$1$个、$2$个&hellip;直到$s[i]$个。状态转移方程为： $dp[j] = \max(dp[j], dp[j - v[i] \cdot k] + w[i] \cdot k)$ 其中，k 的取值范围是$0, 1, 2, &hellip;, s[i]$。</p>
<p>这两个问题的解决思路相似，都是通过填充一个二维的动态规划数组$dp$，其中$dp[j]$表示背包容量为j时的最优解。在状态转移时，我们考虑了每个物品的选择情况，求解最终的最优解。</p>
<p>初始化细节：</p>
<p>与 $0 - 1$ 背包相同。</p>
<ul>
<li>装满 $dp[0]=0$，其余赋值$-INF$；</li>
<li>不装满全初始化为 $0$；</li>
</ul>
<p><strong>题目描述:</strong></p>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/1176/learning/">https://www.lanqiao.cn/problems/1176/learning/</a></p>
<p>小明有一个容量为 $V$的背包。</p>
<p>这天他去商场购物，商场一共有 $N$ 件物品，第 $i$ 件物品的体积为 $w$，价值为 $v$，每种物品都有$s$个。</p>
<p>小明想知道在购买的物品总体积不超过 $V$ 的情况下所能获得的最大价值为多少，请你帮他算算。</p>
<p><strong>输入描述:</strong></p>
<p>输入第 $1$ 行包含两个正整数 $N,V$，表示商场物品的数量和小明的背包容量。</p>
<p>第 $2∼N+1$ 行包含 $3$ 个正整数 $w,vs$,表示物品的体积、价值和数量。</p>
<p><strong>样例:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输入：
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>3 30
</span></span><span style="display:flex;"><span>1 2 3
</span></span><span style="display:flex;"><span>4 5 6
</span></span><span style="display:flex;"><span>7 8 9
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>输出： 39
</span></span></code></pre></div><p><strong>运行限制:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>1. 最大运行时间：1s 2. 最大运行内存：128M
</span></span></code></pre></div><p><strong>答案解析：</strong></p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;cstring&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Maxn 5000
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> c[Maxn], w[Maxn], s[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> C;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 输入
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> C;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> c[i] <span style="color:#000;font-weight:bold">&gt;&gt;</span> w[i] <span style="color:#000;font-weight:bold">&gt;&gt;</span> s[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> dp[Maxn];
</span></span><span style="display:flex;"><span>    memset(dp, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">sizeof</span>(dp)); <span style="color:#998;font-style:italic">//不装满
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//创建动态规划数组
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">//遍历每一个物品
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>C;j<span style="color:#000;font-weight:bold">&gt;=</span>c[i];j<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> k<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;k<span style="color:#000;font-weight:bold">&lt;=</span>s[i] <span style="color:#000;font-weight:bold">&amp;&amp;</span> j<span style="color:#000;font-weight:bold">&gt;=</span>k<span style="color:#000;font-weight:bold">*</span>c[i];k<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>                <span style="color:#998;font-style:italic">//遍历物品的数量
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                dp[j]<span style="color:#000;font-weight:bold">=</span>max(dp[j],dp[j<span style="color:#000;font-weight:bold">-</span>k<span style="color:#000;font-weight:bold">*</span>c[i]]<span style="color:#000;font-weight:bold">+</span>w[i]<span style="color:#000;font-weight:bold">*</span>k);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[C] <span style="color:#000;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>c <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>w <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>s<span style="color:#000;font-weight:bold">=</span>[]
</span></span><span style="display:flex;"><span>dp <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n, C <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        tempC, tempW ,tempS<span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>        c<span style="color:#000;font-weight:bold">.</span>append(tempC)
</span></span><span style="display:flex;"><span>        w<span style="color:#000;font-weight:bold">.</span>append(tempW)
</span></span><span style="display:flex;"><span>        s<span style="color:#000;font-weight:bold">.</span>append(tempS)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(C <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">50</span>):
</span></span><span style="display:flex;"><span>        dp<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">reversed</span>(<span style="color:#0086b3">range</span>(c[i],C<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> k <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(s[i]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> j<span style="color:#000;font-weight:bold">&lt;</span>k<span style="color:#000;font-weight:bold">*</span>c[i]:
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                dp[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[j], dp[j <span style="color:#000;font-weight:bold">-</span> k <span style="color:#000;font-weight:bold">*</span> c[i]] <span style="color:#000;font-weight:bold">+</span> w[i] <span style="color:#000;font-weight:bold">*</span> k)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[C])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Arrays</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">import static</span><span style="color:#bbb"> </span><span style="color:#555">java.lang.Math.max</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb">  </span><span style="color:#000;font-weight:bold">class</span>  <span style="color:#458;font-weight:bold">Main</span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>c;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>w;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>s;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>C<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>c<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>w<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>s<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">+</span>50<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>s<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>Arrays.<span style="color:#008080">fill</span>(dp,<span style="color:#bbb"> </span>0);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#998;font-style:italic">//遍历每一个物品</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">=</span>C;j<span style="color:#000;font-weight:bold">&gt;=</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;j<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>k<span style="color:#000;font-weight:bold">=</span>1;k<span style="color:#000;font-weight:bold">&lt;=</span>s<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">&gt;=</span>k<span style="color:#000;font-weight:bold">*</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>;k<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span><span style="color:#998;font-style:italic">//遍历物品的数量</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                        </span>dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]=</span>max(dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>,dp<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">-</span>k<span style="color:#000;font-weight:bold">*</span>c<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]]+</span>w<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]*</span>k);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>C<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="动态规划线性-dp">动态规划线性 DP</h2>
<h2 id="实验介绍-2">实验介绍</h2>
<p>本课程对于算法学习非常重要，但是又比较难，我们讲解分 $3$ 个章节进行动态规划问题的讲解。</p>
<p>今天的课程是动态规划系列的第 $3$ 个章节。</p>
<h3 id="知识点-2">知识点</h3>
<ul>
<li>讲解很多经典的动态规划问题，对动态规划初步掌握。</li>
</ul>
<h2 id="普通线性-dp">普通线性 DP</h2>
<p>线性 <code>DP</code> 是动态规划问题中的一类问题，指状态之间有线性关系的动态规划问题。</p>
<p>这类问题不像是我们讲的背包等问题有固定的模板。</p>
<p>少数常见的线性 <code>DP</code> 问题也有模板，比如我们讲的 $LIS$ 和 $LCS$ 问题。</p>
<p>大部分还是需要根据题目进行推导，基本没有什么规律可循。</p>
<p>大部分线性规划的问题，都需要自己首先定义状态，找到决策，推导状态转移方程。</p>
<p>我们再讲解几个题目，让大家找找做最普遍 <code>DP</code> 问题的感觉。</p>
<h4 id="蓝肽子序列">蓝肽子序列</h4>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/1030/learning/">蓝肽子序列</a></p>
<p><strong>题目描述:</strong></p>
<p>L 星球上的生物由蛋蓝质组成，每一种蛋蓝质由一类称为蓝肽的物资首尾连接成一条长链后折叠而成。</p>
<p>生物学家小乔正在研究 L 星球上的蛋蓝质。她拿到两个蛋蓝质的蓝肽序列，想通过这两条蓝肽序列的共同特点来分析两种蛋蓝质的相似性。</p>
<p>具体的，一个蓝肽可以使用 $1$ 至 $5$ 个英文字母表示，其中第一个字母大写，后面的字母小写。一个蛋蓝质的蓝肽序列可以用蓝肽的表示顺序拼接而成。</p>
<p>在一条蓝肽序列中，如果选取其中的一些位置，把这些位置的蓝肽取出，并按照它们在原序列中的位置摆放，则称为这条蓝肽的一个子序列。蓝肽的子序列不一定在原序列中是连续的，中间可能间隔着一些未被取出的蓝肽。</p>
<p>如果第一条蓝肽序列可以取出一个子序列与第二条蓝肽序列中取出的某个子序列相等，则称为一个公共蓝肽子序列。</p>
<p>给定两条蓝肽序列，找出他们最长的那个公共蓝肽子序列的长度。</p>
<p><strong>输入描述:</strong></p>
<p>输入两行，每行包含一个字符串，表示一个蓝肽序列。字符串中间没有空格等分隔字符。</p>
<p>其中有 ，两个字符串的长度均不超过 $1000$。</p>
<p><strong>输出描述:</strong></p>
<p>输出一个整数，表示最长的那个公共蓝肽子序列的长度。</p>
<p><strong>输入输出样例:</strong></p>
<p><strong>示例:</strong></p>
<blockquote>
<p>输入</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>LanQiaoBei LanTaiXiaoQiao
</span></span></code></pre></div><blockquote>
<p>输出</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>2
</span></span></code></pre></div><h3 id="运行限制">运行限制</h3>
<ul>
<li>最大运行时间：1s</li>
<li>最大运行内存: 128M</li>
</ul>
<p><strong>答案解析：</strong></p>
<p>该题目是 $LCS$ 的变形，由原来的一个字符或者一个数字的匹配变成了，一个单词的匹配。</p>
<p>这个题目为先划分字符串变成基本的比较单位。</p>
<p>然后再套用 $LCS$ 模板</p>
<p>即可完成这道题目。</p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;algorithm&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[<span style="color:#099">1005</span>][<span style="color:#099">1005</span>];
</span></span><span style="display:flex;"><span>string s1, s2;
</span></span><span style="display:flex;"><span>string a[<span style="color:#099">1005</span>], b[<span style="color:#099">1005</span>];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>, m<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> s1 <span style="color:#000;font-weight:bold">&gt;&gt;</span> s2;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> d1 <span style="color:#000;font-weight:bold">=</span> s1.length(), d2 <span style="color:#000;font-weight:bold">=</span> s2.length();
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> d1;)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (s1[i] <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#d14">&#39;A&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s1[i] <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;Z&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            a[n] <span style="color:#000;font-weight:bold">+=</span> s1[i<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">while</span> (s1[i] <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#d14">&#39;a&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s1[i] <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;z&#39;</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                a[n] <span style="color:#000;font-weight:bold">+=</span> s1[i<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        n<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> d2;)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (s2[i] <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#d14">&#39;A&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s2[i] <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;Z&#39;</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            b[m] <span style="color:#000;font-weight:bold">+=</span> s2[i<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">while</span> (s2[i] <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#d14">&#39;a&#39;</span> <span style="color:#000;font-weight:bold">&amp;&amp;</span> s2[i] <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;z&#39;</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                b[m] <span style="color:#000;font-weight:bold">+=</span> s2[i<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        m<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>     dp[<span style="color:#099">0</span>][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; j <span style="color:#000;font-weight:bold">&lt;</span> m; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (a[i] <span style="color:#000;font-weight:bold">==</span> b[j])
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span>max(dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j], dp[i][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]);
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[n][m] <span style="color:#000;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Maxn <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1005</span>
</span></span><span style="display:flex;"><span>dp <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(Maxn)] <span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(Maxn)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    s1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">input</span>()
</span></span><span style="display:flex;"><span>    s2 <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">input</span>()
</span></span><span style="display:flex;"><span>    a <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>    b <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>    temp <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> word <span style="color:#000;font-weight:bold">in</span> s1:
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#d14">&#39;A&#39;</span> <span style="color:#000;font-weight:bold">&lt;=</span> word <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;Z&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> temp <span style="color:#000;font-weight:bold">!=</span> <span style="color:#d14">&#39;&#39;</span>:
</span></span><span style="display:flex;"><span>                a<span style="color:#000;font-weight:bold">.</span>append(temp)
</span></span><span style="display:flex;"><span>            temp <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>        temp <span style="color:#000;font-weight:bold">+=</span> word
</span></span><span style="display:flex;"><span>    a<span style="color:#000;font-weight:bold">.</span>append(temp)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    temp <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39; &#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> word <span style="color:#000;font-weight:bold">in</span> s2:
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#d14">&#39;A&#39;</span> <span style="color:#000;font-weight:bold">&lt;=</span> word <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;Z&#39;</span>:
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> temp <span style="color:#000;font-weight:bold">!=</span> <span style="color:#d14">&#39;&#39;</span>:
</span></span><span style="display:flex;"><span>                b<span style="color:#000;font-weight:bold">.</span>append(temp)
</span></span><span style="display:flex;"><span>            temp <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>        temp <span style="color:#000;font-weight:bold">+=</span> word
</span></span><span style="display:flex;"><span>    b<span style="color:#000;font-weight:bold">.</span>append(temp)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">len</span>(a)
</span></span><span style="display:flex;"><span>    m <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">len</span>(b)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(a)):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(b)):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> a[i] <span style="color:#000;font-weight:bold">==</span> b[j]:
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j] <span style="color:#000;font-weight:bold">&gt;</span> dp[i][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>]:
</span></span><span style="display:flex;"><span>                    dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>                    dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j], dp[i][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[n][m])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[][]</span><span style="color:#bbb"> </span>dp;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>s1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span>s2;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>a;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span>String<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">[]</span>b;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#000;font-weight:bold">=</span>0,m<span style="color:#000;font-weight:bold">=</span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>s1<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>s2<span style="color:#000;font-weight:bold">=</span>in.<span style="color:#008080">next</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>a<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>String<span style="color:#000;font-weight:bold">[</span>1005<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>b<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>String<span style="color:#000;font-weight:bold">[</span>1005<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>d1<span style="color:#000;font-weight:bold">=</span>s1.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>d2<span style="color:#000;font-weight:bold">=</span>s2.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>1005<span style="color:#000;font-weight:bold">][</span>1005<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>d1;n<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(s1.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;A&#39;</span><span style="color:#000;font-weight:bold">&gt;=</span>0<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>s1.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;Z&#39;</span><span style="color:#000;font-weight:bold">&lt;=</span>0)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>a<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+=</span><span style="color:#bbb"> </span>s1.<span style="color:#008080">charAt</span>(i<span style="color:#000;font-weight:bold">++</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">while</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>d1<span style="color:#000;font-weight:bold">&amp;&amp;</span>s1.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#d14">&#39;a&#39;</span><span style="color:#000;font-weight:bold">&gt;=</span>0<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>s1.<span style="color:#008080">charAt</span>(i)<span style="color:#000;font-weight:bold">-</span><span style="color:#d14">&#39;z&#39;</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span>0)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>a<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+=</span><span style="color:#bbb"> </span>s1.<span style="color:#008080">charAt</span>(i<span style="color:#000;font-weight:bold">++</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>d2;m<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(s2.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;A&#39;</span><span style="color:#000;font-weight:bold">&gt;=</span>0<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>s2.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span><span style="color:#d14">&#39;Z&#39;</span><span style="color:#000;font-weight:bold">&lt;=</span>0)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>b<span style="color:#000;font-weight:bold">[</span>m<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+=</span><span style="color:#bbb"> </span>s2.<span style="color:#008080">charAt</span>(i<span style="color:#000;font-weight:bold">++</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">while</span><span style="color:#bbb"> </span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>d2<span style="color:#000;font-weight:bold">&amp;&amp;</span>s2.<span style="color:#008080">charAt</span>(i)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#d14">&#39;a&#39;</span><span style="color:#000;font-weight:bold">&gt;=</span>0<span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>s2.<span style="color:#008080">charAt</span>(i)<span style="color:#000;font-weight:bold">-</span><span style="color:#d14">&#39;z&#39;</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>0)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>b<span style="color:#000;font-weight:bold">[</span>m<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+=</span><span style="color:#bbb"> </span>s2.<span style="color:#008080">charAt</span>(i<span style="color:#000;font-weight:bold">++</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>Maxn<span style="color:#000;font-weight:bold">=</span>Math.<span style="color:#008080">max</span>(n,m)<span style="color:#000;font-weight:bold">+</span>50;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>Maxn<span style="color:#000;font-weight:bold">][</span>Maxn<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]=</span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>.<span style="color:#008080">equals</span>(<span style="color:#bbb"> </span>b<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span>))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]=</span>Math.<span style="color:#008080">max</span>(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">][</span>m<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="合唱队形">合唱队形</h4>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/742/learning/">https://www.lanqiao.cn/problems/742/learning/</a></p>
<p><strong>题目描述:</strong></p>
<p>$N$ 位同学站成一排，音乐老师要请其中的 $(N-K)$ 位同学出列，使得剩下的 $K$ 位同学排成合唱队形。</p>
<p>合唱队形是指这样的一种队形：设 $K$ 位同学从左到右依次编号为 $1，2，\cdots K$，他们的身高分别为 $T_1，T_2，\cdots，T_K$， 则他们的身高满足 $T_1&lt; \cdots &lt; T_i&gt; T_{i+1}&gt; \cdots &gt;T_K(1 \leq i \leq K)$。</p>
<p>你的任务是，已知所有 $N$ 位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。</p>
<p><strong>输入描述:</strong></p>
<p>输入两行。</p>
<p>第一行是一个整数 $N\ (2 \leq N \leq 100)$，表示同学的总数。</p>
<p>第二行有 $n$ 个整数，用空格分隔，第 $i$ 个整数 $T_i(130 \leq T_i \leq 230)$ 是第 $i$ 位同学的身高(厘米)。</p>
<p><strong>输出描述:</strong></p>
<p>输出一个整数，就是最少需要几位同学出列。</p>
<p><strong>输入输出样例:</strong></p>
<p><strong>示例:</strong> 1</p>
<blockquote>
<p>输入</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>8 186 186 150 200 160 130 197 220
</span></span></code></pre></div><blockquote>
<p>输出</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>4
</span></span></code></pre></div><h3 id="运行限制-1">运行限制</h3>
<ul>
<li>最大运行时间：1s</li>
<li>最大运行内存: 128M</li>
</ul>
<p><strong>答案解析：</strong></p>
<p>要使得出列最少，那么就要留下最多的，我们想到了 $LIS$ ，但是 $LIS$ 只能处理单调序列最长，所以并不能直接用。</p>
<p>我们看到，这里是两头低，中间高的一种情况。</p>
<p>在这种情况下，最多的话那么就是最高的那个人的左侧加上右侧最高。</p>
<p>到这，我们发现。</p>
<p>在中间那个人左侧，从左到右做了一遍 $LIS$ 。</p>
<p>在那个人的右侧，从右到左的做了一遍 $LIS$ 。</p>
<p>至此，我们好像找了策略。</p>
<p>通过枚举中间那个人，然后看他左侧的 $LIS$ 和他右侧的$LIS$ 的值之和的大小，就能将这道题目解出。</p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;algorithm&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp1[<span style="color:#099">105</span>],dp2[<span style="color:#099">105</span>],a[<span style="color:#099">105</span>],s[<span style="color:#099">105</span>];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>a[i];
</span></span><span style="display:flex;"><span>        dp2[i]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>        dp1[i]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>    }<span style="color:#998;font-style:italic">//输入并赋初值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//预处理，从右往左LIS
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span>n<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span>i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>n;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(a[i]<span style="color:#000;font-weight:bold">&gt;</span>a[j]<span style="color:#000;font-weight:bold">&amp;&amp;</span>dp2[i]<span style="color:#000;font-weight:bold">&lt;=</span>dp2[j]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dp2[i]<span style="color:#000;font-weight:bold">=</span>dp2[j]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//预处理，从左往右LIS
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">&lt;</span>i;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(a[i]<span style="color:#000;font-weight:bold">&gt;</span>a[j]<span style="color:#000;font-weight:bold">&amp;&amp;</span>dp1[i]<span style="color:#000;font-weight:bold">&lt;=</span>dp1[j]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                dp1[i]<span style="color:#000;font-weight:bold">=</span>dp1[j]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> maxx<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        s[i]<span style="color:#000;font-weight:bold">=</span>dp2[i]<span style="color:#000;font-weight:bold">+</span>dp1[i]<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">//自己算了两次，所以-1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>(s[i]<span style="color:#000;font-weight:bold">&gt;</span>maxx)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            maxx<span style="color:#000;font-weight:bold">=</span>s[i];
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>n<span style="color:#000;font-weight:bold">-</span>maxx;<span style="color:#998;font-style:italic">//是求出列的人数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 输入并赋初值</span>
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>strip())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    t <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp1 <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">*</span> n
</span></span><span style="display:flex;"><span>    dp2 <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">*</span> n
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 预处理，从左往右LIS</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>, n):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(i):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> t[i] <span style="color:#000;font-weight:bold">&gt;</span> t[j]:
</span></span><span style="display:flex;"><span>                dp1[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp1[i], dp1[j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 预处理，从右往左LIS</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, i, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> t[i] <span style="color:#000;font-weight:bold">&gt;</span> t[j]:
</span></span><span style="display:flex;"><span>                dp2[i] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(dp2[i], dp2[j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    maxx <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>        maxx <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(maxx, dp1[i] <span style="color:#000;font-weight:bold">+</span> dp2[i] <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic"># 自己算了两次，所以-1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(n <span style="color:#000;font-weight:bold">-</span> maxx)
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>a<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>dp1<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>dp2<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextInt</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dp2<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>dp1<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]=</span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#998;font-style:italic">//输入并赋初值</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#998;font-style:italic">//预处理，从左往右LIS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>i;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>a<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>dp1<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>dp1<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>dp1<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>dp1<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#998;font-style:italic">//预处理，从右往左LIS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>i;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">--</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(a<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>a<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&amp;&amp;</span><span style="color:#bbb"> </span>dp2<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&gt;</span><span style="color:#bbb"> </span>dp2<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span>dp2<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>dp2<span style="color:#000;font-weight:bold">[</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>maxx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>maxx<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>Math.<span style="color:#008080">max</span>(maxx,<span style="color:#bbb"> </span>dp1<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>dp2<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">]-</span>1);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#998;font-style:italic">//自己算了两次，所以-1</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#998;font-style:italic">// 是求出列的人数</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>maxx<span style="color:#bbb"> </span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h4 id="最优包含">最优包含</h4>
<p>题目链接：<a href="https://www.lanqiao.cn/problems/239/learning/">https://www.lanqiao.cn/problems/239/learning/</a></p>
<p><strong>题目描述:</strong> 我们称一个字符串 $S$ 包含字符串 $T$ 是指 $T$ 是 $S$ 的一个子序列，即可以从字符串 $S$ 中抽出若干个字符，它们按原来的顺序组合成一个新的字符串与 $T$ 完全一样。</p>
<p>给定两个字符串 $S$ 和 $T$，请问最少修改 $S$ 中的多少个字符，能使 $S$ 包含 $T$ ？</p>
<p>其中，$1 \leq |T| \leq |S| \leq 1000$。</p>
<p><strong>输入描述:</strong></p>
<p>输入两行，每行一个字符串。</p>
<p>第一行的字符串为 $S$，第二行的字符串为 $T$。</p>
<p>两个字符串均非空而且只包含大写英文字母。</p>
<p><strong>输出描述:</strong></p>
<p>输出一个整数，表示答案。</p>
<p><strong>输入输出样例:</strong></p>
<p><strong>示例:</strong></p>
<blockquote>
<p>输入</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>ABCDEABCD XAABZ
</span></span></code></pre></div><blockquote>
<p>输出</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>3
</span></span></code></pre></div><p><strong>运行限制</strong></p>
<ul>
<li>最大运行时间：1s</li>
<li>最大运行内存: 256M</li>
</ul>
<p><strong>答案解析：</strong></p>
<p>个题目是线性 <code>DP</code> 中比较经典的题目。</p>
<p>这个类型就做编辑距离，可以通过 <code>DFS</code> 解决，也可以通过 <code>DP</code> 解决。</p>
<p><code>DP</code> 的时间复杂度低。</p>
<p>我们先来讲一下，编辑距离。</p>
<p>编辑距离为两个字符串，$a$ 和 $b$ 通过多少次变换，使得 $a$ 变成 $b$。</p>
<p>我们可以做出 $3$ 种操作。</p>
<p>$1.$ 删除操作，将 $a[i]$ 从 $a$ 中移除 $2.$ 插入操作，在 $a[i]$ 后加上 $b[j]$ $3.$ 替换操作，将 $a[i]$ 修改为 $b[j]$</p>
<p>编辑距离的状态转移类似 LCS ，但有有很大的差别。</p>
<p>初始状态，$i=j=0$，都在字符串的开头。</p>
<p>然后开始判断 $a[i]=?b[j]$</p>
<ul>
<li>
<p>如果相同，那么就不需要修改，所以$dp[i+1][j+1]=dp[i][j]$</p>
<p>所以在$a[i-1]$等于$b[j-1]$时，$dp[i][j]$这个状态由$dp[i-1][j-1]$转移而来。</p>
<p>$dp[i][j]=dp[i-1][j-1]$</p>
</li>
<li>
<p>如果不同，那就需要进行三种可能的操作</p>
</li>
</ul>
<ol>
<li>
<p>修改操作：</p>
<p>$a[i]$ 修改为 $b[j]$， 因为编辑了一次，所以$+1$</p>
<p>$dp[i+1][j+1]=dp[i][j]+1$</p>
<p>所以在$a[i-1]$不等于$b[j-1]$时，$dp[i][j]$这个状态由$dp[i-1][j-1]$转移而来。</p>
<p>$dp[i][j]=dp[i-1][j-1]$</p>
</li>
<li>
<p>删除操作，直接把 $a[i]$ 删除，此时转移到 $dp[i][j+1]$ ，因为 $a[i]$ 被删除，但是下一个字符到了 $a[i]$ 的位置，而对应比较的位置到了$b[j+1]$。</p>
<p>所以此时状态转移到了$dp[i][j+1]$</p>
<p>$dp[i][j+1]=dp[i][j]+1$</p>
<p>因为编辑了一次，所以$+1$</p>
<p>所以在$a[i-1]$不等于$b[j-1]$时，$dp[i][j]$就有可能通过$dp[i-1][j]$转移而来。</p>
</li>
<li>
<p>插入操作，在$a[i]$后添加一个$b[j]$，那么此时$a[i+1]$和$b[j]$对应，因为加了一个字符就变成了$a[i+1]$,而且跟$b[j]$对应，那么下一个状态转移到了$dp[i+1][j]$</p>
<p>$dp[i+1][j]=dp[i][j]+1$</p>
<p>此时状态转移到了 $dp[i+1][j]=dp[i][j]+1$</p>
<p>因为编辑了一次，所以$+1$</p>
<p>所以在$a[i-1]$不等于$b[j-1]$时，$dp[i][j]$就有可能通过$dp[i][j-1]$转移而来。</p>
</li>
</ol>
<p>那么不同时，我们选择他们的最小值即可。</p>
<p>由此我们可以写出模板：</p>
<p><strong>C++ 解题代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;set&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define INF 99999999
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>string s, t;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[<span style="color:#099">1010</span>][<span style="color:#099">1010</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">init</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> s.size(); i<span style="color:#000;font-weight:bold">++</span>) dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> t.size(); j<span style="color:#000;font-weight:bold">++</span>) dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> INF;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> s <span style="color:#000;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    init();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> s.size(); i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> t.size(); j<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (s[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> t[j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]) dp[i][j] <span style="color:#000;font-weight:bold">=</span> dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>                dp[i][j] <span style="color:#000;font-weight:bold">=</span> min(dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>],min(dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j], dp[i][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>])) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[s.size()][t.size()];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">init</span>(s,t):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(t) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)] <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)]
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>,<span style="color:#0086b3">len</span>(t) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">999999</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    s <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>    t <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp<span style="color:#000;font-weight:bold">=</span>init(s,t)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s)):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(t)):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[i] <span style="color:#000;font-weight:bold">==</span> t[j]:
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> dp[i][j]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">min</span>(dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>, dp[i][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">min</span>( dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] ,dp[j<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>][i]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb">   </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[][]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">init</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>m){<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>m<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>99999;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>s<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>t<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>s.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>t.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>init(n,m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(s.<span style="color:#008080">charAt</span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">==</span><span style="color:#bbb"> </span>t.<span style="color:#008080">charAt</span>(j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1))<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb">  </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>min(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span>,min(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span>))<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">][</span>m<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><p>这道题目也比较简单，由于是包含关系，并不是相等关系，所以当 <code>S</code> 多余 <code>T</code> 是，不需要进行删除操作。</p>
<p>所以这个题目不考虑删除的那个状态转移即可。</p>
<p><strong>C++ 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;set&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define INF 99999999
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>string s, t;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> dp[<span style="color:#099">1010</span>][<span style="color:#099">1010</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">init</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> s.size(); i<span style="color:#000;font-weight:bold">++</span>) dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> t.size(); j<span style="color:#000;font-weight:bold">++</span>) dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> INF;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> s <span style="color:#000;font-weight:bold">&gt;&gt;</span> t;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    init();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> s.size(); i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; j <span style="color:#000;font-weight:bold">&lt;=</span> t.size(); j<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (s[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> t[j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]) dp[i][j] <span style="color:#000;font-weight:bold">=</span> dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span> dp[i][j] <span style="color:#000;font-weight:bold">=</span> min(dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>, dp[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>][j]);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> dp[s.size()][t.size()];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p><strong>Python 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">init</span>(s,t):
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp <span style="color:#000;font-weight:bold">=</span> [[<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(t) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)] <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)]
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        dp[i][<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>,<span style="color:#0086b3">len</span>(t) <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>):
</span></span><span style="display:flex;"><span>        dp[<span style="color:#099">0</span>][j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">999999</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> dp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">if</span> __name__ <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    s <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>    t <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    dp<span style="color:#000;font-weight:bold">=</span>init(s,t)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(s)):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#0086b3">len</span>(t)):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> s[i] <span style="color:#000;font-weight:bold">==</span> t[j]:
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> dp[i][j]
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>                dp[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">min</span>(dp[i][j] <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>, dp[i][j <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(dp[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span></code></pre></div><p><strong>Java 解题代码</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span><span style="color:#bbb"> </span><span style="color:#555">java.util.Scanner</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">class</span> <span style="color:#458;font-weight:bold">Main</span><span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb">   </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[][]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">init</span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n,<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>m){<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>dp<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">][</span>m<span style="color:#000;font-weight:bold">+</span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>0<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>0;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>0<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>99999;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#000;font-weight:bold">public</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">static</span><span style="color:#bbb"> </span><span style="color:#458;font-weight:bold">void</span><span style="color:#bbb"> </span><span style="color:#900;font-weight:bold">main</span>(String<span style="color:#000;font-weight:bold">[]</span><span style="color:#bbb"> </span>args)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>Scanner<span style="color:#bbb"> </span>in<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">new</span><span style="color:#bbb"> </span>Scanner(System.<span style="color:#008080">in</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>s<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>String<span style="color:#bbb"> </span>t<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>in.<span style="color:#008080">nextLine</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>n<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>s.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>m<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>t.<span style="color:#008080">length</span>();<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>init(n,m);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>n;<span style="color:#bbb"> </span>i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#000;font-weight:bold">for</span><span style="color:#bbb"> </span>(<span style="color:#458;font-weight:bold">int</span><span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>1;<span style="color:#bbb"> </span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#bbb"> </span>m;<span style="color:#bbb"> </span>j<span style="color:#000;font-weight:bold">++</span>)<span style="color:#bbb"> </span>{<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">if</span><span style="color:#bbb"> </span>(s.<span style="color:#008080">charAt</span>(i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1)<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">==</span><span style="color:#bbb"> </span>t.<span style="color:#008080">charAt</span>(j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1))<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                </span><span style="color:#000;font-weight:bold">else</span><span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">=</span><span style="color:#bbb"> </span>Math.<span style="color:#008080">min</span>(dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">]</span><span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">+</span><span style="color:#bbb"> </span>1,<span style="color:#bbb"> </span>dp<span style="color:#000;font-weight:bold">[</span>i<span style="color:#bbb"> </span><span style="color:#000;font-weight:bold">-</span><span style="color:#bbb"> </span>1<span style="color:#000;font-weight:bold">][</span>j<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span>System.<span style="color:#008080">out</span>.<span style="color:#008080">println</span>(dp<span style="color:#000;font-weight:bold">[</span>n<span style="color:#000;font-weight:bold">][</span>m<span style="color:#000;font-weight:bold">]</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span>}<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>}<span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="实验总结">实验总结</h2>
<p>动态规划的学习是痛苦的，也是快乐，而且是非常重要的。</p>
<p>希望大家努力克服，动态规划都学会了还有什么学不会呢。</p>

    </div>

    

    

    <div class="container-prevnext">
    <div><a href="http://localhost:1313/%E5%9B%BE%E8%AE%BA%E5%85%A5%E9%97%A8/">← 图论入门</a></div>
    <div><a href="http://localhost:1313/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95/">贪心算法  →</a></div>
</div>
    
    

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        豫ICP备2022002918号-1
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
