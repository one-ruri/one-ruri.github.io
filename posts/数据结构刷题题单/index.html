<!DOCTYPE html>
<html lang="zh-CN"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta name="description" content="数据结构刷题题单 - https://one-ruri.github.io/posts/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/">
    <meta name="author" content="Jack - https://one-ruri.github.io/">
    
    <meta name="msvalidate.01" content="B46311949B856F2A7015F366FB3CE878" />
    <title>数据结构刷题题单</title>
    <link rel="icon" type="image/png" href="/favicon.ico">
    
    <link rel="stylesheet" href="https://one-ruri.github.io/style.min.d252ad53a5e6b2ae6b8c6c1661107189be3668e36c8dd61697bbe008595a7e04.css">
    
    <script type="text/javascript" src="/main.js" defer></script>
    
</head>
<body class="active-animate ">
        <div id="header"><div class="container-header">
    <div id="vars" class="container-vars" style="display: none;">
	{
		"isSingleColumnOfPostList": true,
		"hasFoldAllCodeBlocks": false,
		"svgColor": "",
		"en": false,
		"dark": false
	}
</div>
    <h1 class="title">
        
            数据结构刷题题单
            
        
    </h1>

    <div class="container-breadcrumb-nav">
    
    <div class="breadcrumb-nav-bar">
        <div><a href="/"><svg t="1656411084410" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2954" width="16" height="16"><path d="M947.5 390.6l-377-290c-34.5-26.5-82.6-26.5-117.1 0l-377 290c-14 10.8-16.6 30.9-5.9 44.9 10.8 14 30.9 16.6 44.9 5.9l28.5-21.9V768c0 88.2 71.8 160 160 160h80c35.3 0 64-28.7 64-64V640c0-17.6 14.4-32 32-32h64c17.6 0 32 14.4 32 32v224c0 35.3 28.7 64 64 64h80c88.2 0 160-71.8 160-160V419.4l28.5 21.9c5.8 4.5 12.7 6.6 19.5 6.6 9.6 0 19.1-4.3 25.4-12.5 10.8-13.9 8.2-34-5.8-44.8zM816 768c0 52.9-43.1 96-96 96h-80V640c0-52.9-43.1-96-96-96h-64c-52.9 0-96 43.1-96 96v224h-80c-52.9 0-96-43.1-96-96V370.2l284.5-218.8c11.5-8.8 27.5-8.8 39 0L816 370.2V768z" fill="#6c757d" p-id="2955"></path></svg></a></div>
        <div><a href="/nav"><svg t="1656411531924" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5827" width="16" height="16"><path d="M849.59197473 125.23018519L139.22930586 391.72854662a23.35052669 23.35052669 0 0 0-14.95414244 21.65490745c-0.12257519 9.70384955 5.61801843 18.46795771 14.40255493 22.04306141l318.42928099 129.25528056 119.51057092 320.39047893c3.06437293 8.23295069 10.35758221 13.89182751 18.7335381 14.87242563l2.7170774 0.14300521a22.79893918 22.79893918 0 0 0 21.20546682-15.36272638l259.51158924-729.54564933a23.8612558 23.8612558 0 0 0-5.31158128-24.55584682 22.3290685 22.3290685 0 0 0-23.9021142-5.43415649zM793.65694081 211.64552314l-196.63064161 552.75171747-91.91077952-246.37564122-253.62799211-102.96295445 542.16941324-203.4131218z" p-id="5828" fill="#6c757d"></path></svg></a></div>
        <div><a href="/search"><svg t="1656411627509" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1730" width="14" height="14"><path d="M469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z" p-id="1731" fill="#6c757d"></path></svg></a></div>
        <div><a href="/posts"><svg t="1656411724198" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5655" width="12" height="12"><path d="M811.705761 1024H212.294239c-93.1199 0-174.823046-87.570975-174.823046-187.387854V162.322018C37.471193 69.776145 112.604921 0 212.294239 0H596.190595l7.015883 5.93161c111.74388 95.479788 185.857116 170.741078 279.614824 266.093304 29.65805 30.040735 61.165743 62.122454 96.436499 97.393211l7.271006 7.334787v459.859234c-0.063781 99.816879-81.703145 187.387854-174.823046 187.387854zM212.294239 49.94033c-72.391155 0-124.882716 47.261538-124.882716 112.381688v674.290128c0 71.94469 59.507443 137.383743 124.882716 137.383743h599.411522c65.311492 0 124.882716-65.439053 124.882716-137.383743V397.417876c-32.528184-32.464404-61.73977-62.250016-89.356836-90.377328-90.951355-92.418312-163.278729-165.957521-269.601245-257.163999H212.294239z" fill="#6c757d" p-id="5656"></path><path d="M936.588477 449.526752h-212.326129c-99.753099 0-187.324073-81.703145-187.324073-174.823046V49.94033a25.002055 25.002055 0 0 1 49.94033 0v224.763376c0 65.311492 65.502834 124.882716 137.383743 124.882716h212.326129a25.002055 25.002055 0 1 1 0 49.94033z" fill="#6c757d" p-id="5657"></path></svg></a></div>
        <div><a href="/archive"><svg t="1656411795742" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7334" width="12" height="12"><path d="M884.224 522.24H504.32V141.824c0-16.896-13.824-30.72-30.72-30.72-120.32 0-233.472 47.616-317.952 134.144S26.112 445.952 29.184 566.784c2.56 114.688 49.152 222.72 131.072 304.128 81.92 81.408 189.952 128 304.64 130.56h10.24c117.76 0 227.84-45.568 312.32-128.512 86.528-85.504 133.632-199.68 132.608-321.024-0.512-2.048-1.536-29.696-35.84-29.696z m-140.288 307.712c-74.752 73.728-173.056 112.64-277.504 110.592-205.824-4.608-370.688-169.472-375.296-374.784-3.072-104.448 35.84-202.752 108.544-277.504 65.536-67.072 151.552-107.52 243.712-114.688v378.88c0 16.896 13.824 30.72 30.72 30.72 129.024 0 311.296 0 382.976 0.512-6.144 93.184-46.08 179.712-113.152 246.272z" fill="#6c757d" p-id="7335"></path><path d="M603.136 11.264c-8.192-0.512-15.872 3.072-22.016 8.704-5.632 5.632-9.216 13.824-9.216 22.016v378.88c0 16.896 13.824 30.72 30.72 30.72h378.88c16.896 0 30.72-13.824 30.72-30.72 0-223.744-183.808-407.552-409.088-409.6z m30.208 378.88V74.24c167.424 16.384 301.056 150.016 315.904 315.904h-315.904z" fill="#6c757d" p-id="7336"></path></svg></a></div>
        <div id="light-dark" style="cursor: pointer;"><a><svg t="1656411842215" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5086" width="12" height="12"><path d="M1007.492874 384.513055c-8.795694-34.58307-21.189627-67.666874-36.682043-99.05151-2.698679-5.397358-10.894667-3.498287-10.894666 2.598728v0.299853c0 32.484098-6.896624 63.868734-19.890263 92.554691-10.694764 23.488501-25.487523 45.077933-43.978471 64.068635-41.779547 42.679107-99.05151 66.967217-158.722299 67.26707-61.869712 0.299853-119.941284-24.188159-162.920244-68.966238-40.280281-41.979449-62.56937-98.251902-62.269516-156.323473 0.399804-59.270984 23.588452-114.94373 65.567901-156.823229 19.59041-19.59041 42.179351-35.082826 66.667364-46.077443C672.956643 71.166451 704.041426 64.469729 736.125719 64.469729h1.299364c6.097015 0 8.096037-8.096037 2.598728-10.794715C708.739126 37.982696 675.655322 25.488812 641.172203 16.493216 599.492607 5.598549 555.714038-0.098662 510.536154 0.001289 222.37722 0.700947-7.41029 237.38508 0.185992 525.444064c7.096526 271.667008 225.889418 490.559851 497.456474 497.856279 287.559228 7.796183 524.14341-220.891864 525.842579-508.551044 0.299853-44.977981-5.297407-88.656599-15.992171-130.236244z m-83.15929 301.552378c-22.588942 53.27392-54.873137 101.250434-95.953027 142.330323-41.179841 41.179841-89.056403 73.464036-142.330324 95.953027-55.172991 23.288599-113.744317 35.182777-174.314666 35.182777s-119.141675-11.794226-174.314666-35.182777c-53.27392-22.588942-101.250434-54.873137-142.330323-95.953027-41.179841-41.179841-73.464036-89.056403-95.953027-142.330323C75.749001 630.892442 63.954774 572.221164 63.954774 511.750767s11.794226-119.141675 35.182777-174.314666c22.588942-53.27392 54.873137-101.250434 95.953027-142.330323 41.179841-41.179841 89.056403-73.464036 142.330323-95.953027C392.593892 75.7642 451.26517 63.969974 511.735567 63.969974c13.99315 0 27.886348 0.599706 41.679596 1.89907C489.246577 118.643209 448.266638 198.704016 448.266638 288.360126c0 159.022152 128.836929 287.859081 287.859081 287.859081 89.156354 0 168.817357-40.580134 221.691473-104.149015 1.099462 13.09359 1.699168 26.387082 1.699168 39.680575 0 60.470397-11.794226 119.141675-35.182776 174.314666z" p-id="5087" fill="#6c757d"></path></svg></a></div>
        
    </div>

    
</div>

            <div id="toc">📜</div>
        
    
    
</div>
</div>
        <div id="content">















<div class="container-main 
     container-page 
">

    <div class="desc">
        
        <span>
            
            <svg t="1656736000388" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="7409" width="12" height="12"><path d="M524.885333 338.986667L200.362667 663.466667c-17.28 15.274667-27.989333 36.693333-29.696 56.234666v133.76l130.730666 0.085334c22.784-1.621333 43.989333-12.245333 61.013334-31.701334l322.688-322.645333-160.213334-160.213333z m60.373334-60.330667l160.170666 160.213333 102.144-102.144a19.712 19.712 0 0 0 0-27.861333L715.093333 176.426667a19.456 19.456 0 0 0-27.605333 0L585.258667 278.613333zM701.312 85.333333c27.946667 0 54.741333 11.136 74.282667 30.848l132.309333 132.309334a105.045333 105.045333 0 0 1 0 148.565333L424.874667 879.957333c-29.824 34.346667-72.106667 55.466667-120.448 58.794667H85.333333v-42.666667l0.128-179.84c3.626667-44.970667 24.576-86.826667 56.448-114.944l485.12-485.034666A104.789333 104.789333 0 0 1 701.269333 85.333333z" p-id="7410" fill="#adb5bd"></path></svg>
            2024-04-24&nbsp;
        </span>
        <span>
            
            <svg t="1656737270708" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="23838" width="11" height="11"><path d="M824.264 95.36c0-23.859 25.043-44.16 48.902-44.16s49.714 20.301 49.714 44.16v190.08c0 23.859-19.054 52.868-42.913 52.868h-190.08c-23.859 0-46.696-25.96-46.696-49.819s22.55-46.249 46.409-46.249h82.025C702.344 175.534 610.22 155.853 512 155.853c-206.775 0-360.398 149.372-360.398 356.147 0 206.775 153.623 358.23 360.398 358.23 206.775 0 357.467-151.455 357.467-358.23 0-23.859 23.634-50.706 53.413-50.706 29.78 0 49.92 26.847 49.92 50.706 0 254.493-206.307 460.8-460.8 460.8-254.493 0-460.8-206.307-460.8-460.8C51.2 257.507 257.507 51.2 512 51.2c122.4 0 226.684 33.296 312.264 117.369 0.358 0.351 0.358-24.052 0-73.209z" p-id="23839" fill="#adb5bd"></path></svg>
            2024-04-24&nbsp;&nbsp;&nbsp;
        </span>
        <span>
            
            <svg t="1656737548689" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="33866" width="12" height="12"><path d="M832.038608 64.662657H192.030028C121.255125 64.662657 63.940169 121.98845 63.940169 192.694717v446.793671C63.940169 710.205493 121.255125 767.643272 192.030028 767.643272h133.353183a63.940169 63.940169 0 0 1 55.219742 31.576328l76.099638 129.83828c12.358154 21.093031 33.790754 31.626903 55.216129 31.626903s42.832688-10.544709 55.198067-31.619678l76.222461-129.870792a63.940169 63.940169 0 0 1 55.212517-31.551041h133.54103c70.576219 0 127.732228-57.289669 127.732227-127.800865V192.391272C959.825022 121.85479 902.643727 64.662657 832.038608 64.662657zM895.884854 639.842407A63.85347 63.85347 0 0 1 832.092795 703.703103h-133.54103a127.753903 127.753903 0 0 0-110.349172 63.09847l-76.222461 129.856342a0.274545 0.274545 0 0 1 0-0.050574h-0.032512s-0.021675 0.061411-0.032512 0.061412l-76.1466-129.85273A127.804477 127.804477 0 0 0 325.383211 703.703103H192.030028A64.207489 64.207489 0 0 1 127.880338 639.488388V192.694717A64.102729 64.102729 0 0 1 192.030028 128.602826h640.00858A63.799284 63.799284 0 0 1 895.884854 192.391272v447.451135z" fill="#adb5bd" p-id="33867"></path><path d="M608.154093 288.092004A31.970084 31.970084 0 0 0 576.184009 320.062089v160.078006l-134.650049-179.278119A31.970084 31.970084 0 0 0 384.002258 320.062089v255.760676a31.970084 31.970084 0 0 0 63.940169 0v-159.958796l134.650048 179.274507a31.970084 31.970084 0 0 0 57.531703-19.200113V320.062089a31.970084 31.970084 0 0 0-31.970085-31.970085z" fill="#adb5bd" p-id="33868"></path></svg>
            20262 字</span>&nbsp;
        <span>
            
            <svg t="1656737462334" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="32892" width="12" height="12"><path d="M512 74.666667C270.933333 74.666667 74.666667 270.933333 74.666667 512S270.933333 949.333333 512 949.333333 949.333333 753.066667 949.333333 512 753.066667 74.666667 512 74.666667z m0 810.666666c-204.8 0-373.333333-168.533333-373.333333-373.333333S307.2 138.666667 512 138.666667 885.333333 307.2 885.333333 512 716.8 885.333333 512 885.333333z" p-id="32893" fill="#adb5bd"></path><path d="M695.466667 567.466667l-151.466667-70.4V277.333333c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v238.933334c0 12.8 6.4 23.466667 19.2 29.866666l170.666667 81.066667c4.266667 2.133333 8.533333 2.133333 12.8 2.133333 12.8 0 23.466667-6.4 29.866666-19.2 6.4-14.933333 0-34.133333-17.066666-42.666666z" p-id="32894" fill="#adb5bd"></path></svg>
            41 分钟</span>
            <div class="container-ctgtag">
	<div class="taxonomy">
		
		<div class="ctg">
			
			
		</div>
		<div class="tag">
			
			 - 
			
			<a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84">数据结构</a>
			
		</div>
	</div>
</div>
        
    </div>
    
    <div class="toc">
        
        <div class="page-operation">
            <div><a href="#"><img src="/imgs/icons/arrow-up-circle.svg" alt=""></a></div>
            <div><a href="https://one-ruri.github.io/posts/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95%E7%AA%81%E5%87%BB%E7%89%88%E5%AD%A6%E4%B9%A0/"><img src="/imgs/icons/arrow-left-circle.svg" alt=""></a></div>
            <div><a href="https://one-ruri.github.io/posts/js%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-vue%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/"><img src="/imgs/icons/arrow-right-circle.svg" alt=""></a></div>
        </div>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#题目描述">题目描述</a></li>
    <li><a href="#输入格式">输入格式</a></li>
    <li><a href="#输出格式">输出格式</a></li>
    <li><a href="#样例-1">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1">样例输入 #1</a></li>
        <li><a href="#样例输出-1">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示">提示</a></li>
    <li><a href="#解题思路">解题思路：</a>
      <ul>
        <li><a href="#方法2队列">方法2：队列</a></li>
      </ul>
    </li>
    <li><a href="#解题思路python">解题思路（python）</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-1">题目描述</a></li>
    <li><a href="#输入格式-1">输入格式</a></li>
    <li><a href="#输出格式-1">输出格式</a></li>
    <li><a href="#样例-1-1">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-1">样例输入 #1</a></li>
        <li><a href="#样例输出-1-1">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-1">提示</a></li>
    <li><a href="#解题思路-1">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-2">题目描述</a></li>
    <li><a href="#输入格式-2">输入格式</a></li>
    <li><a href="#输出格式-2">输出格式</a></li>
    <li><a href="#样例-1-2">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-2">样例输入 #1</a></li>
        <li><a href="#样例输出-1-2">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#解题思路-2">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-3">题目描述</a></li>
    <li><a href="#输入格式-3">输入格式</a></li>
    <li><a href="#输出格式-3">输出格式</a></li>
    <li><a href="#样例-1-3">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-3">样例输入 #1</a></li>
        <li><a href="#样例输出-1-3">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-2">提示</a></li>
    <li><a href="#解题思路-3">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-4">题目描述</a></li>
    <li><a href="#输入格式-4">输入格式</a></li>
    <li><a href="#输出格式-4">输出格式</a></li>
    <li><a href="#样例-1-4">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-4">样例输入 #1</a></li>
        <li><a href="#样例输出-1-4">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#解题思路-4">解题思路</a></li>
    <li><a href="#解题思路2">解题思路2</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-5">题目描述</a></li>
    <li><a href="#输入格式-5">输入格式</a></li>
    <li><a href="#输出格式-5">输出格式</a></li>
    <li><a href="#样例-1-5">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-5">样例输入 #1</a></li>
        <li><a href="#样例输出-1-5">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-3">提示</a></li>
    <li><a href="#解题思路-5">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-6">题目描述</a></li>
    <li><a href="#输入格式-6">输入格式</a></li>
    <li><a href="#输出格式-6">输出格式</a></li>
    <li><a href="#样例-1-6">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-6">样例输入 #1</a></li>
        <li><a href="#样例输出-1-6">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#样例-2">样例 #2</a>
      <ul>
        <li><a href="#样例输入-2">样例输入 #2</a></li>
        <li><a href="#样例输出-2">样例输出 #2</a></li>
      </ul>
    </li>
    <li><a href="#提示-4">提示</a></li>
    <li><a href="#解题思路-6">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-7">题目描述</a></li>
    <li><a href="#输入格式-7">输入格式</a></li>
    <li><a href="#输出格式-7">输出格式</a></li>
    <li><a href="#样例-1-7">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-7">样例输入 #1</a></li>
        <li><a href="#样例输出-1-7">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#样例-2-1">样例 #2</a>
      <ul>
        <li><a href="#样例输入-2-1">样例输入 #2</a></li>
        <li><a href="#样例输出-2-1">样例输出 #2</a></li>
      </ul>
    </li>
    <li><a href="#提示-5">提示</a>
      <ul>
        <li><a href="#数据规模与约定">数据规模与约定</a></li>
      </ul>
    </li>
    <li><a href="#解题思路-7">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目背景">题目背景</a></li>
    <li><a href="#题目描述-8">题目描述</a></li>
    <li><a href="#输入格式-8">输入格式</a></li>
    <li><a href="#输出格式-8">输出格式</a></li>
    <li><a href="#样例-1-8">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-8">样例输入 #1</a></li>
        <li><a href="#样例输出-1-8">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-6">提示</a></li>
    <li><a href="#解题思路-8">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目背景-1">题目背景</a></li>
    <li><a href="#题目描述-9">题目描述</a></li>
    <li><a href="#输入格式-9">输入格式</a></li>
    <li><a href="#输出格式-9">输出格式</a></li>
    <li><a href="#样例-1-9">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-9">样例输入 #1</a></li>
        <li><a href="#样例输出-1-9">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-7">提示</a></li>
    <li><a href="#解题思路-9">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-10">题目描述</a></li>
    <li><a href="#输入格式-10">输入格式</a></li>
    <li><a href="#输出格式-10">输出格式</a></li>
    <li><a href="#样例-1-10">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-10">样例输入 #1</a></li>
        <li><a href="#样例输出-1-10">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-8">提示</a></li>
    <li><a href="#提示-9">提示</a></li>
    <li><a href="#解题代码">解题代码</a></li>
    <li><a href="#解题思路-10">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-11">题目描述</a></li>
    <li><a href="#输入格式-11">输入格式</a></li>
    <li><a href="#输出格式-11">输出格式</a></li>
    <li><a href="#样例-1-11">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-11">样例输入 #1</a></li>
        <li><a href="#样例输出-1-11">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#解题答案">解题答案</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-12">题目描述</a></li>
    <li><a href="#输入格式-12">输入格式</a></li>
    <li><a href="#输出格式-12">输出格式</a></li>
    <li><a href="#样例-1-12">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-12">样例输入 #1</a></li>
        <li><a href="#样例输出-1-12">样例输出 #1</a></li>
        <li><a href="#解题思路-11">解题思路</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目背景-2">题目背景</a></li>
    <li><a href="#题目描述-13">题目描述</a></li>
    <li><a href="#输入格式-13">输入格式</a></li>
    <li><a href="#输出格式-13">输出格式</a></li>
    <li><a href="#样例-1-13">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-13">样例输入 #1</a></li>
        <li><a href="#样例输出-1-13">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-10">提示</a></li>
    <li><a href="#解题思路-12">解题思路</a>
      <ul>
        <li><a href="#map-映照容器可以解决这一题"><strong>map 映照容器可以解决这一题</strong></a></li>
        <li><a href="#python如何解决这一个问题">python如何解决这一个问题？</a></li>
        <li><a href="#知识点补充bisect库">知识点补充（bisect库）</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-14">题目描述</a></li>
    <li><a href="#输入格式-14">输入格式</a></li>
    <li><a href="#输出格式-14">输出格式</a></li>
    <li><a href="#样例-1-14">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-14">样例输入 #1</a></li>
        <li><a href="#样例输出-1-14">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-11">提示</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-15">题目描述</a></li>
    <li><a href="#输入格式-15">输入格式</a></li>
    <li><a href="#输出格式-15">输出格式</a></li>
    <li><a href="#样例-1-15">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-15">样例输入 #1</a></li>
        <li><a href="#样例输出-1-15">样例输出 #1</a></li>
        <li><a href="#解题答案-1">解题答案</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-16">题目描述</a></li>
    <li><a href="#输入格式-16">输入格式</a></li>
    <li><a href="#输出格式-16">输出格式</a></li>
    <li><a href="#样例-1-16">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-16">样例输入 #1</a></li>
        <li><a href="#样例输出-1-16">样例输出 #1</a></li>
        <li><a href="#解题答案-2">解题答案</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-17">题目描述</a></li>
    <li><a href="#输入格式-17">输入格式</a></li>
    <li><a href="#输出格式-17">输出格式</a></li>
    <li><a href="#样例-1-17">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-17">样例输入 #1</a></li>
        <li><a href="#样例输出-1-17">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-12">提示</a>
      <ul>
        <li><a href="#解题思路-13">解题思路</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-18">题目描述</a></li>
    <li><a href="#输入格式-18">输入格式</a></li>
    <li><a href="#输出格式-18">输出格式</a></li>
    <li><a href="#样例-1-18">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-18">样例输入 #1</a></li>
        <li><a href="#样例输出-1-18">样例输出 #1</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-19">题目描述</a></li>
    <li><a href="#输入格式-19">输入格式</a></li>
    <li><a href="#输出格式-19">输出格式</a></li>
    <li><a href="#样例-1-19">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-19">样例输入 #1</a></li>
        <li><a href="#样例输出-1-19">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-13">提示</a></li>
  </ul>

  <ul>
    <li><a href="#题目背景-3">题目背景</a></li>
    <li><a href="#题目描述-20">题目描述</a></li>
    <li><a href="#输入格式-20">输入格式</a></li>
    <li><a href="#输出格式-20">输出格式</a></li>
    <li><a href="#样例-1-20">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-20">样例输入 #1</a></li>
        <li><a href="#样例输出-1-20">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-14">提示</a></li>
  </ul>

  <ul>
    <li><a href="#题目背景-4">题目背景</a></li>
    <li><a href="#题目描述-21">题目描述</a></li>
    <li><a href="#输入格式-21">输入格式</a></li>
    <li><a href="#输出格式-21">输出格式</a></li>
    <li><a href="#样例-1-21">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-21">样例输入 #1</a></li>
        <li><a href="#样例输出-1-21">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-15">提示</a>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-22">题目描述</a></li>
    <li><a href="#输入格式-22">输入格式</a></li>
    <li><a href="#输出格式-22">输出格式</a></li>
    <li><a href="#样例-1-22">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-22">样例输入 #1</a></li>
        <li><a href="#样例输出-1-22">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-16">提示</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-23">题目描述</a></li>
    <li><a href="#输入格式-23">输入格式</a></li>
    <li><a href="#输出格式-23">输出格式</a></li>
    <li><a href="#样例-1-23">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-23">样例输入 #1</a></li>
        <li><a href="#样例输出-1-23">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#样例-2-2">样例 #2</a>
      <ul>
        <li><a href="#样例输入-2-2">样例输入 #2</a></li>
        <li><a href="#样例输出-2-2">样例输出 #2</a></li>
      </ul>
    </li>
    <li><a href="#样例-3">样例 #3</a>
      <ul>
        <li><a href="#样例输入-3">样例输入 #3</a></li>
        <li><a href="#样例输出-3">样例输出 #3</a></li>
      </ul>
    </li>
    <li><a href="#提示-17">提示</a></li>
  </ul>

  <ul>
    <li><a href="#题目描述-24">题目描述</a></li>
    <li><a href="#输入格式-24">输入格式</a></li>
    <li><a href="#输出格式-24">输出格式</a></li>
    <li><a href="#样例-1-24">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-24">样例输入 #1</a></li>
        <li><a href="#样例输出-1-24">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-18">提示</a></li>
    <li><a href="#解题思路-14">解题思路</a></li>
  </ul>

  <ul>
    <li><a href="#题面翻译">题面翻译</a></li>
    <li><a href="#题目描述-25">题目描述</a></li>
    <li><a href="#输入格式-25">输入格式</a></li>
    <li><a href="#输出格式-25">输出格式</a></li>
    <li><a href="#样例-1-25">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-25">样例输入 #1</a></li>
        <li><a href="#样例输出-1-25">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#样例-2-3">样例 #2</a>
      <ul>
        <li><a href="#样例输入-2-3">样例输入 #2</a></li>
        <li><a href="#样例输出-2-3">样例输出 #2</a></li>
      </ul>
    </li>
    <li><a href="#提示-19">提示</a></li>
    <li><a href="#解题思路-15">解题思路</a>
      <ul>
        <li><a href="#哈夫曼树堆贪心">哈夫曼树：堆+贪心</a></li>
        <li><a href="#答案">答案</a></li>
      </ul>
    </li>
  </ul>

  <ul>
    <li><a href="#题目描述-26">题目描述</a></li>
    <li><a href="#输入格式-26">输入格式</a></li>
    <li><a href="#输出格式-26">输出格式</a></li>
    <li><a href="#样例-1-26">样例 #1</a>
      <ul>
        <li><a href="#样例输入-1-26">样例输入 #1</a></li>
        <li><a href="#样例输出-1-26">样例输出 #1</a></li>
      </ul>
    </li>
    <li><a href="#提示-20">提示</a></li>
    <li><a href="#解题思路-16">解题思路</a></li>
  </ul>
</nav>
    </div>

    <div class='content  content '>
        <h1 id="p1996-约瑟夫问题">P1996 约瑟夫问题</h1>
<h2 id="题目描述">题目描述</h2>
<p>$n$ 个人围成一圈，从第一个人开始报数,数到 $m$ 的人出列，再由下一个人重新从 $1$ 开始报数，数到 $m$ 的人再出圈，依次类推，直到所有的人都出圈，请输出依次出圈人的编号。</p>
<p><strong>注意：本题和《深入浅出-基础篇》上例题的表述稍有不同。书上表述是给出淘汰 $n-1$ 名小朋友，而该题是全部出圈。</strong></p>
<h2 id="输入格式">输入格式</h2>
<p>输入两个整数 $n,m$。</p>
<h2 id="输出格式">输出格式</h2>
<p>输出一行 $n$ 个整数，按顺序输出每个出圈人的编号。</p>
<h2 id="样例-1">样例 #1</h2>
<h3 id="样例输入-1">样例输入 #1</h3>
<pre tabindex="0"><code>10 3
</code></pre><h3 id="样例输出-1">样例输出 #1</h3>
<pre tabindex="0"><code>3 6 9 2 7 1 8 5 10 4
</code></pre><h2 id="提示">提示</h2>
<p>$1 \le m, n \le 100$​</p>
<h2 id="解题思路">解题思路：</h2>
<p>由于这题数据范围非常小，因此可以用很多比较奇怪的算法。不过，命题者的初衷是希望我们使用链表进行模拟。</p>
<p>在这里，我使用了一个结构体 <code>Peo</code> 存储一个双向链表：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">Peo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> ID;                    <span style="color:#998;font-style:italic">//编号
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    Peo <span style="color:#000;font-weight:bold">*</span>next, <span style="color:#000;font-weight:bold">*</span>front;
</span></span><span style="display:flex;"><span>};
</span></span></code></pre></div><p>其中 <code>ID</code> 代表这个人的编号，输出时使用，另外两个指针分别指向上一个和下一个人，不过我们先要对其初始化。 使用两个变量 <code>tot</code>, <code>outNum</code> 来分别存储总人数和出局的数，然后让链表之间互相链接，最后首尾相连。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">++</span>) { n[i].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; n[i].next <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; n[i].ID <span style="color:#000;font-weight:bold">=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; }
</span></span><span style="display:flex;"><span>    n[<span style="color:#099">0</span>].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; n[<span style="color:#099">0</span>].next <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].next <span style="color:#000;font-weight:bold">=</span> n;
</span></span><span style="display:flex;"><span>    n[<span style="color:#099">0</span>].ID <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].ID <span style="color:#000;font-weight:bold">=</span> tot;
</span></span></code></pre></div><p>链表初始化完成之后，我们可以使用一个结构体指针 <code>now</code> 来表示我们现在模拟到哪一个人了。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>Peo <span style="color:#000;font-weight:bold">*</span>now <span style="color:#000;font-weight:bold">=</span> n;            <span style="color:#998;font-style:italic">//指向目前报数的人的指针
</span></span></span></code></pre></div><p>最后，我们需要用一种方法来删除链表当中的某一项，可以这样考虑，如果当前需要删除的项是 <code>now</code>, 那么链表中需要修改的变量只有它前一项和后一项的两个指针，在代码实现上，将 <code>now-&gt;front</code> 的 <code>next</code> 更改为<code>now-&gt;next</code>，然后 <code>now-&gt;next</code> 的 <code>front</code> 更改为<code>now-&gt;front</code> 就可以了。我们使用一个函数封装这一过程。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">_Cut</span>(Peo <span style="color:#000;font-weight:bold">*</span>num)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        num <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>front;
</span></span><span style="display:flex;"><span>        num<span style="color:#000;font-weight:bold">-&gt;</span>next <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>next<span style="color:#000;font-weight:bold">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        num <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>next;
</span></span><span style="display:flex;"><span>        num<span style="color:#000;font-weight:bold">-&gt;</span>front <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>front<span style="color:#000;font-weight:bold">-&gt;</span>front;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><p>这样，剩下的就是依据题意模拟了，过程虽然看似有些复杂，但是这大致就是题目期望我们去做的全部过程。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">Peo</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> ID;                                    <span style="color:#998;font-style:italic">//编号
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    Peo <span style="color:#000;font-weight:bold">*</span>next, <span style="color:#000;font-weight:bold">*</span>front;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    Peo(){ next <span style="color:#000;font-weight:bold">=</span> front <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">nullptr</span>; }
</span></span><span style="display:flex;"><span>}n[<span style="color:#099">100</span>];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">_Cut</span>(Peo <span style="color:#000;font-weight:bold">*</span>num)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    num <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>front;
</span></span><span style="display:flex;"><span>    num<span style="color:#000;font-weight:bold">-&gt;</span>next <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>next<span style="color:#000;font-weight:bold">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    num <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>next;
</span></span><span style="display:flex;"><span>    num<span style="color:#000;font-weight:bold">-&gt;</span>front <span style="color:#000;font-weight:bold">=</span> num<span style="color:#000;font-weight:bold">-&gt;</span>front<span style="color:#000;font-weight:bold">-&gt;</span>front;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> tot, outNum, nowNum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>    Peo <span style="color:#000;font-weight:bold">*</span>now <span style="color:#000;font-weight:bold">=</span> n;            <span style="color:#998;font-style:italic">//指向目前报数的人的指针
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> tot <span style="color:#000;font-weight:bold">&gt;&gt;</span> outNum;        <span style="color:#998;font-style:italic">//数据读入
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">++</span>) { n[i].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; n[i].next <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; n[i].ID <span style="color:#000;font-weight:bold">=</span> i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; }
</span></span><span style="display:flex;"><span>    n[<span style="color:#099">0</span>].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>; n[<span style="color:#099">0</span>].next <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].front <span style="color:#000;font-weight:bold">=</span> n <span style="color:#000;font-weight:bold">+</span> tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].next <span style="color:#000;font-weight:bold">=</span> n;
</span></span><span style="display:flex;"><span>    n[<span style="color:#099">0</span>].ID <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; n[tot <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>].ID <span style="color:#000;font-weight:bold">=</span> tot;
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//初始化链表
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> (tot <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">0</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (nowNum <span style="color:#000;font-weight:bold">==</span> outNum) {
</span></span><span style="display:flex;"><span>            cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> now<span style="color:#000;font-weight:bold">-&gt;</span>ID <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34; &#34;</span>;        <span style="color:#998;font-style:italic">//输出出局的人的编号
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            
</span></span><span style="display:flex;"><span>            _Cut(now);                    <span style="color:#998;font-style:italic">//出局
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            nowNum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;                    <span style="color:#998;font-style:italic">//初始化数字
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            tot<span style="color:#000;font-weight:bold">--</span>;                        <span style="color:#998;font-style:italic">//总人数-1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            now <span style="color:#000;font-weight:bold">=</span> now<span style="color:#000;font-weight:bold">-&gt;</span>next;            <span style="color:#998;font-style:italic">//下一个人
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>            nowNum<span style="color:#000;font-weight:bold">++</span>;                    <span style="color:#998;font-style:italic">//数字+1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            now <span style="color:#000;font-weight:bold">=</span> now<span style="color:#000;font-weight:bold">-&gt;</span>next;            <span style="color:#998;font-style:italic">//下一个人
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h3 id="方法2队列">方法2：队列</h3>
<p>若是使用链表，这题的代码实现复杂程度无疑大大上升了，其实，我们完全用不着那么麻烦，一个个地报数，可以想象成一个队列，一个人报完数后，判断他所报的数是不是出局的数，如果是，直接弹出，但若不是，将其移动至队尾。</p>
<p>我们使用一个队列 <code>q</code> 进行模拟，在读取总人数和出局数字后，把这些人一个个地压入队列尾部。在使用队列之前，需要先加上头文件 <code>&lt;queue&gt;</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> tot, outNum, nowNum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>        queue<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> q;
</span></span><span style="display:flex;"><span>        cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> tot <span style="color:#000;font-weight:bold">&gt;&gt;</span> outNum;                        <span style="color:#998;font-style:italic">//读取数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> tot; i<span style="color:#000;font-weight:bold">++</span>)q.push(i);    <span style="color:#998;font-style:italic">//初始化队列
</span></span></span></code></pre></div><p>完成这些之后，开始模拟，整个过程非常直观，在这里就不详细解释了。以下是完整代码。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>    <span style="color:#999;font-weight:bold;font-style:italic">#include&lt;queue&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>    <span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#458;font-weight:bold">int</span> tot, outNum, nowNum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>        queue<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> q;
</span></span><span style="display:flex;"><span>        cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> tot <span style="color:#000;font-weight:bold">&gt;&gt;</span> outNum;                        <span style="color:#998;font-style:italic">//读取数据
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> tot; i<span style="color:#000;font-weight:bold">++</span>)q.push(i);    <span style="color:#998;font-style:italic">//初始化队列
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">while</span> (<span style="color:#000;font-weight:bold">!</span>q.empty())                    <span style="color:#998;font-style:italic">//在队列不为空时继续模拟
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> (nowNum <span style="color:#000;font-weight:bold">==</span> outNum)
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> q.front() <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34; &#34;</span>;    <span style="color:#998;font-style:italic">//打印出局的人的编号
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                q.pop();                    <span style="color:#998;font-style:italic">//出局
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                nowNum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;                    <span style="color:#998;font-style:italic">//初始化现在的数字
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                nowNum<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>                q.push(q.front());            <span style="color:#998;font-style:italic">//排至队尾
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                q.pop();
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> endl;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><hr>
<p>14-3-2020 UPD： 替换了正文部分错误或模棱两可的表述。规范了第一段代码中不合适的实现细节。</p>
<p>作者：Mickey_snow</p>
<h2 id="解题思路python">解题思路（python）</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n, m <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>peo <span style="color:#000;font-weight:bold">=</span> [i <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>, n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)]
</span></span><span style="display:flex;"><span>ple <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">while</span> peo:
</span></span><span style="display:flex;"><span>    i <span style="color:#000;font-weight:bold">+=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    p <span style="color:#000;font-weight:bold">=</span> peo<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> i <span style="color:#000;font-weight:bold">==</span> m:
</span></span><span style="display:flex;"><span>        ple<span style="color:#000;font-weight:bold">.</span>append(p)
</span></span><span style="display:flex;"><span>        i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        peo<span style="color:#000;font-weight:bold">.</span>append(p)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> ple:
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(i,end <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34; &#34;</span>)
</span></span></code></pre></div><p>解法2：</p>
<pre tabindex="0"><code class="language-pytohn" data-lang="pytohn">import queue        # 导入Python自带的queue标准库可以实现队列、栈、优先队列
 
 
def josephus(num1, num2):
    q = queue.Queue()                # 声明q是一个队列
    for i in range(1, num1 + 1):        # 数字依次导入
       q.put(i)
 
    while q.qsize() &gt; 0:
        for i in range(num2 - 1):    # 死亡计数，被点到的出列
            q.put(q.get())
        print(q.get(), end=&#39; &#39;)    # 输出出列数
 
 
n, m = map(int, input().split())
josephus(n, m)
</code></pre><h1 id="p1047-noip2005-普及组-校门外的树">P1047 [NOIP2005 普及组] 校门外的树  </h1>
<h2 id="题目描述-1">题目描述</h2>
<p>某校大门外长度为 $l$ 的马路上有一排树，每两棵相邻的树之间的间隔都是 $1$ 米。我们可以把马路看成一个数轴，马路的一端在数轴 $0$ 的位置，另一端在 $l$ 的位置；数轴上的每个整数点，即 $0,1,2,\dots,l$，都种有一棵树。</p>
<p>由于马路上有一些区域要用来建地铁。这些区域用它们在数轴上的起始点和终止点表示。已知任一区域的起始点和终止点的坐标都是整数，区域之间可能有重合的部分。现在要把这些区域中的树（包括区域端点处的两棵树）移走。你的任务是计算将这些树都移走后，马路上还有多少棵树。</p>
<h2 id="输入格式-1">输入格式</h2>
<p>第一行有两个整数，分别表示马路的长度 $l$ 和区域的数目 $m$。</p>
<p>接下来 $m$ 行，每行两个整数 $u, v$，表示一个区域的起始点和终止点的坐标。</p>
<h2 id="输出格式-1">输出格式</h2>
<p>输出一行一个整数，表示将这些树都移走后，马路上剩余的树木数量。</p>
<h2 id="样例-1-1">样例 #1</h2>
<h3 id="样例输入-1-1">样例输入 #1</h3>
<pre tabindex="0"><code>500 3
150 300
100 200
470 471
</code></pre><h3 id="样例输出-1-1">样例输出 #1</h3>
<pre tabindex="0"><code>298
</code></pre><h2 id="提示-1">提示</h2>
<p><strong>【数据范围】</strong></p>
<ul>
<li>对于 $20%$ 的数据，保证区域之间没有重合的部分。</li>
<li>对于 $100%$ 的数据，保证 $1 \leq l \leq 10^4$，$1 \leq m \leq 100$，$0 \leq u \leq v \leq l$。</li>
</ul>
<p><strong>【题目来源】</strong></p>
<p>NOIP 2005 普及组第二题</p>
<h2 id="解题思路-1">解题思路</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;stdio.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> l <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, m <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;<span style="color:#998;font-style:italic">//马路长度和区间个数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    scanf(<span style="color:#d14">&#34;%d%d&#34;</span>, <span style="color:#000;font-weight:bold">&amp;</span>l, <span style="color:#000;font-weight:bold">&amp;</span>m);
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> u <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, v <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;<span style="color:#998;font-style:italic">//区间的左右位置，u肯定小于v滴
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#458;font-weight:bold">int</span> tree[<span style="color:#099">10001</span>]<span style="color:#000;font-weight:bold">=</span>{<span style="color:#099">0</span>};
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//树树全部初始化为0，代表没砍过
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> m; i<span style="color:#000;font-weight:bold">++</span>)<span style="color:#998;font-style:italic">//一共有m个区间，那就得操作m次呐
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        scanf(<span style="color:#d14">&#34;%d%d&#34;</span>, <span style="color:#000;font-weight:bold">&amp;</span>u, <span style="color:#000;font-weight:bold">&amp;</span>v);<span style="color:#998;font-style:italic">//想从哪砍到哪呢
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> u; j <span style="color:#000;font-weight:bold">&lt;=</span> v; j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(tree[j]<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>            tree[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;<span style="color:#998;font-style:italic">//砍过的标记为1
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> sum <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;<span style="color:#998;font-style:italic">//剩余sum棵树树还没被砍
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> k <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; k <span style="color:#000;font-weight:bold">&lt;=</span> l; k<span style="color:#000;font-weight:bold">++</span>)<span style="color:#998;font-style:italic">//遍历树树
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (tree[k] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) sum<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    printf(<span style="color:#d14">&#34;%d&#34;</span>, sum);
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p5732-深基5习7杨辉三角">P5732 【深基5.习7】杨辉三角  </h1>
<h2 id="题目描述-2">题目描述</h2>
<p>给出 $n(n\le20)$，输出杨辉三角的前 $n$ 行。</p>
<p>如果你不知道什么是杨辉三角，可以观察样例找找规律。</p>
<h2 id="输入格式-2">输入格式</h2>
<h2 id="输出格式-2">输出格式</h2>
<h2 id="样例-1-2">样例 #1</h2>
<h3 id="样例输入-1-2">样例输入 #1</h3>
<pre tabindex="0"><code>6
</code></pre><h3 id="样例输出-1-2">样例输出 #1</h3>
<pre tabindex="0"><code>1
1 1
1 2 1
1 3 3 1
1 4 6 4 1
1 5 10 10 5 1
</code></pre><h2 id="解题思路-2">解题思路</h2>
<p>杨辉三角形的规律：</p>
<ul>
<li>1、每个数等于它上方两数之和。</li>
<li>2、每行数字左右对称，由1开始逐渐变大。</li>
<li>3、第n行的数字有n项。</li>
<li>4、第n行数字和为2^(n-1)。（2的(n-1)次方）</li>
<li>5 (a+b)^n的展开式中的各项系数依次对应杨辉三角的第(n+1)行中的每一项。</li>
<li>6、第n行的第m个数和第n-m个数相等，即C(n,m)=C(n,n-m)，这是组合数性质</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"># include &lt;stdio.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span> ()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>n);
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> arr[<span style="color:#099">30</span>][<span style="color:#099">30</span>]<span style="color:#000;font-weight:bold">=</span>{<span style="color:#099">0</span>};
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>i;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(i<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">&amp;&amp;</span>j<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				arr[<span style="color:#099">1</span>][<span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>				printf(<span style="color:#d14">&#34;%d &#34;</span>,arr[i][j]);     <span style="color:#998;font-style:italic">//第一行是特殊的，需要注意
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				<span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			arr[i][j]<span style="color:#000;font-weight:bold">=</span>arr[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>arr[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j];
</span></span><span style="display:flex;"><span>			printf(<span style="color:#d14">&#34;%d &#34;</span>,arr[i][j]);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		printf(<span style="color:#d14">&#34;</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p1160-队列安排">P1160 队列安排  </h1>
<h2 id="题目描述-3">题目描述</h2>
<p>一个学校里老师要将班上 $N$ 个同学排成一列，同学被编号为 $1\sim N$，他采取如下的方法：</p>
<ol>
<li>
<p>先将 $1$ 号同学安排进队列，这时队列中只有他一个人；</p>
</li>
<li>
<p>$2\sim N$ 号同学依次入列，编号为 $i$ 的同学入列方式为：老师指定编号为 $i$ 的同学站在编号为 $1\sim(i-1)$ 中某位同学（即之前已经入列的同学）的左边或右边；</p>
</li>
<li>
<p>从队列中去掉 $M$ 个同学，其他同学位置顺序不变。</p>
</li>
</ol>
<p>在所有同学按照上述方法队列排列完毕后，老师想知道从左到右所有同学的编号。</p>
<h2 id="输入格式-3">输入格式</h2>
<p>第一行一个整数 $N$，表示了有 $N$ 个同学。</p>
<p>第 $2\sim N$ 行，第 $i$ 行包含两个整数 $k,p$，其中 $k$ 为小于 $i$ 的正整数，$p$ 为 $0$ 或者 $1$。若 $p$ 为 $0$，则表示将 $i$ 号同学插入到 $k$ 号同学的左边，$p$ 为 $1$ 则表示插入到右边。</p>
<p>第 $N+1$ 行为一个整数 $M$，表示去掉的同学数目。</p>
<p>接下来 $M$ 行，每行一个正整数 $x$，表示将 $x$ 号同学从队列中移去，如果 $x$ 号同学已经不在队列中则忽略这一条指令。</p>
<h2 id="输出格式-3">输出格式</h2>
<p>一行，包含最多 $N$ 个空格隔开的整数，表示了队列从左到右所有同学的编号。</p>
<h2 id="样例-1-3">样例 #1</h2>
<h3 id="样例输入-1-3">样例输入 #1</h3>
<pre tabindex="0"><code>4
1 0
2 1
1 0
2
3
3
</code></pre><h3 id="样例输出-1-3">样例输出 #1</h3>
<pre tabindex="0"><code>2 4 1
</code></pre><h2 id="提示-2">提示</h2>
<p><strong>【样例解释】</strong></p>
<p>将同学 $2$ 插入至同学 $1$ 左边，此时队列为：</p>
<p><code>2 1</code></p>
<p>将同学 $3$ 插入至同学 $2$ 右边，此时队列为：</p>
<p><code>2 3 1</code></p>
<p>将同学 $4$ 插入至同学 $1$ 左边，此时队列为：</p>
<p><code>2 3 4 1</code></p>
<p>将同学 $3$ 从队列中移出，此时队列为：</p>
<p><code>2 4 1</code></p>
<p>同学 $3$ 已经不在队列中，忽略最后一条指令</p>
<p>最终队列：</p>
<p><code>2 4 1</code></p>
<p><strong>【数据范围】</strong></p>
<p>对于 $20%$ 的数据，$1\leq N\leq 10$。</p>
<p>对于 $40%$ 的数据，$1\leq N\leq 1000$。</p>
<p>对于 $100%$ 的数据，$1&lt;M\leq N\leq 10^5$​。</p>
<h2 id="解题思路-3">解题思路</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cmath&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;list&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> N <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">100005</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">node</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> l <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, r <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}L[N];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> h[N];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> n, m, head <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;<span style="color:#998;font-style:italic">//初始化头节点为第一个同学
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>	memset(h, <span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">sizeof</span>(h));<span style="color:#998;font-style:italic">//h数组用来检查第i个同学有没有被删除，置1。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#458;font-weight:bold">int</span> k, p;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; <span style="color:#000;font-weight:bold">++</span>i) {
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d %d&#34;</span>, <span style="color:#000;font-weight:bold">&amp;</span>k, <span style="color:#000;font-weight:bold">&amp;</span>p);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span> (p <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> (L[k].l) {<span style="color:#998;font-style:italic">//如果k同学左边还有同学
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				L[L[k].l].r <span style="color:#000;font-weight:bold">=</span> i;<span style="color:#998;font-style:italic">//先修改k左边的同学的右边为i
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				L[i].l <span style="color:#000;font-weight:bold">=</span> L[k].l;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			L[i].r <span style="color:#000;font-weight:bold">=</span> k;<span style="color:#998;font-style:italic">//注意不能写在if (L[k].l)前。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			L[k].l <span style="color:#000;font-weight:bold">=</span> i;
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> (head <span style="color:#000;font-weight:bold">==</span> k) {<span style="color:#998;font-style:italic">//k为头节点的话，i又插入在k左边，则将head=i；
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				head <span style="color:#000;font-weight:bold">=</span> i;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#998;font-style:italic">//同上
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			<span style="color:#000;font-weight:bold">if</span> (L[k].r) {
</span></span><span style="display:flex;"><span>				L[L[k].r].l <span style="color:#000;font-weight:bold">=</span> i;
</span></span><span style="display:flex;"><span>				L[i].r <span style="color:#000;font-weight:bold">=</span> L[k].r;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			L[i].l <span style="color:#000;font-weight:bold">=</span> k;
</span></span><span style="display:flex;"><span>			L[k].r <span style="color:#000;font-weight:bold">=</span> i;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> m;
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> cur;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span> (m<span style="color:#000;font-weight:bold">--</span>) {
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>, <span style="color:#000;font-weight:bold">&amp;</span>cur);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span> (h[cur]) {<span style="color:#998;font-style:italic">//cur没有被删除
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			<span style="color:#458;font-weight:bold">int</span> tmp <span style="color:#000;font-weight:bold">=</span> L[cur].l;
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> (L[cur].l) {
</span></span><span style="display:flex;"><span>				L[L[cur].l].r <span style="color:#000;font-weight:bold">=</span> L[cur].r;
</span></span><span style="display:flex;"><span>			}<span style="color:#000;font-weight:bold">else</span> {<span style="color:#998;font-style:italic">//如果左边没有节点，则需要修改头节点
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				head <span style="color:#000;font-weight:bold">=</span> L[cur].r;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span> (L[cur].r) {
</span></span><span style="display:flex;"><span>				L[L[cur].r].l <span style="color:#000;font-weight:bold">=</span> tmp;
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			h[cur] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> head; i <span style="color:#000;font-weight:bold">!=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">=</span> L[i].r) {
</span></span><span style="display:flex;"><span>		printf(<span style="color:#d14">&#34;%d &#34;</span>, i);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p4387-深基15习9验证栈序列">P4387 【深基15.习9】验证栈序列  </h1>
<h2 id="题目描述-4">题目描述</h2>
<p>给出两个序列 pushed 和 poped 两个序列，其取值从 1 到 $n(n\le100000)$。已知入栈序列是 pushed，如果出栈序列有可能是 poped，则输出 <code>Yes</code>，否则输出 <code>No</code>。为了防止骗分，每个测试点有多组数据，不超过 $5$ 组。</p>
<h2 id="输入格式-4">输入格式</h2>
<p>第一行一个整数 $q$，询问次数。</p>
<p>接下来 $q$ 个询问，对于每个询问：</p>
<p>第一行一个整数 $n$ 表示序列长度；</p>
<p>第二行 $n$ 个整数表示入栈序列；</p>
<p>第三行 $n$ 个整数表示出栈序列；</p>
<h2 id="输出格式-4">输出格式</h2>
<p>对于每个询问输出答案。</p>
<h2 id="样例-1-4">样例 #1</h2>
<h3 id="样例输入-1-4">样例输入 #1</h3>
<pre tabindex="0"><code>2
5
1 2 3 4 5
5 4 3 2 1
4
1 2 3 4
2 4 1 3
</code></pre><h3 id="样例输出-1-4">样例输出 #1</h3>
<pre tabindex="0"><code>Yes
No
</code></pre><h2 id="解题思路-4">解题思路</h2>
<p>在python中，对于栈使用的是stack。</p>
<p>可以如下两种编写方式，重构后感觉第二种更适合刷题。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">judge</span>(pushed, poped):  
</span></span><span style="display:flex;"><span>    stack <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>    push <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>  
</span></span><span style="display:flex;"><span>    popo <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> push <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#0086b3">len</span>(pushed) <span style="color:#000;font-weight:bold">and</span> popo <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#0086b3">len</span>(poped):   
</span></span><span style="display:flex;"><span>        stack<span style="color:#000;font-weight:bold">.</span>append(pushed[push])  
</span></span><span style="display:flex;"><span>        push <span style="color:#000;font-weight:bold">+=</span> <span style="color:#099">1</span>   
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">while</span> stack <span style="color:#000;font-weight:bold">and</span> stack[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">==</span> poped[popo]:  
</span></span><span style="display:flex;"><span>            stack<span style="color:#000;font-weight:bold">.</span>pop()  
</span></span><span style="display:flex;"><span>            popo <span style="color:#000;font-weight:bold">+=</span> <span style="color:#099">1</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> push <span style="color:#000;font-weight:bold">==</span> <span style="color:#0086b3">len</span>(pushed) <span style="color:#000;font-weight:bold">and</span> popo <span style="color:#000;font-weight:bold">==</span> <span style="color:#0086b3">len</span>(poped) <span style="color:#000;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">not</span> stack  
</span></span><span style="display:flex;"><span>q <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())  
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(q):  
</span></span><span style="display:flex;"><span>    n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())  
</span></span><span style="display:flex;"><span>    pushed <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))  
</span></span><span style="display:flex;"><span>    poped <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))  
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;Yes&#34;</span> <span style="color:#000;font-weight:bold">if</span> judge(pushed, poped) <span style="color:#000;font-weight:bold">else</span> <span style="color:#d14">&#34;No&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>q<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(q):
</span></span><span style="display:flex;"><span>    n<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>    pushed<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>    poped<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>    stack <span style="color:#000;font-weight:bold">=</span> []
</span></span><span style="display:flex;"><span>    push_index<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    pop_index<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> push_index <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#0086b3">len</span>(pushed) <span style="color:#000;font-weight:bold">and</span> pop_index <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#0086b3">len</span>(poped):
</span></span><span style="display:flex;"><span>        stack<span style="color:#000;font-weight:bold">.</span>append(pushed[push_index])
</span></span><span style="display:flex;"><span>        push_index <span style="color:#000;font-weight:bold">+=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">while</span> stack <span style="color:#000;font-weight:bold">and</span> stack[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">==</span>poped[pop_index]:
</span></span><span style="display:flex;"><span>            stack<span style="color:#000;font-weight:bold">.</span>pop()
</span></span><span style="display:flex;"><span>            pop_index <span style="color:#000;font-weight:bold">+=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> push_index <span style="color:#000;font-weight:bold">==</span> <span style="color:#0086b3">len</span>(pushed) <span style="color:#000;font-weight:bold">and</span> pop_index <span style="color:#000;font-weight:bold">==</span><span style="color:#0086b3">len</span>(poped) <span style="color:#000;font-weight:bold">and</span> <span style="color:#000;font-weight:bold">not</span> stack:
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;Yes&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;No&#34;</span>)
</span></span></code></pre></div><h2 id="解题思路2">解题思路2</h2>
<p>使用C语言</p>
<p>每个数字只能入栈出栈1次，无法将入栈数字全部出栈的输出No</p>
<p>除出栈入栈数组外多一个数组作为缓冲区外部循环做n次每次将第i个数据放在缓冲区最顶的内存里，进入内循环如果缓冲区最顶的数据与第j个出栈的数据一致就将数据出栈，内循环直到缓冲区没有数据退出内循环，外循环结束时缓冲区没有数据代表出栈成功。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;stdio.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;string.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> a[<span style="color:#099">100005</span>]<span style="color:#000;font-weight:bold">=</span>{<span style="color:#099">0</span>},top<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>,b[<span style="color:#099">100005</span>]<span style="color:#000;font-weight:bold">=</span>{<span style="color:#099">0</span>},c[<span style="color:#099">100005</span>]<span style="color:#000;font-weight:bold">=</span>{<span style="color:#099">0</span>};
</span></span><span style="display:flex;"><span>main()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> i,j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>,k,q,n;
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>q);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span>(q<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>n);
</span></span><span style="display:flex;"><span>		memset(a,<span style="color:#099">0</span>,n<span style="color:#000;font-weight:bold">*</span><span style="color:#099">4</span>);
</span></span><span style="display:flex;"><span>		memset(b,<span style="color:#099">0</span>,n<span style="color:#000;font-weight:bold">*</span><span style="color:#099">4</span>);
</span></span><span style="display:flex;"><span>		memset(c,<span style="color:#099">0</span>,n<span style="color:#000;font-weight:bold">*</span><span style="color:#099">4</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span>(i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>a[i]);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">for</span>(i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>b[i]);
</span></span><span style="display:flex;"><span>		i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;  top<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">while</span>(i<span style="color:#000;font-weight:bold">&lt;</span>n)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>		c[top<span style="color:#000;font-weight:bold">++</span>]<span style="color:#000;font-weight:bold">=</span>a[i<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">while</span>(c[top<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">==</span>b[j] ){
</span></span><span style="display:flex;"><span>			j<span style="color:#000;font-weight:bold">++</span>,top<span style="color:#000;font-weight:bold">--</span>;
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(top<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span>)<span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>			
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(top<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span>)printf(<span style="color:#d14">&#34;Yes</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> <span style="color:#900;font-weight:bold">printf</span>(<span style="color:#d14">&#34;No</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p1090-noip2004-提高组-合并果子--usaco06nov-fence-repair-g">P1090 [NOIP2004 提高组] 合并果子 / [USACO06NOV] Fence Repair G  </h1>
<h2 id="题目描述-5">题目描述</h2>
<p>在一个果园里，多多已经将所有的果子打了下来，而且按果子的不同种类分成了不同的堆。多多决定把所有的果子合成一堆。</p>
<p>每一次合并，多多可以把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和。可以看出，所有的果子经过 $n-1$ 次合并之后， 就只剩下一堆了。多多在合并果子时总共消耗的体力等于每次合并所耗体力之和。</p>
<p>因为还要花大力气把这些果子搬回家，所以多多在合并果子时要尽可能地节省体力。假定每个果子重量都为 $1$ ，并且已知果子的种类 数和每种果子的数目，你的任务是设计出合并的次序方案，使多多耗费的体力最少，并输出这个最小的体力耗费值。</p>
<p>例如有 $3$ 种果子，数目依次为 $1$ ， $2$ ， $9$ 。可以先将 $1$ 、 $2$ 堆合并，新堆数目为 $3$ ，耗费体力为 $3$ 。接着，将新堆与原先的第三堆合并，又得到新的堆，数目为 $12$ ，耗费体力为 $12$ 。所以多多总共耗费体力 $=3+12=15$ 。可以证明 $15$ 为最小的体力耗费值。</p>
<h2 id="输入格式-5">输入格式</h2>
<p>共两行。<br>
第一行是一个整数 $n(1\leq n\leq 10000)$ ，表示果子的种类数。</p>
<p>第二行包含 $n$ 个整数，用空格分隔，第 $i$ 个整数 $a_i(1\leq a_i\leq 20000)$ 是第 $i$ 种果子的数目。</p>
<h2 id="输出格式-5">输出格式</h2>
<p>一个整数，也就是最小的体力耗费值。输入数据保证这个值小于 $2^{31}$ 。</p>
<h2 id="样例-1-5">样例 #1</h2>
<h3 id="样例输入-1-5">样例输入 #1</h3>
<pre tabindex="0"><code>3 
1 2 9
</code></pre><h3 id="样例输出-1-5">样例输出 #1</h3>
<pre tabindex="0"><code>15
</code></pre><h2 id="提示-3">提示</h2>
<p>对于 $30%$ 的数据，保证有 $n \le 1000$：</p>
<p>对于 $50%$ 的数据，保证有 $n \le 5000$；</p>
<p>对于全部的数据，保证有 $n \le 10000$​。</p>
<h2 id="解题思路-5">解题思路</h2>
<p>这是一个典型的哈夫曼树，哈夫曼树是二叉树中的一种完全二叉树</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n, a1[<span style="color:#099">99999</span>], a2[<span style="color:#099">99999</span>];       <span style="color:#998;font-style:italic">//a1用于存剩余元素，a2用于存合并之后的元素
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> ans, x;            <span style="color:#998;font-style:italic">//x为a2的元素个数
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>	memset(a1, <span style="color:#099">127</span>, <span style="color:#000;font-weight:bold">sizeof</span>(a1));
</span></span><span style="display:flex;"><span>	memset(a2, <span style="color:#099">127</span>, <span style="color:#000;font-weight:bold">sizeof</span>(a2));
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>		cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> a1[i];
</span></span><span style="display:flex;"><span>	sort(a1, a1 <span style="color:#000;font-weight:bold">+</span> n);
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, w;        <span style="color:#998;font-style:italic">//w为每次一消耗的体力
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> k <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; k <span style="color:#000;font-weight:bold">&lt;</span> n; k<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		w <span style="color:#000;font-weight:bold">=</span> a1[i] <span style="color:#000;font-weight:bold">&lt;</span> a2[j] <span style="color:#000;font-weight:bold">?</span> a1[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">:</span> a2[j<span style="color:#000;font-weight:bold">++</span>];			
</span></span><span style="display:flex;"><span>		w <span style="color:#000;font-weight:bold">+=</span> a1[i] <span style="color:#000;font-weight:bold">&lt;</span> a2[j] <span style="color:#000;font-weight:bold">?</span> a1[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">:</span> a2[j<span style="color:#000;font-weight:bold">++</span>];	
</span></span><span style="display:flex;"><span>		a2[x<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> w;
</span></span><span style="display:flex;"><span>		ans <span style="color:#000;font-weight:bold">+=</span> w;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>首先将两个数组的元素初始值设置为int的最大值，使得后续找最小值时方便，再将数组进行从小到大的排序，当然也是便于寻找最小值。</p>
<p>ok，进入核心步骤，也就是找最小值合并。</p>
<p>有n个堆，那么合并成一个堆只需要n-1次操作，因此循环为n-1次</p>
<p>由于a1(利用了sort函数),a2(每次取最小值合并，下一次合并的堆一定比上一次大)均为从小到大排序</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>   w <span style="color:#000;font-weight:bold">=</span> a1[i] <span style="color:#000;font-weight:bold">&lt;</span> a2[j] <span style="color:#000;font-weight:bold">?</span> a1[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">:</span> a2[j<span style="color:#000;font-weight:bold">++</span>];	    <span style="color:#998;font-style:italic">//第一次取最小值		
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	w <span style="color:#000;font-weight:bold">+=</span> a1[i] <span style="color:#000;font-weight:bold">&lt;</span> a2[j] <span style="color:#000;font-weight:bold">?</span> a1[i<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">:</span> a2[j<span style="color:#000;font-weight:bold">++</span>];	    <span style="color:#998;font-style:italic">//第二次去最小值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	a2[x<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> w;
</span></span><span style="display:flex;"><span>	ans <span style="color:#000;font-weight:bold">+=</span> w;
</span></span></code></pre></div><p>那么就可以直接在两个数组中按下标顺序找最小值，i和j起一个指针作用，若该元素已经使用了，就指到下一个元素。通过两次取最小值，找到最小堆合并存入第二个数组中，最后利用ans算出结果</p>
<h1 id="p1449-后缀表达式">P1449 后缀表达式  </h1>
<h2 id="题目描述-6">题目描述</h2>
<p>所谓后缀表达式是指这样的一个表达式：式中不再引用括号，运算符号放在两个运算对象之后，所有计算按运算符号出现的顺序，严格地由左而右新进行（不用考虑运算符的优先级）。</p>
<p>本题中运算符仅包含 $\texttt{+-*/}$。保证对于 $\texttt{/}$ 运算除数不为 0。特别地，其中 $\texttt{/}$ 运算的结果需要<strong>向 0 取整</strong>（即与 C++ <code>/</code> 运算的规则一致）。</p>
<p>如：$\texttt{3*(5-2)+7}$ 对应的后缀表达式为：$\texttt{3.5.2.-*7.+@}$。在该式中，<code>@</code> 为表达式的结束符号。<code>.</code> 为操作数的结束符号。</p>
<h2 id="输入格式-6">输入格式</h2>
<p>输入一行一个字符串 $s$，表示后缀表达式。</p>
<h2 id="输出格式-6">输出格式</h2>
<p>输出一个整数，表示表达式的值。</p>
<h2 id="样例-1-6">样例 #1</h2>
<h3 id="样例输入-1-6">样例输入 #1</h3>
<pre tabindex="0"><code>3.5.2.-*7.+@
</code></pre><h3 id="样例输出-1-6">样例输出 #1</h3>
<pre tabindex="0"><code>16
</code></pre><h2 id="样例-2">样例 #2</h2>
<h3 id="样例输入-2">样例输入 #2</h3>
<pre tabindex="0"><code>10.28.30./*7.-@
</code></pre><h3 id="样例输出-2">样例输出 #2</h3>
<pre tabindex="0"><code>-7
</code></pre><h2 id="提示-4">提示</h2>
<p>数据保证，$1 \leq |s| \leq 50$，答案和计算过程中的每一个值的绝对值不超过 $10^9$​。</p>
<h2 id="解题思路-6">解题思路</h2>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/format,png.png" alt="img">
上图是一棵表达式树，对应的后缀表达式是4 1 5 2 - * + 6 3 / -。</p>
<p>可以看出，每个运算符结点都有左子树和右子树，每个数字结点都是叶子节点。
表达式树的中序遍历就是中缀表达式。
运算方式：左子树的结果 运算符 右子树的结果</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;stack&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>stack <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> n;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> s<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">char</span> ch;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span>(<span style="color:#099">1</span>){
</span></span><span style="display:flex;"><span>        cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>ch;
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#d14">&#39;9&#39;</span><span style="color:#000;font-weight:bold">&amp;&amp;</span>ch<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#d14">&#39;0&#39;</span>) s<span style="color:#000;font-weight:bold">=</span>s<span style="color:#000;font-weight:bold">*</span><span style="color:#099">10</span><span style="color:#000;font-weight:bold">+</span>ch<span style="color:#000;font-weight:bold">-</span><span style="color:#d14">&#39;0&#39;</span>;<span style="color:#998;font-style:italic">//累计
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">==</span><span style="color:#d14">&#39;.&#39;</span>){
</span></span><span style="display:flex;"><span>            n.push(s);<span style="color:#998;font-style:italic">//压栈
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            s<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;<span style="color:#998;font-style:italic">//s清零
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">!=</span><span style="color:#d14">&#39;@&#39;</span>){
</span></span><span style="display:flex;"><span>            <span style="color:#458;font-weight:bold">int</span> a1<span style="color:#000;font-weight:bold">=</span>n.top();n.pop();<span style="color:#458;font-weight:bold">int</span> a2<span style="color:#000;font-weight:bold">=</span>n.top();n.pop();<span style="color:#998;font-style:italic">//弹出栈顶两个元素
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">==</span><span style="color:#d14">&#39;+&#39;</span>) n.push(a1<span style="color:#000;font-weight:bold">+</span>a2);
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">==</span><span style="color:#d14">&#39;-&#39;</span>) n.push(a2<span style="color:#000;font-weight:bold">-</span>a1);
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">==</span><span style="color:#d14">&#39;*&#39;</span>) n.push(a1<span style="color:#000;font-weight:bold">*</span>a2);
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span>(ch<span style="color:#000;font-weight:bold">==</span><span style="color:#d14">&#39;/&#39;</span>) n.push(a2<span style="color:#000;font-weight:bold">/</span>a1);
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">//压入结果
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>n.top();
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p1241-括号序列">P1241 括号序列 </h1>
<h2 id="题目描述-7">题目描述</h2>
<p>定义如下规则：</p>
<ol>
<li>空串是「平衡括号序列」</li>
<li>若字符串 $S$ 是「平衡括号序列」，那么 $\texttt{[}S\texttt]$ 和 $\texttt{(}S\texttt)$ 也都是「平衡括号序列」</li>
<li>若字符串 $A$ 和 $B$ 都是「平衡括号序列」，那么 $AB$（两字符串拼接起来）也是「平衡括号序列」。</li>
</ol>
<p>例如，下面的字符串都是平衡括号序列：</p>
<ul>
<li><code>()</code>，<code>[]</code>，<code>(())</code>，<code>([])</code>，<code>()[]</code>，<code>()[()]</code></li>
</ul>
<p>而以下几个则不是：</p>
<ul>
<li><code>(</code>，<code>[</code>，<code>]</code>，<code>)(</code>，<code>())</code>，<code>([()</code></li>
</ul>
<p>现在，给定一个仅由 <code>(</code>，<code>)</code>，<code>[</code>，<code>]</code>构成的字符串 $s$，请你按照如下的方式给字符串中每个字符配对：</p>
<ol>
<li>从左到右扫描整个字符串。</li>
<li>对于当前的字符，如果它是一个右括号，考察它与它左侧离它<strong>最近</strong>的<strong>未匹配</strong>的的左括号。如果该括号与之对应（即小括号匹配小括号，中括号匹配中括号），则将二者配对。如果左侧未匹配的左括号不存在或与之不对应，则其配对失败。</li>
</ol>
<p>配对结束后，对于 $s$ 中全部未配对的括号，请你在其旁边添加一个字符，使得该括号和新加的括号匹配。</p>
<h2 id="输入格式-7">输入格式</h2>
<p>输入只有一行一个字符串，表示 $s$。</p>
<h2 id="输出格式-7">输出格式</h2>
<p>输出一行一个字符串表示你的答案。</p>
<h2 id="样例-1-7">样例 #1</h2>
<h3 id="样例输入-1-7">样例输入 #1</h3>
<pre tabindex="0"><code>([()
</code></pre><h3 id="样例输出-1-7">样例输出 #1</h3>
<pre tabindex="0"><code>()[]()
</code></pre><h2 id="样例-2-1">样例 #2</h2>
<h3 id="样例输入-2-1">样例输入 #2</h3>
<pre tabindex="0"><code>([)
</code></pre><h3 id="样例输出-2-1">样例输出 #2</h3>
<pre tabindex="0"><code>()[]()
</code></pre><h2 id="提示-5">提示</h2>
<h3 id="数据规模与约定">数据规模与约定</h3>
<p>对于全部的测试点，保证 $s$ 的长度不超过 $100$​，且只含  <code>(</code>，<code>)</code>，<code>[</code>，<code>]</code> 四种字符。</p>
<h2 id="解题思路-7">解题思路</h2>
<ul>
<li>
<p>参考思路
原题目：扫描一遍原序列，对每一个右括号，找到在它左边最靠近它的左括号匹配，如果没有就放弃。</p>
</li>
<li>
<p>翻译：扫描一遍原序列，当找到一个右括号（即找到一个 &rsquo; ) &rsquo; 或者 &rsquo; ] &rsquo; 时），以它为起点向左找，找到一个没被标记成功匹配的左括号（即找到一个 &rsquo; ( &rsquo; 或者 &rsquo; [ &rsquo; ），如果两者匹配的话，标记它们成功匹配，如果不匹配，或者找不到左括号的话，不做任何标记。</p>
</li>
<li>
<p>原题目：在以这种方式把原序列匹配完成后，把剩下的未匹配的括号补全。</p>
</li>
<li>
<p>翻译：上面扫描一遍标记完成功匹配的括号之后，扫描一遍序列，对于标记过的括号，则直接输出；对于没有标记的括号，则补全成对输出</p>
</li>
<li>
<p>举例：如果有个 &rsquo; [ &rsquo; 或 &rsquo; ] &rsquo; 没被标记匹配，则输出 [ ]</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> a[<span style="color:#099">105</span>]; <span style="color:#998;font-style:italic">// 标记
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> i,j;
</span></span><span style="display:flex;"><span>    string s;
</span></span><span style="display:flex;"><span>    cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">&lt;</span>s.length(); i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (s[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;)&#39;</span>) { <span style="color:#998;font-style:italic">// 找到了右括号
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">for</span> (j<span style="color:#000;font-weight:bold">=</span>i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>; j<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">0</span>; j<span style="color:#000;font-weight:bold">--</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> (s[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;(&#39;</span> and a[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) { <span style="color:#998;font-style:italic">// 找到了没被匹配过的左括号且匹配成功
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>                    a[i] <span style="color:#000;font-weight:bold">=</span> a[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> (s[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;[&#39;</span> and a[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) <span style="color:#000;font-weight:bold">break</span>; <span style="color:#998;font-style:italic">// 找到了左括号但匹配失败
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            }
</span></span><span style="display:flex;"><span>            <span style="color:#998;font-style:italic">// 找不到左括号，不做任何操作
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 下面同理
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> (s[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;]&#39;</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">for</span> (j<span style="color:#000;font-weight:bold">=</span>i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>; j<span style="color:#000;font-weight:bold">&gt;=</span><span style="color:#099">0</span>; j<span style="color:#000;font-weight:bold">--</span>) {
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">if</span> (s[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;[&#39;</span> and a[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) {
</span></span><span style="display:flex;"><span>                    a[i] <span style="color:#000;font-weight:bold">=</span> a[j] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>                    <span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>                }
</span></span><span style="display:flex;"><span>                <span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span> (s[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;(&#39;</span> and a[j] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) <span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>            }
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>; i<span style="color:#000;font-weight:bold">&lt;</span>s.length(); i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (a[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>) { <span style="color:#998;font-style:italic">// 没有匹配则成对输出
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>            <span style="color:#000;font-weight:bold">if</span> (s[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;(&#39;</span> or s[i] <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;)&#39;</span>) cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;()&#34;</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">else</span> cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34;[]&#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span> cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> s[i]; <span style="color:#998;font-style:italic">// 匹配成功则直接输出
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div></li>
</ul>
<h1 id="p1044-noip2003-普及组-栈">P1044 [NOIP2003 普及组] 栈  </h1>
<h2 id="题目背景">题目背景</h2>
<p>栈是计算机中经典的数据结构，简单的说，栈就是限制在一端进行插入删除操作的线性表。</p>
<p>栈有两种最重要的操作，即 pop（从栈顶弹出一个元素）和 push（将一个元素进栈）。</p>
<p>栈的重要性不言自明，任何一门数据结构的课程都会介绍栈。宁宁同学在复习栈的基本概念时，想到了一个书上没有讲过的问题，而他自己无法给出答案，所以需要你的帮忙。</p>
<h2 id="题目描述-8">题目描述</h2>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/5qxy9fz2.png" alt=""></p>
<p>宁宁考虑的是这样一个问题：一个操作数序列，$1,2,\ldots ,n$（图示为 1 到 3 的情况），栈 A 的深度大于 $n$。</p>
<p>现在可以进行两种操作，</p>
<ol>
<li>将一个数，从操作数序列的头端移到栈的头端（对应数据结构栈的 push 操作）</li>
<li>将一个数，从栈的头端移到输出序列的尾端（对应数据结构栈的 pop 操作）</li>
</ol>
<p>使用这两种操作，由一个操作数序列就可以得到一系列的输出序列，下图所示为由 <code>1 2 3</code> 生成序列 <code>2 3 1</code> 的过程。</p>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/8uwv2pa2.png" alt=""></p>
<p>（原始状态如上图所示）</p>
<p>你的程序将对给定的 $n$，计算并输出由操作数序列 $1,2,\ldots,n$ 经过操作可能得到的输出序列的总数。</p>
<h2 id="输入格式-8">输入格式</h2>
<p>输入文件只含一个整数 $n$（$1 \leq n \leq 18$）。</p>
<h2 id="输出格式-8">输出格式</h2>
<p>输出文件只有一行，即可能输出序列的总数目。</p>
<h2 id="样例-1-8">样例 #1</h2>
<h3 id="样例输入-1-8">样例输入 #1</h3>
<pre tabindex="0"><code>3
</code></pre><h3 id="样例输出-1-8">样例输出 #1</h3>
<pre tabindex="0"><code>5
</code></pre><h2 id="提示-6">提示</h2>
<p><strong>【题目来源】</strong></p>
<p>NOIP 2003 普及组第三题</p>
<h2 id="解题思路-8">解题思路</h2>
<p>思路：先定义数组和变量，然后令f[0]=1,f[1]=1,默认f[0]=1纯粹是为了满足表达式计算，无实际意义；然后用卡特兰数递推式方可求出从2开始到n的各个f值，最后输出f[n]即可.
**卡特兰数原理：令h(0)=1,h(1)=1，catalan数满足递推式:h(n)= h(0)<em>h(n-1)+h(1)<em>h(n-2) + … + h(n-1)h(0) (n&gt;=2)</em></em></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> MAXN <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1001</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> f[MAXN],n;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>    f[<span style="color:#099">0</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>, f[<span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">//从2到n按规律递推
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>;i <span style="color:#000;font-weight:bold">&lt;=</span> n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> j <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;j <span style="color:#000;font-weight:bold">&lt;</span> i;j<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>            f[i] <span style="color:#000;font-weight:bold">+=</span> f[j] <span style="color:#000;font-weight:bold">*</span> f[i<span style="color:#000;font-weight:bold">-</span>j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>];<span style="color:#998;font-style:italic">//卡特兰数递推式
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>f[n];
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p6033-noip2004-提高组-合并果子-加强版">P6033 [NOIP2004 提高组] 合并果子 加强版  </h1>
<h2 id="题目背景-1">题目背景</h2>
<p>本题除【数据范围与约定】外与 <a href="https://www.luogu.com.cn/problem/P1090">P1090</a> <strong>完  全  一  致</strong>。</p>
<h2 id="题目描述-9">题目描述</h2>
<p>在一个果园里，多多已经将所有的果子打了下来，而且按果子的不同种类分成了不同的堆。多多决定把所有的果子合成一堆。</p>
<p>每一次合并，多多可以把两堆果子合并到一起，消耗的体力等于两堆果子的重量之和。可以看出，所有的果子经过 $(n - 1)$ 次合并之后， 就只剩下一堆了。多多在合并果子时总共消耗的体力等于每次合并所耗体力之和。</p>
<p>因为还要花大力气把这些果子搬回家，所以多多在合并果子时要尽可能地节省体力。假定每个果子重量都为 $1$，并且已知果子的种类数和每种果子的数目，你的任务是设计出合并的次序方案，使多多耗费的体力最少，并输出这个最小的体力耗费值。</p>
<p>例如有 $3$ 堆果子，数目依次为 $1,~2,~9$。可以先将 $1$、$2$ 堆合并，新堆数目为 $3$，耗费体力为 $3$。接着，将新堆与原先的第三堆合并，又得到新的堆，数目为 $12$，耗费体力为 $12$。所以多多总共耗费体力为 $3+12=15$。可以证明 $15$ 为最小的体力耗费值。</p>
<h2 id="输入格式-9">输入格式</h2>
<p>输入的第一行是一个整数 $n$，代表果子的堆数。<br>
输入的第二行有 $n$ 个用空格隔开的整数，第 $i$ 个整数代表第 $i$ 堆果子的个数 $a_i$。</p>
<h2 id="输出格式-9">输出格式</h2>
<p>输出一行一个整数，表示最小耗费的体力值。</p>
<h2 id="样例-1-9">样例 #1</h2>
<h3 id="样例输入-1-9">样例输入 #1</h3>
<pre tabindex="0"><code>3 
1 2 9
</code></pre><h3 id="样例输出-1-9">样例输出 #1</h3>
<pre tabindex="0"><code>15
</code></pre><h2 id="提示-7">提示</h2>
<p><strong>【数据规模与约定】</strong></p>
<p><strong>本题采用多测试点捆绑测试，共有四个子任务</strong>。</p>
<ul>
<li>Subtask 1（10 points）：$1 \leq n \leq 8$。</li>
<li>Subtask 2（20 points）：$1 \leq n \leq 10^3$。</li>
<li>Subtask 3（30 points）：$1 \leq n \leq 10^5$。</li>
<li>Subtask 4（40 points）：$1 \leq n \leq 10^7$。</li>
</ul>
<p>对于全部的测试点，保证 $1 \leq a_i \leq 10^5$。</p>
<p><strong>【提示】</strong></p>
<ul>
<li>请注意常数因子对程序效率造成的影响。</li>
<li>请使用类型合适的变量来存储本题的结果。</li>
<li>本题输入规模较大，请注意数据读入对程序效率造成的影响。</li>
</ul>
<h2 id="解题思路-9">解题思路</h2>
<p>参考文章：<a href="https://blog.csdn.net/qq_46105170/article/details/125371722?ops_request_misc=%7B%22request%5Fid%22%3A%22171423979916800180663041%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=171423979916800180663041&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-125371722-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=P6033&amp;spm=1018.2226.3001.4187">【洛谷】P6033 合并果子 加强版（配数学证明）_洛谷6033测试数据-CSDN博客</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> M <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1e5</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">10</span>, N <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1e7</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">10</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n, a[M];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">long</span> res;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">long</span> q1[N], q2[N];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> hh1, tt1, hh2, tt2;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 快读
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">read</span>(<span style="color:#458;font-weight:bold">int</span> <span style="color:#000;font-weight:bold">&amp;</span>x) {
</span></span><span style="display:flex;"><span>  <span style="color:#458;font-weight:bold">int</span> si <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>  x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>  <span style="color:#458;font-weight:bold">char</span> c <span style="color:#000;font-weight:bold">=</span> getchar();
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span> (c <span style="color:#000;font-weight:bold">==</span> <span style="color:#d14">&#39;-&#39;</span>) si <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>, c <span style="color:#000;font-weight:bold">=</span> getchar();
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> (; <span style="color:#d14">&#39;0&#39;</span> <span style="color:#000;font-weight:bold">&lt;=</span> c <span style="color:#000;font-weight:bold">&amp;&amp;</span> c <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#d14">&#39;9&#39;</span>; c <span style="color:#000;font-weight:bold">=</span> getchar())
</span></span><span style="display:flex;"><span>    x <span style="color:#000;font-weight:bold">=</span> x <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">+</span> c <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>  x <span style="color:#000;font-weight:bold">*=</span> si;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 两个队列里取队头最小值
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> <span style="color:#900;font-weight:bold">find_min</span>() {
</span></span><span style="display:flex;"><span>  <span style="color:#458;font-weight:bold">long</span> x;
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">if</span> (hh2 <span style="color:#000;font-weight:bold">==</span> tt2 <span style="color:#000;font-weight:bold">||</span> hh1 <span style="color:#000;font-weight:bold">&lt;</span> tt1 <span style="color:#000;font-weight:bold">&amp;&amp;</span> q1[hh1] <span style="color:#000;font-weight:bold">&lt;</span> q2[hh2]) x <span style="color:#000;font-weight:bold">=</span> q1[hh1<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">else</span> x <span style="color:#000;font-weight:bold">=</span> q2[hh2<span style="color:#000;font-weight:bold">++</span>];
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">return</span> x;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>  read(n);
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>, x; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>    read(x);
</span></span><span style="display:flex;"><span>    a[x]<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;</span> M; i<span style="color:#000;font-weight:bold">++</span>) <span style="color:#000;font-weight:bold">while</span> (a[i]) a[i]<span style="color:#000;font-weight:bold">--</span>, q1[tt1<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> i;
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;</span> n; i<span style="color:#000;font-weight:bold">++</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">long</span> x <span style="color:#000;font-weight:bold">=</span> find_min(), y <span style="color:#000;font-weight:bold">=</span> find_min();
</span></span><span style="display:flex;"><span>    res <span style="color:#000;font-weight:bold">+=</span> x <span style="color:#000;font-weight:bold">+</span> y;
</span></span><span style="display:flex;"><span>    q2[tt2<span style="color:#000;font-weight:bold">++</span>] <span style="color:#000;font-weight:bold">=</span> x <span style="color:#000;font-weight:bold">+</span> y;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  printf(<span style="color:#d14">&#34;%ld</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>, res);
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p3370-模板字符串哈希">P3370 【模板】字符串哈希  </h1>
<h2 id="题目描述-10">题目描述</h2>
<p>如题，给定 $N$ 个字符串（第 $i$ 个字符串长度为 $M_i$，字符串内包含数字、大小写字母，大小写敏感），请求出 $N$ 个字符串中共有多少个不同的字符串。</p>
<p><strong>友情提醒：如果真的想好好练习哈希的话，请自觉。</strong></p>
<h2 id="输入格式-10">输入格式</h2>
<p>第一行包含一个整数 $N$，为字符串的个数。</p>
<p>接下来 $N$ 行每行包含一个字符串，为所提供的字符串。</p>
<h2 id="输出格式-10">输出格式</h2>
<p>输出包含一行，包含一个整数，为不同的字符串个数。</p>
<h2 id="样例-1-10">样例 #1</h2>
<h3 id="样例输入-1-10">样例输入 #1</h3>
<pre tabindex="0"><code>5
abc
aaaa
abc
abcc
12345
</code></pre><h3 id="样例输出-1-10">样例输出 #1</h3>
<pre tabindex="0"><code>4
</code></pre><h2 id="提示-8">提示</h2>
<p>对于 $30%$ 的数据：$N\leq 10$，$M_i≈6$，$Mmax\leq 15$。</p>
<p>对于 $70%$ 的数据：$N\leq 1000$，$M_i≈100$，$Mmax\leq 150$。</p>
<p>对于 $100%$ 的数据：$N\leq 10000$，$M_i≈1000$，$Mmax\leq 1500$。</p>
<p>样例说明：</p>
<p>样例中第一个字符串(abc)和第三个字符串(abc)是一样的，所以所提供字符串的集合为{aaaa,abc,abcc,12345}，故共计4个不同的字符串。</p>
<p>Tip：
感兴趣的话，你们可以先看一看以下三题：</p>
<p>BZOJ3097：http://www.lydsy.com/JudgeOnline/problem.php?id=3097</p>
<p>BZOJ3098：http://www.lydsy.com/JudgeOnline/problem.php?id=3098</p>
<p>BZOJ3099：http://www.lydsy.com/JudgeOnline/problem.php?id=3099</p>
<p>如果你仔细研究过了（或者至少仔细看过AC人数的话），我想你一定会明白字符串哈希的正确姿势的^_^</p>
<h2 id="提示-9">提示</h2>
<p>对于 $30%$ 的数据：$N\leq 10$，$M_i≈6$，$Mmax\leq 15$。</p>
<p>对于 $70%$ 的数据：$N\leq 1000$，$M_i≈100$，$Mmax\leq 150$。</p>
<p>对于 $100%$ 的数据：$N\leq 10000$，$M_i≈1000$，$Mmax\leq 1500$。</p>
<p>样例说明：</p>
<p>样例中第一个字符串(abc)和第三个字符串(abc)是一样的，所以所提供字符串的集合为{aaaa,abc,abcc,12345}，故共计4个不同的字符串。</p>
<p>Tip：
感兴趣的话，你们可以先看一看以下三题：</p>
<p>BZOJ3097：http://www.lydsy.com/JudgeOnline/problem.php?id=3097</p>
<p>BZOJ3098：http://www.lydsy.com/JudgeOnline/problem.php?id=3098</p>
<p>BZOJ3099：http://www.lydsy.com/JudgeOnline/problem.php?id=3099</p>
<p>如果你仔细研究过了（或者至少仔细看过AC人数的话），我想你一定会明白字符串哈希的正确姿势的^_^</p>
<h2 id="解题代码">解题代码</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>a<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span>(<span style="color:#0086b3">input</span>() <span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n))
</span></span><span style="display:flex;"><span>a<span style="color:#000;font-weight:bold">.</span>sort()
</span></span><span style="display:flex;"><span>cout<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">while</span> a:
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(a)<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span>:
</span></span><span style="display:flex;"><span>        cout<span style="color:#000;font-weight:bold">+=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a[<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">!=</span>a[<span style="color:#099">1</span>]:
</span></span><span style="display:flex;"><span>        cout<span style="color:#000;font-weight:bold">+=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>        a<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        a<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(cout)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>lst <span style="color:#000;font-weight:bold">=</span> [<span style="color:#0086b3">input</span>() <span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n)]
</span></span><span style="display:flex;"><span>lst<span style="color:#000;font-weight:bold">.</span>sort()
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>count <span style="color:#000;font-weight:bold">=</span> n
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">1</span>, n):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> lst[i] <span style="color:#000;font-weight:bold">==</span> lst[i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]:
</span></span><span style="display:flex;"><span>        count <span style="color:#000;font-weight:bold">-=</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(count)
</span></span></code></pre></div><h2 id="解题思路-10">解题思路</h2>
<p><a href="https://blog.csdn.net/louisdlee/article/details/134437128?ops_request_misc=%7B%22request%5Fid%22%3A%22171423993116800184189562%22%2C%22scm%22%3A%2220140713.130102334..%22%7D&amp;request_id=171423993116800184189562&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-134437128-null-null.142%5Ev100%5Epc_search_result_base1&amp;utm_term=P3370&amp;spm=1018.2226.3001.4187">《洛谷深入浅出基础篇》 p3370字符串哈希——hash表_洛谷p3370-CSDN博客</a></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;vector&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;cstring&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">typedef</span> <span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">int</span> LL;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> mod <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1007</span>;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> base <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">117</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>vector<span style="color:#000;font-weight:bold">&lt;</span>string<span style="color:#000;font-weight:bold">&gt;</span> linker[mod <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>];
</span></span><span style="display:flex;"><span>string s;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> ans;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">insert1</span>(string s)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> hash <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> s.size(); i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		hash <span style="color:#000;font-weight:bold">=</span> (hash<span style="color:#000;font-weight:bold">*</span><span style="color:#099">1ll</span><span style="color:#000;font-weight:bold">*</span>base <span style="color:#000;font-weight:bold">+</span> (LL)s[i]) <span style="color:#000;font-weight:bold">%</span> mod;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>; i <span style="color:#000;font-weight:bold">&lt;</span> linker[hash].size(); i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span> (linker[hash][i] <span style="color:#000;font-weight:bold">==</span> s)<span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>	linker[hash].push_back(s);
</span></span><span style="display:flex;"><span>	ans<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> n;
</span></span><span style="display:flex;"><span>	cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> n;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span> (n<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		cin <span style="color:#000;font-weight:bold">&gt;&gt;</span> s;
</span></span><span style="display:flex;"><span>		insert1(s);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> ans;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p5250-深基17例5木材仓库">P5250 【深基17.例5】木材仓库 </h1>
<h2 id="题目描述-11">题目描述</h2>
<p>博艾市有一个木材仓库，里面可以存储各种长度的木材，但是保证没有两个木材的长度是相同的。作为仓库负责人，你有时候会进货，有时候会出货，因此需要维护这个库存。有不超过 100000 条的操作：</p>
<ul>
<li>进货，格式<code>1 Length</code>：在仓库中放入一根长度为 Length(不超过 $10^9$) 的木材。如果已经有相同长度的木材那么输出<code>Already Exist</code>。</li>
<li>出货，格式<code>2 Length</code>：从仓库中取出长度为 Length 的木材。如果没有刚好长度的木材，取出仓库中存在的和要求长度最接近的木材。如果有多根木材符合要求，取出比较短的一根。输出取出的木材长度。如果仓库是空的，输出<code>Empty</code>。</li>
</ul>
<h2 id="输入格式-11">输入格式</h2>
<h2 id="输出格式-11">输出格式</h2>
<h2 id="样例-1-11">样例 #1</h2>
<h3 id="样例输入-1-11">样例输入 #1</h3>
<pre tabindex="0"><code>7
1 1
1 5
1 3
2 3
2 3
2 3
2 3
</code></pre><h3 id="样例输出-1-11">样例输出 #1</h3>
<pre tabindex="0"><code>3
1
5
Empty
</code></pre><h2 id="解题答案">解题答案</h2>
<p>python版</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">from</span> <span style="color:#555">bisect</span> <span style="color:#000;font-weight:bold">import</span> bisect_left  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>s <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">set</span>()  
</span></span><span style="display:flex;"><span>n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())  
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> _ <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):  
</span></span><span style="display:flex;"><span>    k, l <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())  
</span></span><span style="display:flex;"><span>      
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> k <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">1</span>:  
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> l <span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">in</span> s:  
</span></span><span style="display:flex;"><span>            s<span style="color:#000;font-weight:bold">.</span>add(l)  
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span>:  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;Already Exist&#34;</span>)  
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">else</span>:  
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">not</span> s:  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;Empty&#34;</span>)  
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic"># Python的set没有lower_bound方法，但我们可以使用bisect_left来找到最接近l的元素索引  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic"># 首先将set转换为sorted list  </span>
</span></span><span style="display:flex;"><span>        sorted_s <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">sorted</span>(s)  
</span></span><span style="display:flex;"><span>        index <span style="color:#000;font-weight:bold">=</span> bisect_left(sorted_s, l)  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> index <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>:  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(sorted_s[index])  
</span></span><span style="display:flex;"><span>            s<span style="color:#000;font-weight:bold">.</span>remove(sorted_s[index])  
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> index <span style="color:#000;font-weight:bold">==</span> <span style="color:#0086b3">len</span>(sorted_s):  
</span></span><span style="display:flex;"><span>            index <span style="color:#000;font-weight:bold">-=</span> <span style="color:#099">1</span>  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(sorted_s[index])  
</span></span><span style="display:flex;"><span>            s<span style="color:#000;font-weight:bold">.</span>remove(sorted_s[index])  
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">continue</span>  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic"># 找出离l最近的两个元素  </span>
</span></span><span style="display:flex;"><span>        prev <span style="color:#000;font-weight:bold">=</span> sorted_s[index <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>]  
</span></span><span style="display:flex;"><span>        curr <span style="color:#000;font-weight:bold">=</span> sorted_s[index]  
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic"># 根据差值大小决定删除哪个元素  </span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> l <span style="color:#000;font-weight:bold">-</span> prev <span style="color:#000;font-weight:bold">&lt;=</span> curr <span style="color:#000;font-weight:bold">-</span> l:  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(prev)  
</span></span><span style="display:flex;"><span>            s<span style="color:#000;font-weight:bold">.</span>remove(prev)  
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">else</span>:  
</span></span><span style="display:flex;"><span>            <span style="color:#0086b3">print</span>(curr)  
</span></span><span style="display:flex;"><span>            s<span style="color:#000;font-weight:bold">.</span>remove(curr)
</span></span></code></pre></div><p>c语言版</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define IOS ios::sync_with_stdio(0),cin.tie(0),cout.tie(0)
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define endl &#34;\n&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define int long long
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define pb push_back
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define lb lower_bound
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define ub upper_bound
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> INF <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1e12</span><span style="color:#000;font-weight:bold">+</span><span style="color:#099">10</span>;
</span></span><span style="display:flex;"><span>set<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> s;<span style="color:#998;font-style:italic">//存放木材 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> num<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;<span style="color:#998;font-style:italic">//目前有几个木材 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">solve</span>(){
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> op,x;
</span></span><span style="display:flex;"><span>	cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>op<span style="color:#000;font-weight:bold">&gt;&gt;</span>x;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span>(op<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(s.count(x))
</span></span><span style="display:flex;"><span>		  cout<span style="color:#000;font-weight:bold">&lt;&lt;</span><span style="color:#d14">&#34;Already Exist&#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>		  s.insert(x);<span style="color:#998;font-style:italic">//存放长度为x木材  
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	}<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(op<span style="color:#000;font-weight:bold">==</span><span style="color:#099">2</span>){
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(s.size()<span style="color:#000;font-weight:bold">==</span><span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>		  cout<span style="color:#000;font-weight:bold">&lt;&lt;</span><span style="color:#d14">&#34;Empty&#34;</span><span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> {
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">auto</span> k<span style="color:#000;font-weight:bold">=</span>s.lb(x);
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(<span style="color:#000;font-weight:bold">*</span>k<span style="color:#000;font-weight:bold">==</span>x){<span style="color:#998;font-style:italic">//有刚好长度的木材 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>x<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>				s.erase(k);
</span></span><span style="display:flex;"><span>			}<span style="color:#000;font-weight:bold">else</span>{
</span></span><span style="display:flex;"><span>				<span style="color:#000;font-weight:bold">auto</span> k1<span style="color:#000;font-weight:bold">=</span>s.lb(x),k2<span style="color:#000;font-weight:bold">=--</span>s.lb(x);<span style="color:#998;font-style:italic">//找到长度接近x的木材 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				<span style="color:#000;font-weight:bold">if</span>(abs(<span style="color:#000;font-weight:bold">*</span>k1<span style="color:#000;font-weight:bold">-</span>x)<span style="color:#000;font-weight:bold">&lt;</span>abs(<span style="color:#000;font-weight:bold">*</span>k2<span style="color:#000;font-weight:bold">-</span>x)){ 
</span></span><span style="display:flex;"><span>					cout<span style="color:#000;font-weight:bold">&lt;&lt;*</span>k1<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>					s.erase(k1); 
</span></span><span style="display:flex;"><span>				}<span style="color:#000;font-weight:bold">else</span>{<span style="color:#998;font-style:italic">//取最接近x且比较短的一根木材
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>					cout<span style="color:#000;font-weight:bold">&lt;&lt;*</span>k2<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>					s.erase(k2); 
</span></span><span style="display:flex;"><span>				}
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	} 	
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">signed</span> <span style="color:#900;font-weight:bold">main</span>(){
</span></span><span style="display:flex;"><span>	IOS;
</span></span><span style="display:flex;"><span>	s.insert(INF),s.insert(<span style="color:#000;font-weight:bold">-</span>INF);
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> T<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>	cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>T;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span>(T<span style="color:#000;font-weight:bold">--</span>){
</span></span><span style="display:flex;"><span>		solve();
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p5266-深基17例6学籍管理">P5266 【深基17.例6】学籍管理 </h1>
<h2 id="题目描述-12">题目描述</h2>
<p>您要设计一个学籍管理系统，最开始学籍数据是空的，然后该系统能够支持下面的操作（不超过 $10^5$ 条）：</p>
<ul>
<li>插入与修改，格式<code>1 NAME SCORE</code>：在系统中插入姓名为 NAME(由字母和数字组成不超过 20 个字符的字符串，区分大小写) ，分数为 $\texttt{SCORE}$（$0&lt;\texttt{SCORE}&lt;2^{31}$） 的学生。如果已经有同名的学生则更新这名学生的成绩为 SCORE。如果成功插入或者修改则输出<code>OK</code>。</li>
<li>查询，格式<code>2 NAME</code>：在系统中查询姓名为 NAME 的学生的成绩。如果没能找到这名学生则输出<code>Not found</code>，否则输出该生成绩。</li>
<li>删除，格式<code>3 NAME</code>：在系统中删除姓名为 NAME 的学生信息。如果没能找到这名学生则输出<code>Not found</code>，否则输出<code>Deleted successfully</code>。</li>
<li>汇总，格式<code>4</code>：输出系统中学生数量。</li>
</ul>
<h2 id="输入格式-12">输入格式</h2>
<h2 id="输出格式-12">输出格式</h2>
<h2 id="样例-1-12">样例 #1</h2>
<h3 id="样例输入-1-12">样例输入 #1</h3>
<pre tabindex="0"><code>5
1 lxl 10
2 lxl
3 lxl
2 lxl
4
</code></pre><h3 id="样例输出-1-12">样例输出 #1</h3>
<pre tabindex="0"><code>OK
10
Deleted successfully
Not found
0
</code></pre><h3 id="解题思路-11">解题思路</h3>
<p>题目要求对字符串进行存储、修改、查询、删除、统计数目等操作，考虑到直接对字符串进行上述操作在代码实现和时间复杂度上都不够优，从而想到利用哈希建立映射关系，对哈希函数的返回值进行操作。</p>
<p><strong>代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n,sc,k,num,haxh;<span style="color:#998;font-style:italic">//n为操作总数，sc为学生分数，k为操作格式，num记录系统中的人数，haxh用于存储字符串hash值。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> base<span style="color:#000;font-weight:bold">=</span><span style="color:#099">173</span>,mod<span style="color:#000;font-weight:bold">=</span><span style="color:#099">19260817</span>;<span style="color:#998;font-style:italic">//哈希函数的基数和模数。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">char</span> s[<span style="color:#099">114</span>];<span style="color:#998;font-style:italic">//学生姓名。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> b[<span style="color:#099">30000000</span>];<span style="color:#998;font-style:italic">//利用数组进行操作。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> <span style="color:#900;font-weight:bold">hs</span>(<span style="color:#458;font-weight:bold">char</span> str[])
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> len<span style="color:#000;font-weight:bold">=</span>strlen(str),ans<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;</span>len;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	ans<span style="color:#000;font-weight:bold">=</span>(ans<span style="color:#000;font-weight:bold">*</span>base<span style="color:#000;font-weight:bold">+</span>(<span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span>)str[i])<span style="color:#000;font-weight:bold">%</span>mod;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> ans;
</span></span><span style="display:flex;"><span>}<span style="color:#998;font-style:italic">//通过哈希函数将字符串映射到 int 类型上。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>n);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span>(n<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>k);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%s&#34;</span>,s);<span style="color:#998;font-style:italic">//前三种操作需要读入学生姓名。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		haxh<span style="color:#000;font-weight:bold">=</span>hs(s);<span style="color:#998;font-style:italic">//计算学生姓名的hash值。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>		<span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>sc);
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(b[haxh]<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">0</span>) 
</span></span><span style="display:flex;"><span>			num<span style="color:#000;font-weight:bold">++</span>;<span style="color:#998;font-style:italic">//分数小于等于0说明系统中没有该学生，学生总数加一。
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			b[haxh]<span style="color:#000;font-weight:bold">=</span>sc;
</span></span><span style="display:flex;"><span>			printf(<span style="color:#d14">&#34;OK</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(b[haxh]<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">0</span>)<span style="color:#998;font-style:italic">//判断系统中有无该学生的信息。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>			printf(<span style="color:#d14">&#34;%d</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>,b[haxh]);
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;Not found</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(b[haxh]<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				b[haxh]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>				num<span style="color:#000;font-weight:bold">--</span>;<span style="color:#998;font-style:italic">//删除该生信息。 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>				printf(<span style="color:#d14">&#34;Deleted successfully</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;Not found</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;%d</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>,num);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>当然也可以用 $STL$ 中的 $map$ 来建立映射关系，但在时间常数上要比手打哈希略大。</p>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/resize,m_lfit,h_1700,w_2205.png" alt=""></p>
<p>上面三次提交使用的是手打哈希，下面两次提交使用的是 $map$ ，可以明显看出 $map$ 比手打哈希要慢。</p>
<p><strong>代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;iostream&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstdio&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;string&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cstring&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;cmath&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;algorithm&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;map&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n,sc,k,num;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">char</span> s[<span style="color:#099">114</span>];
</span></span><span style="display:flex;"><span>map<span style="color:#000;font-weight:bold">&lt;</span>string,<span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span>sys;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>n);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span>(n<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>k);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>		scanf(<span style="color:#d14">&#34;%s&#34;</span>,s);
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>sc);
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(sys[s]<span style="color:#000;font-weight:bold">&lt;=</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>			num<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>			sys[s]<span style="color:#000;font-weight:bold">=</span>sc;
</span></span><span style="display:flex;"><span>			printf(<span style="color:#d14">&#34;OK</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(sys[s]<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>			printf(<span style="color:#d14">&#34;%d</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>,sys[s]);
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;Not found</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> <span style="color:#000;font-weight:bold">if</span>(k<span style="color:#000;font-weight:bold">==</span><span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">if</span>(sys[s]<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>			{
</span></span><span style="display:flex;"><span>				sys[s]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>				num<span style="color:#000;font-weight:bold">--</span>;
</span></span><span style="display:flex;"><span>				printf(<span style="color:#d14">&#34;Deleted successfully</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>			}
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;Not found</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>);
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span> printf(<span style="color:#d14">&#34;%d</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>,num);
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>作者：linponess    创建时间：2019-12-26 11:45:56</p>
<h1 id="p1102-a-b-数对">P1102 A-B 数对 </h1>
<h2 id="题目背景-2">题目背景</h2>
<p>出题是一件痛苦的事情！</p>
<p>相同的题目看多了也会有审美疲劳，于是我舍弃了大家所熟悉的 A+B Problem，改用 A-B 了哈哈！</p>
<h2 id="题目描述-13">题目描述</h2>
<p>给出一串正整数数列以及一个正整数 $C$，要求计算出所有满足 $A - B = C$ 的数对的个数（不同位置的数字一样的数对算不同的数对）。</p>
<h2 id="输入格式-13">输入格式</h2>
<p>输入共两行。</p>
<p>第一行，两个正整数 $N,C$。</p>
<p>第二行，$N$ 个正整数，作为要求处理的那串数。</p>
<h2 id="输出格式-13">输出格式</h2>
<p>一行，表示该串正整数中包含的满足 $A - B = C$ 的数对的个数。</p>
<h2 id="样例-1-13">样例 #1</h2>
<h3 id="样例输入-1-13">样例输入 #1</h3>
<pre tabindex="0"><code>4 1
1 1 2 3
</code></pre><h3 id="样例输出-1-13">样例输出 #1</h3>
<pre tabindex="0"><code>3
</code></pre><h2 id="提示-10">提示</h2>
<p>对于 $75%$ 的数据，$1 \leq N \leq 2000$。</p>
<p>对于 $100%$ 的数据，$1 \leq N \leq 2 \times 10^5$，$0 \leq a_i &lt;2^{30}$，$1 \leq C &lt; 2^{30}$。</p>
<p>2017/4/29 新添数据两组</p>
<h2 id="解题思路-12">解题思路</h2>
<h3 id="map-映照容器可以解决这一题"><strong>map 映照容器可以解决这一题</strong></h3>
<p>首先，我们来了解一下 map 是个什么东西：</p>
<ul>
<li>map 映照容器在头文件中定义，它的元素数据是由一个键值和一个映照数据组成的，键值和映照数据具有一一对应的关系，键值可以是数，也可以是字符。 例如：</li>
</ul>
<hr>
<p>键值    映照数据
<span>(name)</span>     <span>(score)</span>
Alice        <span>98</span><br>
Mary        <span>96</span>
<span>156</span>        <span>66</span></p>
<hr>
<p>在没有指定比较函数时，元素是从小到大插入的。比较函数只对键值进行比较，元素的各项数据可以通过键值检索出来。</p>
<hr>
<p>对于这一道题，我们可以把 A-B=C 改成 B+C=A，再通过 map 进行映照，就可以得出答案。</p>
<p><strong>code:</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;bits/stdc++.h&gt;</span><span style="color:#998;font-style:italic">//万能头文件,不用调用头文件&lt;map&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std; 
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>() {
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">long</span> <span style="color:#458;font-weight:bold">long</span> n,c,co<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>; <span style="color:#998;font-style:italic">//要开long long,否则会 WA 一个数据点 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n<span style="color:#000;font-weight:bold">&gt;&gt;</span>c; 
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> a[n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>];
</span></span><span style="display:flex;"><span>    map<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#458;font-weight:bold">int</span>,<span style="color:#458;font-weight:bold">int</span><span style="color:#000;font-weight:bold">&gt;</span> b;<span style="color:#998;font-style:italic">//键值和映照数据都是 int 类型
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">&lt;=</span>n; i<span style="color:#000;font-weight:bold">++</span>) { 
</span></span><span style="display:flex;"><span>        cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>a[i]; b[a[i]]<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span>(<span style="color:#458;font-weight:bold">int</span> i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>; i<span style="color:#000;font-weight:bold">&lt;=</span>n; i<span style="color:#000;font-weight:bold">++</span>) 
</span></span><span style="display:flex;"><span>        co<span style="color:#000;font-weight:bold">+=</span>b[a[i]<span style="color:#000;font-weight:bold">+</span>c];<span style="color:#998;font-style:italic">//反向思维,枚举 B+C 
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>co<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl; 
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>; 
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>作者：onepeople666    创建时间：2020-02-04 13:12:37</p>
<p>以上是洛谷题解中的一种C++做法，那么对于这个问题，肯定要使用自己熟悉的语言来进行实现。</p>
<h3 id="python如何解决这一个问题">python如何解决这一个问题？</h3>
<h4 id="常规思路遍历">常规思路：遍历</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span>n,c<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>nums<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span><span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>count_dict<span style="color:#000;font-weight:bold">=</span>{}
</span></span><span style="display:flex;"><span>pair_count<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> num <span style="color:#000;font-weight:bold">in</span> nums:
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> num <span style="color:#000;font-weight:bold">-</span>c <span style="color:#000;font-weight:bold">in</span> count_dict:
</span></span><span style="display:flex;"><span>        pair_count <span style="color:#000;font-weight:bold">+=</span>count_dict[num <span style="color:#000;font-weight:bold">-</span>c]
</span></span><span style="display:flex;"><span>    count_dict[num] <span style="color:#000;font-weight:bold">=</span>count_dict<span style="color:#000;font-weight:bold">.</span>get(num,<span style="color:#099">0</span>) <span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(pair_count)
</span></span></code></pre></div><p>虽然确实符合思维逻辑，但是超时了。</p>
<p>那就使用算法，使用二分算法比较符合当前的情况，在python中，可以使用bisect库来实现。</p>
<h4 id="二分实现">二分实现：</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">bisect</span>
</span></span><span style="display:flex;"><span>n,c <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>lst0 <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>lst0<span style="color:#000;font-weight:bold">.</span>sort() <span style="color:#998;font-style:italic">#此方法用到了二分查找,所以需要先对列表进行排序</span>
</span></span><span style="display:flex;"><span>lst1 <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n)]
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>    lst1[i] <span style="color:#000;font-weight:bold">=</span> lst0[i]<span style="color:#000;font-weight:bold">-</span>c
</span></span><span style="display:flex;"><span>count <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>    x <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_left (lst0,lst1[i])
</span></span><span style="display:flex;"><span>    y <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_right(lst0,lst1[i])
</span></span><span style="display:flex;"><span>    count <span style="color:#000;font-weight:bold">+=</span> y<span style="color:#000;font-weight:bold">-</span>x
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(count)
</span></span></code></pre></div><h3 id="知识点补充bisect库">知识点补充（bisect库）</h3>
<h4 id="1-基础知识">1 基础知识</h4>
<p><strong>前提：列表有序！！！</strong></p>
<p><a href="https://so.csdn.net/so/search?q=bisect&amp;spm=1001.2101.3001.7020">bisect</a>()和bisect_right()等同，那下面就介绍bisect_left()和bisec_right()的区别！</p>
<p>用法：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> bisect(ls, x)   <span style="color:#998;font-style:italic">#第1个参数是列表，第2个参数是要查找的数，返回值为索引</span>
</span></span><span style="display:flex;"><span>index2 <span style="color:#000;font-weight:bold">=</span> bisect_left(ls, x)
</span></span><span style="display:flex;"><span>index3 <span style="color:#000;font-weight:bold">=</span> bisec_right(ls, x)
</span></span></code></pre></div><p>bisect.bisect和bisect.bisect_right返回大于x的第一个下标(相当于C++中的upper_bound)，bisect.bisect_left返回大于等于x的第一个下标(相当于C++中的lower_bound)。</p>
<p>case1<br>
如果列表中没有元素x，那么bisect_left(ls, x)和bisec_right(ls, x)返回相同的值，该值是x在ls中“<strong>合适的插入点索引，使得数组有序</strong>”。此时，ls[index2] &gt; x，ls[index3] &gt; x。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">bisect</span>
</span></span><span style="display:flex;"><span>ls <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>,<span style="color:#099">5</span>,<span style="color:#099">9</span>,<span style="color:#099">13</span>,<span style="color:#099">17</span>]
</span></span><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect(ls,<span style="color:#099">7</span>)
</span></span><span style="display:flex;"><span>index2 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_left(ls,<span style="color:#099">7</span>)
</span></span><span style="display:flex;"><span>index3 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_right(ls,<span style="color:#099">7</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;index1 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index2 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index3 = </span><span style="color:#d14">{}</span><span style="color:#d14">&#34;</span><span style="color:#000;font-weight:bold">.</span>format(index1, index2, index3))
</span></span></code></pre></div><p>程序运行结果为，</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, index2 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, index3 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>
</span></span></code></pre></div><p>case2<br>
如果列表中只有一个元素等于x，那么bisect_left(ls, x)的值是x在ls中的<strong>索引</strong>，ls[index2] = x。而bisec_right(ls, x)的值是x在ls中的<strong>索引加1</strong>，ls[index3] &gt; x。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">bisect</span>
</span></span><span style="display:flex;"><span>ls <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>,<span style="color:#099">5</span>,<span style="color:#099">9</span>,<span style="color:#099">13</span>,<span style="color:#099">17</span>]
</span></span><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect(ls,<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span>index2 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_left(ls,<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span>index3 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_right(ls,<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;index1 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index2 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index3 = </span><span style="color:#d14">{}</span><span style="color:#d14">&#34;</span><span style="color:#000;font-weight:bold">.</span>format(index1, index2, index3))
</span></span></code></pre></div><p>程序运行结果为，</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>, index2 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, index3 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>
</span></span></code></pre></div><p>case3<br>
如果列表中存在多个元素等于x，那么bisect_left(ls, x)返回<strong>最左边的那个索引</strong>，此时ls[index2] = x。bisect_right(ls, x)返回<strong>最右边的那个索引加1</strong>，此时ls[index3] &gt; x。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">bisect</span>
</span></span><span style="display:flex;"><span>ls <span style="color:#000;font-weight:bold">=</span> [<span style="color:#099">1</span>,<span style="color:#099">5</span>,<span style="color:#099">5</span>,<span style="color:#099">5</span>,<span style="color:#099">17</span>]
</span></span><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect(ls,<span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span>index2 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_left(ls,<span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span>index3 <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_right(ls,<span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(<span style="color:#d14">&#34;index1 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index2 = </span><span style="color:#d14">{}</span><span style="color:#d14">, index3 = </span><span style="color:#d14">{}</span><span style="color:#d14">&#34;</span><span style="color:#000;font-weight:bold">.</span>format(index1, index2, index3))
</span></span></code></pre></div><p>程序运行结果为，</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>index1 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>, index2 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>, index3 <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>
</span></span></code></pre></div><h4 id="2-扩展知识">2 扩展知识</h4>
<p>（一）</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python3" data-lang="python3"><span style="display:flex;"><span>j <span style="color:#000;font-weight:bold">=</span> bisect<span style="color:#000;font-weight:bold">.</span>bisect_right(rides, start, hi <span style="color:#000;font-weight:bold">=</span> i <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">1</span>, key <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">lambda</span> x : x[<span style="color:#099">1</span>])
</span></span></code></pre></div><p><code>rides</code>：这是一个列表，已经按顺序排列。</p>
<p><code>start</code>：这是我们要在<code>rides</code>中查找的元素。</p>
<p><code>hi = i - 1</code>：这是查找的上界。具体而言，在<code>[0, hi)</code>这个左闭右开区间中，寻找满足<code>rides[x][1] &gt; start</code>且<code>x</code>最小的case，返回<code>x</code>。如果没有找到，则返回<code>hi</code>。</p>
<p><code>key = lambda x : x[1]</code>：这是用于比较的元素。默认情况下，<code>bisect_right</code>比较元素<code>x</code>的值，而这里表示比较元素<code>x</code>的下标等于1的元素的值（说明元素<code>x</code>是一个列表或元组等等），即<code>x[1]</code>。</p>
<p>参考文章：http://t.csdnimg.cn/ZdACV</p>
<h1 id="p8681-蓝桥杯-2019-省-ab-完全二叉树的权值">P8681 [蓝桥杯 2019 省 AB] 完全二叉树的权值</h1>
<h2 id="题目描述-14">题目描述</h2>
<p>给定一棵包含 $N$ 个节点的完全二叉树，树上每个节点都有一个权值，按从上到下、从左到右的顺序依次是 $A_1,A_2, \cdots A_N$，如下图所示：</p>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/lq1cyfst.png" alt=""></p>
<p>现在小明要把相同深度的节点的权值加在一起，他想知道哪个深度的节点权值之和最大？如果有多个深度的权值和同为最大，请你输出其中最小的深度。</p>
<p>注：根的深度是 $1$。</p>
<h2 id="输入格式-14">输入格式</h2>
<p>第一行包含一个整数 $N$。</p>
<p>第二行包含 $N$ 个整数 $A_1,A_2, \cdots, A_N$。</p>
<h2 id="输出格式-14">输出格式</h2>
<p>输出一个整数代表答案。</p>
<h2 id="样例-1-14">样例 #1</h2>
<h3 id="样例输入-1-14">样例输入 #1</h3>
<pre tabindex="0"><code>7
1 6 5 4 3 2 1
</code></pre><h3 id="样例输出-1-14">样例输出 #1</h3>
<pre tabindex="0"><code>2
</code></pre><h2 id="提示-11">提示</h2>
<p>对于所有评测用例，$1 \le N \le 10^5$，$0 \le |A_i| \le 10^5$。</p>
<p>蓝桥杯 2019 省赛 A 组 F 题（B 组 G 题）。</p>
<h1 id="p4715-深基16例1淘汰赛">P4715 【深基16.例1】淘汰赛  </h1>
<h2 id="题目描述-15">题目描述</h2>
<p>有 $2^n$（$n\le7$）个国家参加世界杯决赛圈且进入淘汰赛环节。已经知道各个国家的能力值，且都不相等。能力值高的国家和能力值低的国家踢比赛时高者获胜。1 号国家和 2 号国家踢一场比赛，胜者晋级。3 号国家和 4 号国家也踢一场，胜者晋级……晋级后的国家用相同的方法继续完成赛程，直到决出冠军。给出各个国家的能力值，请问亚军是哪个国家？</p>
<h2 id="输入格式-15">输入格式</h2>
<p>第一行一个整数 $n$，表示一共 $2^n$ 个国家参赛。</p>
<p>第二行 $2^n$ 个整数，第 $i$ 个整数表示编号为 $i$ 的国家的能力值（$1\leq i \leq 2^n$）。</p>
<p>数据保证不存在平局。</p>
<h2 id="输出格式-15">输出格式</h2>
<p>仅一个整数，表示亚军国家的编号。</p>
<h2 id="样例-1-15">样例 #1</h2>
<h3 id="样例输入-1-15">样例输入 #1</h3>
<pre tabindex="0"><code>3
4 2 3 1 10 5 9 7
</code></pre><h3 id="样例输出-1-15">样例输出 #1</h3>
<pre tabindex="0"><code>1
</code></pre><h3 id="解题答案-1">解题答案</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>L<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">list</span>(<span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split()))
</span></span><span style="display:flex;"><span>q<span style="color:#000;font-weight:bold">=</span>[]
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> L:
</span></span><span style="display:flex;"><span>    q<span style="color:#000;font-weight:bold">.</span>append(i)
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">while</span> <span style="color:#0086b3">len</span>(q)<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">2</span>:
</span></span><span style="display:flex;"><span>    a,b<span style="color:#000;font-weight:bold">=</span>q<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>),q<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> a<span style="color:#000;font-weight:bold">&gt;</span>b:
</span></span><span style="display:flex;"><span>        q<span style="color:#000;font-weight:bold">.</span>append(a)
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">else</span>:
</span></span><span style="display:flex;"><span>        q<span style="color:#000;font-weight:bold">.</span>append(b)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(L<span style="color:#000;font-weight:bold">.</span>index(<span style="color:#0086b3">min</span>(q))<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)
</span></span></code></pre></div><h1 id="p4913-深基16例3二叉树深度">P4913 【深基16.例3】二叉树深度  </h1>
<h2 id="题目描述-16">题目描述</h2>
<p>有一个 $n(n \le 10^6)$ 个结点的二叉树。给出每个结点的两个子结点编号（均不超过 $n$），建立一棵二叉树（根节点的编号为 $1$），如果是叶子结点，则输入 <code>0 0</code>。</p>
<p>建好这棵二叉树之后，请求出它的深度。二叉树的<strong>深度</strong>是指从根节点到叶子结点时，最多经过了几层。</p>
<h2 id="输入格式-16">输入格式</h2>
<p>第一行一个整数 $n$，表示结点数。</p>
<p>之后 $n$ 行，第 $i$ 行两个整数 $l$、$r$，分别表示结点 $i$ 的左右子结点编号。若 $l=0$ 则表示无左子结点，$r=0$ 同理。</p>
<h2 id="输出格式-16">输出格式</h2>
<p>一个整数，表示最大结点深度。</p>
<h2 id="样例-1-16">样例 #1</h2>
<h3 id="样例输入-1-16">样例输入 #1</h3>
<pre tabindex="0"><code>7
2 7
3 6
4 5
0 0
0 0
0 0
0 0
</code></pre><h3 id="样例输出-1-16">样例输出 #1</h3>
<pre tabindex="0"><code>4
</code></pre><h3 id="解题答案-2">解题答案</h3>
<p>可以使用bfs或dfs进行求解</p>
<h4 id="dfs搜索答案">DFS搜索答案</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">import</span> <span style="color:#555">sys</span> 
</span></span><span style="display:flex;"><span>sys<span style="color:#000;font-weight:bold">.</span>setrecursionlimit(<span style="color:#099">5000</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">dfs</span>(x, y):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">global</span> longth
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> x <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">or</span> V[x] <span style="color:#000;font-weight:bold">==</span> (<span style="color:#099">0</span>, <span style="color:#099">0</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span>
</span></span><span style="display:flex;"><span>    longth <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">max</span>(longth, y)
</span></span><span style="display:flex;"><span>    dfs(V[x][<span style="color:#099">0</span>], y <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>    dfs(V[x][<span style="color:#099">1</span>], y <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>n <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>V <span style="color:#000;font-weight:bold">=</span> {}  <span style="color:#998;font-style:italic"># 建个字典</span>
</span></span><span style="display:flex;"><span>longth <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>    l, r <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>, <span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>    V[i <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">=</span> (l, r)  <span style="color:#998;font-style:italic"># 塞键值对,节点数</span>
</span></span><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span>dfs(<span style="color:#099">1</span>, <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(longth <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>, end<span style="color:#000;font-weight:bold">=</span><span style="color:#d14">&#39;&#39;</span>)
</span></span></code></pre></div><h4 id="bfs搜索答案">BFS搜索答案</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">bfs</span>(n):
</span></span><span style="display:flex;"><span>    q<span style="color:#000;font-weight:bold">.</span>append(n)
</span></span><span style="display:flex;"><span>    G[n]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> q:
</span></span><span style="display:flex;"><span>        x<span style="color:#000;font-weight:bold">=</span>q<span style="color:#000;font-weight:bold">.</span>pop(<span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">for</span> j <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(<span style="color:#099">2</span>):
</span></span><span style="display:flex;"><span>            <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">dict</span>[x][j]<span style="color:#000;font-weight:bold">!=</span><span style="color:#099">0</span>:
</span></span><span style="display:flex;"><span>                q<span style="color:#000;font-weight:bold">.</span>append(<span style="color:#0086b3">dict</span>[x][j])
</span></span><span style="display:flex;"><span>                G[<span style="color:#0086b3">dict</span>[x][j]]<span style="color:#000;font-weight:bold">=</span>G[x]<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>n<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">int</span>(<span style="color:#0086b3">input</span>())
</span></span><span style="display:flex;"><span>q<span style="color:#000;font-weight:bold">=</span>[]
</span></span><span style="display:flex;"><span><span style="color:#0086b3">dict</span><span style="color:#000;font-weight:bold">=</span>{}
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n):
</span></span><span style="display:flex;"><span>    l,r<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">map</span>(<span style="color:#0086b3">int</span>,<span style="color:#0086b3">input</span>()<span style="color:#000;font-weight:bold">.</span>split())
</span></span><span style="display:flex;"><span>    <span style="color:#0086b3">dict</span>[i<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">=</span>(l,r)
</span></span><span style="display:flex;"><span>G<span style="color:#000;font-weight:bold">=</span>[<span style="color:#099">0</span> <span style="color:#000;font-weight:bold">for</span> i <span style="color:#000;font-weight:bold">in</span> <span style="color:#0086b3">range</span>(n<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>)]
</span></span><span style="display:flex;"><span>bfs(<span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(<span style="color:#0086b3">max</span>(G))
</span></span></code></pre></div><h1 id="p1030-noip2001-普及组-求先序排列">P1030 [NOIP2001 普及组] 求先序排列</h1>
<h2 id="题目描述-17">题目描述</h2>
<p>给出一棵二叉树的中序与后序排列。求出它的先序排列。（约定树结点用不同的大写字母表示，且二叉树的节点个数 $ \le 8$）。</p>
<h2 id="输入格式-17">输入格式</h2>
<p>共两行，均为大写字母组成的字符串，表示一棵二叉树的中序与后序排列。</p>
<h2 id="输出格式-17">输出格式</h2>
<p>共一行一个字符串，表示一棵二叉树的先序。</p>
<h2 id="样例-1-17">样例 #1</h2>
<h3 id="样例输入-1-17">样例输入 #1</h3>
<pre tabindex="0"><code>BADC
BDCA
</code></pre><h3 id="样例输出-1-17">样例输出 #1</h3>
<pre tabindex="0"><code>ABCD
</code></pre><h2 id="提示-12">提示</h2>
<p><strong>【题目来源】</strong></p>
<p>NOIP 2001 普及组第三题</p>
<h3 id="解题思路-13">解题思路</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>首先先序中序后序，搞懂
</span></span><span style="display:flex;"><span>我们知道，后序是“左 右 根”
</span></span><span style="display:flex;"><span>中序是“左 根 右”
</span></span><span style="display:flex;"><span>所以，后序的最后一个必定是“根”
</span></span><span style="display:flex;"><span>接着，在中序中找到这个根，它左边便是此时这个节点的左子树，右边便是这个节点的右子树，一直递归
</span></span><span style="display:flex;"><span>为了优化，我们发现先序是“根 左 右”，
</span></span><span style="display:flex;"><span>所以每次循环的时候打出后序的最后一个，便是这个树的“根”
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 从用户那里获取中序遍历的字符串输入  </span>
</span></span><span style="display:flex;"><span>mid <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">input</span>()  
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 从用户那里获取后序遍历的字符串输入  </span>
</span></span><span style="display:flex;"><span>last <span style="color:#000;font-weight:bold">=</span> <span style="color:#0086b3">input</span>()  
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 定义一个函数bf，用于构建先序遍历  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 参数m表示中序遍历字符串，l表示后序遍历字符串  </span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">bf</span>(m, l):  
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 如果中序遍历或后序遍历的字符串为空，则直接返回空字符串  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(l) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">or</span> <span style="color:#0086b3">len</span>(m) <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">0</span>:  
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;&#34;</span>  
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 找到后序遍历字符串最后一个字符（即根节点）在中序遍历字符串中的位置  </span>
</span></span><span style="display:flex;"><span>    k <span style="color:#000;font-weight:bold">=</span> m<span style="color:#000;font-weight:bold">.</span>index(l[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])  
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 拼接先序遍历的结果：根节点 + 左子树的先序遍历 + 右子树的先序遍历  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic"># 注意：左子树的中序遍历是m[0:k]，后序遍历是l[0:k]  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#998;font-style:italic">#       右子树的中序遍历是m[k+1:]，后序遍历是l[k:-1]（去掉根节点）  </span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> l[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>] <span style="color:#000;font-weight:bold">+</span> bf(m[<span style="color:#099">0</span>:k], l[<span style="color:#099">0</span>:k]) <span style="color:#000;font-weight:bold">+</span> bf(m[k<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>:], l[k:<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])  
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 调用bf函数，传入中序遍历和后序遍历的字符串，得到先序遍历的结果  </span>
</span></span><span style="display:flex;"><span>t <span style="color:#000;font-weight:bold">=</span> bf(mid, last)  
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># 打印先序遍历的结果，注意这里t[1:]是为了去掉根节点前的多余字符（如果有的话）  </span>
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(t[<span style="color:#099">1</span>:])
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>mid<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">input</span>()
</span></span><span style="display:flex;"><span>last<span style="color:#000;font-weight:bold">=</span><span style="color:#0086b3">input</span>()
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">def</span> <span style="color:#900;font-weight:bold">bf</span>(m,l):
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> <span style="color:#0086b3">len</span>(l)<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span> <span style="color:#000;font-weight:bold">or</span> <span style="color:#0086b3">len</span>(m)<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span> <span style="color:#d14">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    k<span style="color:#000;font-weight:bold">=</span>m<span style="color:#000;font-weight:bold">.</span>index(l[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> l[<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>bf(m[<span style="color:#099">0</span>:k],l[<span style="color:#099">0</span>:k])<span style="color:#000;font-weight:bold">+</span>bf(m[k<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>:],l[k:<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>])
</span></span><span style="display:flex;"><span>t<span style="color:#000;font-weight:bold">=</span>bf(mid,last)
</span></span><span style="display:flex;"><span><span style="color:#0086b3">print</span>(t[<span style="color:#099">1</span>:])
</span></span></code></pre></div><h1 id="p1157-组合的输出">P1157 组合的输出  </h1>
<h2 id="题目描述-18">题目描述</h2>
<p>排列与组合是常用的数学方法，其中组合就是从 $n$ 个元素中抽出 $r$ 个元素（不分顺序且 $r \le n$），我们可以简单地将 $n$ 个元素理解为自然数 $1,2,\dots,n$，从中任取 $r$ 个数。</p>
<p>现要求你输出所有组合。</p>
<p>例如 $n=5,r=3$，所有组合为：</p>
<p>$123,124,125,134,135,145,234,235,245,345$。</p>
<h2 id="输入格式-18">输入格式</h2>
<p>一行两个自然数 $n,r(1&lt;n&lt;21,0 \le r \le n)$。</p>
<h2 id="输出格式-18">输出格式</h2>
<p>所有的组合，每一个组合占一行且其中的元素按由小到大的顺序排列，每个元素占三个字符的位置，所有的组合也按字典顺序。</p>
<p><strong>注意哦！输出时，每个数字需要 $3$ 个场宽。以 C++ 为例，你可以使用下列代码：</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> setw(<span style="color:#099">3</span>) <span style="color:#000;font-weight:bold">&lt;&lt;</span> x;
</span></span></code></pre></div><p>输出占 $3$ 个场宽的数 $x$。注意你需要头文件 <code>iomanip</code>。</p>
<h2 id="样例-1-18">样例 #1</h2>
<h3 id="样例输入-1-18">样例输入 #1</h3>
<pre tabindex="0"><code>5 3
</code></pre><h3 id="样例输出-1-18">样例输出 #1</h3>
<pre tabindex="0"><code>1  2  3
  1  2  4
  1  2  5
  1  3  4
  1  3  5
  1  4  5
  2  3  4
  2  3  5
  2  4  5
  3  4  5
</code></pre><h1 id="p3378-模板堆">P3378 【模板】堆  </h1>
<h2 id="题目描述-19">题目描述</h2>
<p>给定一个数列，初始为空，请支持下面三种操作：</p>
<ol>
<li>给定一个整数 $x$，请将 $x$ 加入到数列中。</li>
<li>输出数列中最小的数。</li>
<li>删除数列中最小的数（如果有多个数最小，只删除 $1$ 个）。</li>
</ol>
<h2 id="输入格式-19">输入格式</h2>
<p>第一行是一个整数，表示操作的次数 $n$。<br>
接下来 $n$ 行，每行表示一次操作。每行首先有一个整数 $op$ 表示操作类型。</p>
<ul>
<li>若 $op = 1$，则后面有一个整数 $x$，表示要将 $x$ 加入数列。</li>
<li>若 $op = 2$，则表示要求输出数列中的最小数。</li>
<li>若 $op = 3$，则表示删除数列中的最小数。如果有多个数最小，只删除 $1$ 个。</li>
</ul>
<h2 id="输出格式-19">输出格式</h2>
<p>对于每个操作 $2$，输出一行一个整数表示答案。</p>
<h2 id="样例-1-19">样例 #1</h2>
<h3 id="样例输入-1-19">样例输入 #1</h3>
<pre tabindex="0"><code>5
1 2
1 5
2
3
2
</code></pre><h3 id="样例输出-1-19">样例输出 #1</h3>
<pre tabindex="0"><code>2
5
</code></pre><h2 id="提示-13">提示</h2>
<p><strong>【数据规模与约定】</strong></p>
<ul>
<li>对于 $30%$ 的数据，保证 $n \leq 15$。</li>
<li>对于 $70%$ 的数据，保证 $n \leq 10^4$。</li>
<li>对于 $100%$ 的数据，保证 $1 \leq n \leq 10^6$，$1 \leq x \lt 2^{31}$，$op \in {1, 2, 3}$。</li>
</ul>
<h1 id="p1135-奇怪的电梯">P1135 奇怪的电梯 </h1>
<h2 id="题目背景-3">题目背景</h2>
<p>感谢 @<a href="https://www.luogu.com.cn/user/101694">yummy</a> 提供的一些数据。</p>
<h2 id="题目描述-20">题目描述</h2>
<p>呵呵，有一天我做了一个梦，梦见了一种很奇怪的电梯。大楼的每一层楼都可以停电梯，而且第 $i$ 层楼（$1 \le i \le N$）上有一个数字 $K_i$（$0 \le K_i \le N$）。电梯只有四个按钮：开，关，上，下。上下的层数等于当前楼层上的那个数字。当然，如果不能满足要求，相应的按钮就会失灵。例如： $3, 3, 1, 2, 5$ 代表了 $K_i$（$K_1=3$，$K_2=3$，……），从 $1$ 楼开始。在 $1$ 楼，按“上”可以到 $4$ 楼，按“下”是不起作用的，因为没有 $-2$ 楼。那么，从 $A$ 楼到 $B$ 楼至少要按几次按钮呢？</p>
<h2 id="输入格式-20">输入格式</h2>
<p>共二行。</p>
<p>第一行为三个用空格隔开的正整数，表示 $N, A, B$（$1 \le N \le 200$，$1 \le A, B \le N$）。</p>
<p>第二行为 $N$ 个用空格隔开的非负整数，表示 $K_i$。</p>
<h2 id="输出格式-20">输出格式</h2>
<p>一行，即最少按键次数，若无法到达，则输出 <code>-1</code>。</p>
<h2 id="样例-1-20">样例 #1</h2>
<h3 id="样例输入-1-20">样例输入 #1</h3>
<pre tabindex="0"><code>5 1 5
3 3 1 2 5
</code></pre><h3 id="样例输出-1-20">样例输出 #1</h3>
<pre tabindex="0"><code>3
</code></pre><h2 id="提示-14">提示</h2>
<p>对于 $100 %$ 的数据，$1 \le N \le 200$，$1 \le A, B \le N$，$0 \le K_i \le N$。</p>
<p>本题共 $16$ 个测试点，前 $15$ 个每个测试点 $6$ 分，最后一个测试点 $10$ 分。</p>
<h1 id="p1334-瑞瑞的木板">P1334 瑞瑞的木板 </h1>
<h2 id="题目背景-4">题目背景</h2>
<p>瑞瑞想要亲自修复在他的一个小牧场周围的围栏。</p>
<h2 id="题目描述-21">题目描述</h2>
<p>他测量栅栏并发现他需要 $n$ 根木板，每根的长度为整数 $l_i$。于是，他买了一根足够长的木板，长度为所需的 $n$ 根木板的长度的总和，他决定将这根木板切成所需的 $n$ 根木板（瑞瑞在切割木板时不会产生木屑，不需考虑切割时损耗的长度)。</p>
<p>瑞瑞切割木板时使用的是一种特殊的方式，这种方式在将一根长度为 $x$ 的木板切为两根时，需要消耗 $x$ 个单位的能量。瑞瑞拥有无尽的能量，但现在提倡节约能量，所以作为榜样，他决定尽可能节约能量。显然，总共需要切割 $(n-1)$ 次，问题是，每次应该怎么切呢？请编程计算最少需要消耗的能量总和。</p>
<h2 id="输入格式-21">输入格式</h2>
<p>输入的第一行是整数，表示所需木板的数量 $n$。</p>
<p>第 $2$ 到第 $(n + 1)$ 行，每行一个整数，第 $(i + 1)$ 行的整数 $l_i$ 代表第  $i$ 根木板的长度 $l_i$。</p>
<h2 id="输出格式-21">输出格式</h2>
<p>一个整数，表示最少需要消耗的能量总和。</p>
<h2 id="样例-1-21">样例 #1</h2>
<h3 id="样例输入-1-21">样例输入 #1</h3>
<pre tabindex="0"><code>3
8
5
8
</code></pre><h3 id="样例输出-1-21">样例输出 #1</h3>
<pre tabindex="0"><code>34
</code></pre><h2 id="提示-15">提示</h2>
<h4 id="输入输出样例-1-解释">输入输出样例 1 解释</h4>
<p>将长度为 $21$ 的木板，第一次切割为长度为 $8$ 和长度为 $13$ 的，消耗 $21$ 个单位的能量，第二次将长度为 $13$ 的木板切割为长度为 $5$ 和 $8$ 的，消耗 $13$ 个单位的能量，共消耗 $34$ 个单位的能量，是消耗能量最小的方案。</p>
<hr>
<h4 id="数据规模与约定-1">数据规模与约定</h4>
<ul>
<li>对于 $100%$ 的数据，保证 $1\le n \le 2 \times 10^4$，$1 \leq l_i \leq 5 \times 10^4$。</li>
</ul>
<h1 id="p1631-序列合并">P1631 序列合并 </h1>
<h2 id="题目描述-22">题目描述</h2>
<p>有两个长度为 $N$ 的<strong>单调不降</strong>序列 $A,B$，在 $A,B$ 中各取一个数相加可以得到 $N^2$ 个和，求这 $N^2$ 个和中最小的 $N$ 个。</p>
<h2 id="输入格式-22">输入格式</h2>
<p>第一行一个正整数 $N$；</p>
<p>第二行 $N$ 个整数 $A_{1\dots N}$。</p>
<p>第三行 $N$ 个整数 $B_{1\dots N}$。</p>
<h2 id="输出格式-22">输出格式</h2>
<p>一行 $N$ 个整数，从小到大表示这 $N$ 个最小的和。</p>
<h2 id="样例-1-22">样例 #1</h2>
<h3 id="样例输入-1-22">样例输入 #1</h3>
<pre tabindex="0"><code>3
2 6 6
1 4 8
</code></pre><h3 id="样例输出-1-22">样例输出 #1</h3>
<pre tabindex="0"><code>3 6 7
</code></pre><h2 id="提示-16">提示</h2>
<p>对于 $50%$ 的数据，$N \le 10^3$。</p>
<p>对于 $100%$ 的数据，$1 \le N \le 10^5$，$1 \le a_i,b_i \le 10^9$。</p>
<h1 id="p5657-csp-s2019-格雷码">P5657 [CSP-S2019] 格雷码  </h1>
<h2 id="题目描述-23">题目描述</h2>
<p>通常，人们习惯将所有 $n$ 位二进制串按照字典序排列，例如所有 2 位二进制串按字典序从小到大排列为：00，01，10，11。</p>
<p>格雷码（Gray Code）是一种特殊的 $n$ 位二进制串排列法，它要求相邻的两个二进制串间<strong>恰好</strong>有一位<strong>不同</strong>，特别地，第一个串与最后一个串也算作相邻。</p>
<p>所有 2 位二进制串按格雷码排列的一个例子为：00，01，11，10。</p>
<p>$n$ 位格雷码不止一种，下面给出其中一种格雷码的生成算法：</p>
<ol>
<li>1 位格雷码由两个 1 位二进制串组成，顺序为：0，1。</li>
<li>$n + 1$ 位格雷码的前 $2^n$ 个二进制串，可以由依此算法生成的 $n$ 位格雷码（总共 $2^n$ 个 $n$ 位二进制串）按<strong>顺序</strong>排列，再在每个串前加一个前缀 0 构成。</li>
<li>$n + 1$ 位格雷码的后 $2^n$ 个二进制串，可以由依此算法生成的 $n$ 位格雷码（总共 $2^n$ 个 $n$ 位二进制串）按<strong>逆序</strong>排列，再在每个串前加一个前缀 1 构成。</li>
</ol>
<p>综上，$n + 1$ 位格雷码，由 $n$ 位格雷码的 $2^n$ 个二进制串按顺序排列再加前缀 0，和按逆序排列再加前缀 1 构成，共 $2^{n+1}$ 个二进制串。另外，对于 $n$ 位格雷码中的 $2^n$ 个 二进制串，我们按上述算法得到的排列顺序将它们从 $0 \sim 2^n - 1$ 编号。</p>
<p>按该算法，2 位格雷码可以这样推出：</p>
<ol>
<li>已知 1 位格雷码为 0，1。</li>
<li>前两个格雷码为 00，01。后两个格雷码为 11，10。合并得到 00，01，11，10，编号依次为 0 ~ 3。</li>
</ol>
<p>同理，3 位格雷码可以这样推出：</p>
<ol>
<li>已知 2 位格雷码为：00，01，11，10。</li>
<li>前四个格雷码为：000，001，011，010。后四个格雷码为：110，111，101，100。合并得到：000，001，011，010，110，111，101，100，编号依次为 0 ~ 7。</li>
</ol>
<p>现在给出 $n$，$k$，请你求出按上述算法生成的 $n$ 位格雷码中的 $k$ 号二进制串。</p>
<h2 id="输入格式-23">输入格式</h2>
<p>仅一行两个整数 $n$，$k$，意义见题目描述。</p>
<h2 id="输出格式-23">输出格式</h2>
<p>仅一行一个 $n$ 位二进制串表示答案。</p>
<h2 id="样例-1-23">样例 #1</h2>
<h3 id="样例输入-1-23">样例输入 #1</h3>
<pre tabindex="0"><code>2 3
</code></pre><h3 id="样例输出-1-23">样例输出 #1</h3>
<pre tabindex="0"><code>10
</code></pre><h2 id="样例-2-2">样例 #2</h2>
<h3 id="样例输入-2-2">样例输入 #2</h3>
<pre tabindex="0"><code>3 5
</code></pre><h3 id="样例输出-2-2">样例输出 #2</h3>
<pre tabindex="0"><code>111
</code></pre><h2 id="样例-3">样例 #3</h2>
<h3 id="样例输入-3">样例输入 #3</h3>
<pre tabindex="0"><code>44 1145141919810
</code></pre><h3 id="样例输出-3">样例输出 #3</h3>
<pre tabindex="0"><code>00011000111111010000001001001000000001100011
</code></pre><h2 id="提示-17">提示</h2>
<p>【样例 1 解释】</p>
<p>2 位格雷码为：00，01，11，10，编号从 0∼3，因此 3 号串是 10。</p>
<p>【样例 2 解释】</p>
<p>3 位格雷码为：000，001，011，010，110，111，101，100，编号从 0∼7，因此 5 号串是 111。</p>
<p>【数据范围】</p>
<p>对于 $50%$ 的数据：$n \leq 10$</p>
<p>对于 $80%$ 的数据：$k \leq 5 \times 10^6$</p>
<p>对于 $95%$ 的数据：$k \leq 2^{63} - 1$</p>
<p>对于 $100%$ 的数据：$1 \leq n \leq 64$, $0 \leq k \lt 2^n$</p>
<h1 id="p3884-jloi2009-二叉树问题">P3884 [JLOI2009] 二叉树问题  </h1>
<h2 id="题目描述-24">题目描述</h2>
<p>如下图所示的一棵二叉树的深度、宽度及结点间距离分别为：</p>
<ul>
<li>深度：$4$</li>
<li>宽度：$4$</li>
<li>结点 8 和 6 之间的距离：$8$</li>
<li>结点 7 和 6 之间的距离：$3$</li>
</ul>
<p>其中宽度表示二叉树上同一层最多的结点个数，节点 $u, v$ 之间的距离表示从 $u$ 到 $v$ 的最短有向路径上向根节点的边数的两倍加上向叶节点的边数。</p>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/6843.png" alt=""></p>
<p>给定一颗以 1 号结点为根的二叉树，请求出其深度、宽度和两个指定节点 $x, y$ 之间的距离。</p>
<h2 id="输入格式-24">输入格式</h2>
<p>第一行是一个整数，表示树的结点个数 $n$。<br>
接下来 $n - 1$ 行，每行两个整数 $u, v$，表示树上存在一条连接 $u, v$ 的边。<br>
最后一行有两个整数 $x, y$，表示求 $x, y$ 之间的距离。</p>
<h2 id="输出格式-24">输出格式</h2>
<p>输出三行，每行一个整数，依次表示二叉树的深度、宽度和 $x, y$ 之间的距离。</p>
<h2 id="样例-1-24">样例 #1</h2>
<h3 id="样例输入-1-24">样例输入 #1</h3>
<pre tabindex="0"><code>10                                
1 2                            
1 3                            
2 4
2 5
3 6
3 7
5 8
5 9
6 10
8 6
</code></pre><h3 id="样例输出-1-24">样例输出 #1</h3>
<pre tabindex="0"><code>4
4
8
</code></pre><h2 id="提示-18">提示</h2>
<p>对于全部的测试点，保证 $1 \leq u, v, x, y \leq n \leq 100$​，且给出的是一棵树。</p>
<h2 id="解题思路-14">解题思路</h2>
<p>读题可知题目需要求出二叉树的深度宽度与两点间最短路径，这其实是三个问题分别解决并输出，求宽度与深度可以在一个dfs中完成，开数组记录每一深度下的节点数，最大的即为宽度，对于最短路径则使用bfs，用队列保存节点，每次弹出队头并加入左右父节点，左右节点则路径加一，父节点则路径加二，直到搜索到目的。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">Treenode</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> left,right,father,val;
</span></span><span style="display:flex;"><span>}node[<span style="color:#099">101</span>];
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">Station</span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> pos,step;
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> width[<span style="color:#099">101</span>],visited[<span style="color:#099">101</span>];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">dfs</span>(Treenode nod,<span style="color:#458;font-weight:bold">int</span> deep)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span>(nod.val<span style="color:#000;font-weight:bold">!=</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>	width[deep]<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span>(nod.left<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span><span style="color:#000;font-weight:bold">&amp;&amp;</span>nod.right<span style="color:#000;font-weight:bold">==</span><span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> max(dfs(node[nod.left],deep<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>),dfs(node[nod.right],deep<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>))<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> n,i,u,v,x,y;
</span></span><span style="display:flex;"><span>	cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>n;
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		node[i].val<span style="color:#000;font-weight:bold">=</span>i;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;</span>n;i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>u<span style="color:#000;font-weight:bold">&gt;&gt;</span>v;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(<span style="color:#000;font-weight:bold">!</span>node[u].left)
</span></span><span style="display:flex;"><span>		node[u].left<span style="color:#000;font-weight:bold">=</span>v;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">else</span>
</span></span><span style="display:flex;"><span>		node[u].right<span style="color:#000;font-weight:bold">=</span>v;
</span></span><span style="display:flex;"><span>		node[v].father<span style="color:#000;font-weight:bold">=</span>u;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	cin<span style="color:#000;font-weight:bold">&gt;&gt;</span>x<span style="color:#000;font-weight:bold">&gt;&gt;</span>y;
</span></span><span style="display:flex;"><span>	<span style="color:#458;font-weight:bold">int</span> ans,wide<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>	ans<span style="color:#000;font-weight:bold">=</span>dfs(node[<span style="color:#099">1</span>],<span style="color:#099">1</span>);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;i<span style="color:#000;font-weight:bold">++</span>) 
</span></span><span style="display:flex;"><span>	wide<span style="color:#000;font-weight:bold">=</span>max(wide,width[i]);
</span></span><span style="display:flex;"><span>	cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>ans<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl<span style="color:#000;font-weight:bold">&lt;&lt;</span>wide<span style="color:#000;font-weight:bold">&lt;&lt;</span>endl;
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	
</span></span><span style="display:flex;"><span>	Station tn<span style="color:#000;font-weight:bold">=</span>{x,<span style="color:#099">0</span>};
</span></span><span style="display:flex;"><span>	queue<span style="color:#000;font-weight:bold">&lt;</span>Station<span style="color:#000;font-weight:bold">&gt;</span> tem;
</span></span><span style="display:flex;"><span>	memset(visited,<span style="color:#099">0</span>,<span style="color:#000;font-weight:bold">sizeof</span>(visited));
</span></span><span style="display:flex;"><span>	visited[x]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>	tem.push(tn);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">while</span>(<span style="color:#000;font-weight:bold">!</span>tem.empty())
</span></span><span style="display:flex;"><span>	{
</span></span><span style="display:flex;"><span>		Station nodes<span style="color:#000;font-weight:bold">=</span>tem.front();
</span></span><span style="display:flex;"><span>		tem.pop();
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(nodes.pos<span style="color:#000;font-weight:bold">==</span>y)
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			cout<span style="color:#000;font-weight:bold">&lt;&lt;</span>nodes.step;
</span></span><span style="display:flex;"><span>			<span style="color:#000;font-weight:bold">break</span>;
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#458;font-weight:bold">int</span> left<span style="color:#000;font-weight:bold">=</span>node[nodes.pos].left,right<span style="color:#000;font-weight:bold">=</span>node[nodes.pos].right,father<span style="color:#000;font-weight:bold">=</span>node[nodes.pos].father,step<span style="color:#000;font-weight:bold">=</span>nodes.step;
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(left<span style="color:#000;font-weight:bold">&amp;&amp;!</span>visited[left])
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			visited[left]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>			tem.push({left,step<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>});
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(right<span style="color:#000;font-weight:bold">&amp;&amp;!</span>visited[right])
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			visited[right]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>			tem.push({right,step<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>});
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>		<span style="color:#000;font-weight:bold">if</span>(father<span style="color:#000;font-weight:bold">&amp;&amp;!</span>visited[father])
</span></span><span style="display:flex;"><span>		{
</span></span><span style="display:flex;"><span>			visited[father]<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;
</span></span><span style="display:flex;"><span>			tem.push({father,step<span style="color:#000;font-weight:bold">+</span><span style="color:#099">2</span>});
</span></span><span style="display:flex;"><span>		}
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p6915-icpc2015-wf-weather-report">P6915 [ICPC2015 WF] Weather Report  </h1>
<h2 id="题面翻译">题面翻译</h2>
<p>给定4种天气情况出现的概率，你需要将n天的所有可能的 $4^{n}$ 种情况已某种方式编码为01串，使得：</p>
<ul>
<li>编码长度的期望最短</li>
<li>任何一个编码不是另一个编码的前缀</li>
</ul>
<p>求期望长度。</p>
<h2 id="题目描述-25">题目描述</h2>
<p><img src="./../images/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%88%B7%E9%A2%98%E9%A2%98%E5%8D%95/xqo70y6n.png" alt=""></p>
<p>You have been hired by the Association for Climatological Measurement, a scientific organization interested in tracking global weather trends over a long period of time. Of course, this is no easy task. They have deployed many small devices around the world, designed to take periodic measurements of the local weather conditions. These are cheap devices with somewhat restricted capabilities. Every day they observe which of the four standard kinds of weather occurred: Sunny, Cloudy, Rainy, or Frogs. After every $n$ of these observations have been made, the results are reported to the main server for analysis. However, the massive number of devices has caused the available communication bandwidth to be overloaded. The Association needs your help to come up with a method of compressing these reports into fewer bits.</p>
<p>For a particular device’s location, you may assume that the weather each day is an independent random event, and you are given the predicted probabilities of the four possible weather types. Each of the $4^ n$ possible weather reports for a device must be encoded as a unique sequence of bits, such that no sequence is a prefix of any other sequence (an important property, or else the server would not know when each sequence ends). The goal is to use an encoding that minimizes the expected number of transmitted bits.</p>
<h2 id="输入格式-25">输入格式</h2>
<p>The first line of input contains an integer $1 \le n \le 20$, the number of observations that go into each report. The second line contains four positive floating-point numbers, $p_{\text {sunny}}$, $p_{\text {cloudy}}$, $p_{\text {rainy}}$, and $p_{\text {frogs}}$, representing the respective weather probabilities. These probabilities have at most 6 digits after the decimal point and sum to 1.</p>
<h2 id="输出格式-25">输出格式</h2>
<p>Display the minimum expected number of bits in the encoding of a report, with an absolute or relative error of at most $10^{-4}$.</p>
<h2 id="样例-1-25">样例 #1</h2>
<h3 id="样例输入-1-25">样例输入 #1</h3>
<pre tabindex="0"><code>2
0.9 0.049999 0.05 0.000001
</code></pre><h3 id="样例输出-1-25">样例输出 #1</h3>
<pre tabindex="0"><code>1.457510
</code></pre><h2 id="样例-2-3">样例 #2</h2>
<h3 id="样例输入-2-3">样例输入 #2</h3>
<pre tabindex="0"><code>20
0.25 0.25 0.25 0.25
</code></pre><h3 id="样例输出-2-3">样例输出 #2</h3>
<pre tabindex="0"><code>40.000000
</code></pre><h2 id="提示-19">提示</h2>
<p>Time limit: 1000 ms, Memory limit: 1048576 kB.</p>
<p>International Collegiate Programming Contest (ACM-ICPC) World Finals 2015</p>
<h2 id="解题思路-15">解题思路</h2>
<ul>
<li>给出四种天气出现的概率（每天都一样），要求把nnn天中4n4n4^n种可能的天气序列映射成010101串，满足任何一个010101串不是另一个010101串的前缀，且期望串长最短。</li>
<li>n≤20n≤20n\le20</li>
</ul>
<h3 id="哈夫曼树堆贪心">哈夫曼树：堆+贪心</h3>
<p>哈夫曼树是满足∑x∈leafdepx×valx∑x∈leafdepx×valx\sum_{x\in leaf}dep_x\times val_x最小的二叉树。</p>
<p>把4n4n4^n种可能的天气序列看作叶节点，valxvalxval_x取每种天气数列出现的概率，发现上面的式子恰好就是期望的计算式。因此，只要建出哈夫曼树就解决了这道题目。</p>
<p>4n4n4^n太大不可能直接单独考虑每种天气序列。发现一种天气序列的概率只取决于其中每种天气各自的个数而与顺序无关，因此不同的概率只有C3n+3Cn+33C_{n+3}^3种，我们可以把相同的概率绑成一个pairpairpair一起求解。</p>
<p>求解的过程就是经典的堆+贪心，每次取出最小元素，先让它自己尽可能两两配对，如果有一个多余的就再和新的堆顶配对。</p>
<h3 id="答案">答案</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include&lt;bits/stdc++.h&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Tp template&lt;typename Ty&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Ts template&lt;typename Ty,typename... Ar&gt;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Rg register
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define RI Rg int
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define Cn const
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define CI Cn int&amp;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define I inline
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define W while
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define N 20
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define fi first
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define se second
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define LL long long
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define DB long double
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> n,C[N<span style="color:#000;font-weight:bold">+</span><span style="color:#099">5</span>][N<span style="color:#000;font-weight:bold">+</span><span style="color:#099">5</span>];DB p[<span style="color:#099">4</span>];<span style="color:#000;font-weight:bold">typedef</span> pair<span style="color:#000;font-weight:bold">&lt;</span>DB,LL<span style="color:#000;font-weight:bold">&gt;</span> Pr;priority_queue<span style="color:#000;font-weight:bold">&lt;</span>Pr,vector<span style="color:#000;font-weight:bold">&lt;</span>Pr<span style="color:#000;font-weight:bold">&gt;</span>,greater<span style="color:#000;font-weight:bold">&lt;</span>Pr<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">&gt;</span> q;
</span></span><span style="display:flex;"><span>I <span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">dfs</span>(CI x,CI t,DB w,Cn LL<span style="color:#000;font-weight:bold">&amp;</span> s)<span style="color:#998;font-style:italic">//暴搜可能状态
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>{
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">if</span>(x<span style="color:#000;font-weight:bold">==</span><span style="color:#099">3</span>) {<span style="color:#000;font-weight:bold">for</span>(RI i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>t;<span style="color:#000;font-weight:bold">++</span>i) w<span style="color:#000;font-weight:bold">*=</span>p[x];q.push(make_pair(w,s));<span style="color:#000;font-weight:bold">return</span>;}<span style="color:#998;font-style:italic">//概率和个数绑成pair扔入堆
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">for</span>(RI i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>t;<span style="color:#000;font-weight:bold">++</span>i) dfs(x<span style="color:#000;font-weight:bold">+</span><span style="color:#099">1</span>,t<span style="color:#000;font-weight:bold">-</span>i,w,s<span style="color:#000;font-weight:bold">*</span>C[t][i]),w<span style="color:#000;font-weight:bold">*=</span>p[x];
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>	RI i,j;<span style="color:#000;font-weight:bold">for</span>(scanf(<span style="color:#d14">&#34;%d&#34;</span>,<span style="color:#000;font-weight:bold">&amp;</span>n),i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;i<span style="color:#000;font-weight:bold">^</span><span style="color:#099">4</span>;<span style="color:#000;font-weight:bold">++</span>i) scanf(<span style="color:#d14">&#34;%Lf&#34;</span>,p<span style="color:#000;font-weight:bold">+</span>i);
</span></span><span style="display:flex;"><span>	<span style="color:#000;font-weight:bold">for</span>(C[<span style="color:#099">0</span>][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span>i<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;i<span style="color:#000;font-weight:bold">&lt;=</span>n;<span style="color:#000;font-weight:bold">++</span>i) <span style="color:#000;font-weight:bold">for</span>(C[i][<span style="color:#099">0</span>]<span style="color:#000;font-weight:bold">=</span>j<span style="color:#000;font-weight:bold">=</span><span style="color:#099">1</span>;j<span style="color:#000;font-weight:bold">&lt;=</span>i;<span style="color:#000;font-weight:bold">++</span>j) C[i][j]<span style="color:#000;font-weight:bold">=</span>C[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>]<span style="color:#000;font-weight:bold">+</span>C[i<span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>][j];
</span></span><span style="display:flex;"><span>	<span style="color:#999;font-weight:bold;font-style:italic">#define Push(x,y) (q.push(make_pair(x,y)),ans+=(x)*(y))</span><span style="color:#998;font-style:italic">//合并得到y个x，扔入堆，同时统计答案
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	dfs(<span style="color:#099">0</span>,n,<span style="color:#099">1</span>,<span style="color:#099">1</span>);Pr k,o;DB ans<span style="color:#000;font-weight:bold">=</span><span style="color:#099">0</span>;W(<span style="color:#000;font-weight:bold">!</span>q.empty()) k<span style="color:#000;font-weight:bold">=</span>q.top(),q.pop(),
</span></span><span style="display:flex;"><span>		k.se<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">&amp;&amp;</span>Push(<span style="color:#099">2</span><span style="color:#000;font-weight:bold">*</span>k.fi,k.se<span style="color:#000;font-weight:bold">&gt;&gt;</span><span style="color:#099">1</span>),k.se<span style="color:#000;font-weight:bold">&amp;</span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">&amp;&amp;!</span>q.empty()<span style="color:#000;font-weight:bold">&amp;&amp;</span>(o<span style="color:#000;font-weight:bold">=</span>q.top(),q.pop(),<span style="color:#000;font-weight:bold">--</span>o.se<span style="color:#000;font-weight:bold">&amp;&amp;</span>(q.push(o),<span style="color:#099">0</span>),Push(k.fi<span style="color:#000;font-weight:bold">+</span>o.fi,<span style="color:#099">1</span>));<span style="color:#998;font-style:italic">//尽可能自己两两配对，若有剩余和新的堆顶配对
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>	<span style="color:#000;font-weight:bold">return</span> printf(<span style="color:#d14">&#34;%.4Lf</span><span style="color:#d14">\n</span><span style="color:#d14">&#34;</span>,ans),<span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h1 id="p3916-图的遍历">P3916 图的遍历  </h1>
<h2 id="题目描述-26">题目描述</h2>
<p>给出 $N$ 个点，$M$ 条边的有向图，对于每个点 $v$，求 $A(v)$ 表示从点 $v$ 出发，能到达的编号最大的点。</p>
<h2 id="输入格式-26">输入格式</h2>
<p>第 $1$ 行 $2$ 个整数 $N,M$，表示点数和边数。</p>
<p>接下来 $M$ 行，每行 $2$ 个整数 $U_i,V_i$，表示边 $(U_i,V_i)$。点用 $1,2,\dots,N$ 编号。</p>
<h2 id="输出格式-26">输出格式</h2>
<p>一行 $N$ 个整数 $A(1),A(2),\dots,A(N)$。</p>
<h2 id="样例-1-26">样例 #1</h2>
<h3 id="样例输入-1-26">样例输入 #1</h3>
<pre tabindex="0"><code>4 3
1 2
2 4
4 3
</code></pre><h3 id="样例输出-1-26">样例输出 #1</h3>
<pre tabindex="0"><code>4 4 3 4
</code></pre><h2 id="提示-20">提示</h2>
<ul>
<li>对于 $60%$ 的数据，$1 \leq N,M \leq 10^3$。</li>
<li>对于 $100%$ 的数据，$1 \leq N,M \leq 10^5$​。</li>
</ul>
<h2 id="解题思路-16">解题思路</h2>
<p>使用链式前向星</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;iostream&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#include</span> <span style="color:#999;font-weight:bold;font-style:italic">&lt;cstring&gt;</span><span style="color:#999;font-weight:bold;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">using</span> <span style="color:#000;font-weight:bold">namespace</span> std;
</span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic">#define AUTHOR &#34;HEX9CF&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#999;font-weight:bold;font-style:italic"></span><span style="color:#000;font-weight:bold">const</span> <span style="color:#458;font-weight:bold">int</span> maxn <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">100005</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> cnt <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> maxi[maxn];
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">// 链式前向星
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">struct</span> <span style="color:#458;font-weight:bold">Sedge</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> to;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> next;
</span></span><span style="display:flex;"><span>} edge[maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> head[maxn];
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">add</span>(<span style="color:#458;font-weight:bold">int</span> u, <span style="color:#458;font-weight:bold">int</span> v)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    edge[cnt].to <span style="color:#000;font-weight:bold">=</span> v;
</span></span><span style="display:flex;"><span>    edge[cnt].next <span style="color:#000;font-weight:bold">=</span> head[u];
</span></span><span style="display:flex;"><span>    head[u] <span style="color:#000;font-weight:bold">=</span> cnt<span style="color:#000;font-weight:bold">++</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">dfs</span>(<span style="color:#458;font-weight:bold">int</span> x, <span style="color:#458;font-weight:bold">int</span> ori)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">if</span> (maxi[x])
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">return</span>;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    maxi[x] <span style="color:#000;font-weight:bold">=</span> ori;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> head[x]; <span style="color:#000;font-weight:bold">~</span>i; i <span style="color:#000;font-weight:bold">=</span> edge[i].next)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        dfs(edge[i].to, ori);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">void</span> <span style="color:#900;font-weight:bold">read</span>(<span style="color:#458;font-weight:bold">int</span> <span style="color:#000;font-weight:bold">&amp;</span>x)
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">char</span> ch;
</span></span><span style="display:flex;"><span>    x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> (<span style="color:#000;font-weight:bold">!</span>(<span style="color:#d14">&#39;0&#39;</span> <span style="color:#000;font-weight:bold">&lt;=</span> ch <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">&#39;9&#39;</span> <span style="color:#000;font-weight:bold">&gt;=</span> ch))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        ch <span style="color:#000;font-weight:bold">=</span> getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">while</span> ((<span style="color:#d14">&#39;0&#39;</span> <span style="color:#000;font-weight:bold">&lt;=</span> ch <span style="color:#000;font-weight:bold">&amp;&amp;</span> <span style="color:#d14">&#39;9&#39;</span> <span style="color:#000;font-weight:bold">&gt;=</span> ch))
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        x <span style="color:#000;font-weight:bold">=</span> x <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">+</span> ch <span style="color:#000;font-weight:bold">-</span> <span style="color:#d14">&#39;0&#39;</span>;
</span></span><span style="display:flex;"><span>        ch <span style="color:#000;font-weight:bold">=</span> getchar();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#458;font-weight:bold">int</span> <span style="color:#900;font-weight:bold">main</span>()
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> n, m;
</span></span><span style="display:flex;"><span>    <span style="color:#458;font-weight:bold">int</span> a, b;
</span></span><span style="display:flex;"><span>    memset(head, <span style="color:#000;font-weight:bold">-</span><span style="color:#099">1</span>, <span style="color:#000;font-weight:bold">sizeof</span>(head));
</span></span><span style="display:flex;"><span>    memset(maxi, <span style="color:#099">0</span>, <span style="color:#000;font-weight:bold">sizeof</span>(maxi));
</span></span><span style="display:flex;"><span>    read(n);
</span></span><span style="display:flex;"><span>    read(m);
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> m; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        read(a);
</span></span><span style="display:flex;"><span>        read(b);
</span></span><span style="display:flex;"><span>        add(b, a); <span style="color:#998;font-style:italic">// 反向添加边
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> n; i; i<span style="color:#000;font-weight:bold">--</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#998;font-style:italic">// 反向搜索
</span></span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"></span>        dfs(i, i);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">for</span> (<span style="color:#458;font-weight:bold">int</span> i <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>; i <span style="color:#000;font-weight:bold">&lt;=</span> n; i<span style="color:#000;font-weight:bold">++</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> maxi[i];
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">if</span> (i <span style="color:#000;font-weight:bold">!=</span> n)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            cout <span style="color:#000;font-weight:bold">&lt;&lt;</span> <span style="color:#d14">&#34; &#34;</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">return</span> <span style="color:#099">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
    </div>

    

    

    <div class="container-prevnext">
    <div><a href="https://one-ruri.github.io/posts/%E4%BB%A3%E7%A0%81%E9%9A%8F%E6%83%B3%E5%BD%95%E7%AA%81%E5%87%BB%E7%89%88%E5%AD%A6%E4%B9%A0/">← 代码随想录突击版学习</a></div>
    <div><a href="https://one-ruri.github.io/posts/js%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-vue%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95/">js基本语法&amp;vue基本语法  →</a></div>
</div>
    
    <div class="container-comment">
	<script src="https://utteranc.es/client.js"
        repo="loveminimal/comment"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
	</script>
</div>

    
</div>

        </div>
        <div id="footer"><div class="container-footer">
    
    <a href="//beian.miit.gov.cn" target="_blank">
        
        豫ICP备2022002918号-1
        
    </a>
    <a id="s" href="/secrets">&nbsp;</a>
    
</div></div>
    </body>
</html>
